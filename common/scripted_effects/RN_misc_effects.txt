### Nuke Effects
### Written by Me, Reof
#
# How to use:
#
#	ICBM_attack_destruction = yes
#	ICBM_attack_weak = yes
#

ICBM_attack_destruction = {
random_list = { 
75 = {
        modifier = {
            factor = 0.3
            anti_air_building > 5
        }		
    set_state_name = "Destroyed Ruin"	
	set_state_flag = nuclear_destroyed
	set_state_category = wasteland
	add_manpower = -200000
	remove_building = {
    type = infrastructure
    level = infrastructure_level	
}	
	NUC = {
	set_state_controller = PREV
	}
if = {
    limit = { 
	OR = {
	state = 195 
	state = 219
	state = 137
	state = 202
	state = 217
	state = 13
	state = 214
	} }
controller = {
news_event = { 
id = worldnews.1000
}
}	
}
}
25 = {
add_manpower = -200000	
if = {
    limit = {
	OR = {
	state = 195 
	state = 219
	state = 137
	state = 202
	state = 217
	state = 13
	state = 214
	} }
controller = {
news_event = { 
id = worldnews.1001
}
}	
}
}
}	
}

kill_sergey_taboritsky = {
hidden_effect = {
random_list = {
    25 = {
    country_event = {
    id = rustabby.1
	days = 2
	}
    }
    25 = {
    country_event = {
    id = rustabby.1
	days = 2
	}
    }
    25 = {
    country_event = {
    id = rustabby.1
	days = 2
	}
    }
    25 = {
    country_event = {
    id = rustabby.1
	days = 2
	}
    }
}
}
}

FRA_reformeter_check = {
        set_temp_variable = { temp1 = party_popularity@nationalist_socialism }
        set_temp_variable = { temp2 = party_popularity@revolutionary_socialism }	
        set_temp_variable = { temp3 = party_popularity@syndicalism }		
        set_temp_variable = { temp4 = party_popularity@moderate_socialist }		
		add_to_temp_variable = { temp1 = temp2 }
		add_to_temp_variable = { temp1 = temp3 }
		add_to_temp_variable = { temp1 = temp4 }
		divide_temp_variable = { temp2 = temp1 }		
		multiply_temp_variable = { temp2 = 100 }
		round_temp_variable = temp2
        set_variable = { FRA_reform_value = temp2 }	
}

FRA_reformeter_check_2 = {
        set_temp_variable = { temp1 = party_popularity@nationalist_socialism }
        set_temp_variable = { temp2 = party_popularity@revolutionary_socialism }	
        set_temp_variable = { temp3 = party_popularity@syndicalism }		
        set_temp_variable = { temp4 = party_popularity@moderate_socialist }		
        set_temp_variable = { temp5 = party_popularity@ruling_party }				
		add_to_temp_variable = { temp1 = temp2 }
		add_to_temp_variable = { temp1 = temp3 }
		add_to_temp_variable = { temp1 = temp4 }
		divide_temp_variable = { temp5 = temp1 }		
		multiply_temp_variable = { temp5 = 100 }
		round_temp_variable = temp5
        set_variable = { FRA_reform_value2 = temp5 }	
}
