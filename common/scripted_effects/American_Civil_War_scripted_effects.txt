USA_initial_events = {
	USA = {
		country_event = { id = amcivwar.311 hours = 8 } #MacArthur's Warning
		country_event = { id = amcivwar.300 days = 2 } #New England riots
		country_event = { id = amcivwar.310 days = 15 } #Nevada
		country_event = { id = amcivwar.312 days = 25 } #Deadline Running Out
	}
	JAP = {
		country_event = { id = japfor.225 days = 30 }
	}
	if = {
		limit = { has_country_flag = USA_ACW_compromise_rejected }
		country_event = { id = amcivwar.322 days = 7 } #North Carolina
		country_event = { id = amcivwar.324 days = 9 } #Tennessee
		country_event = { id = amcivwar.329 days = 12 } #Southern Texas
		country_event = { id = amcivwar.334 days = 15 } #Kentucky
		country_event = { id = amcivwar.335 days = 20 } #Virginia
	}
	else_if = {
		limit = { has_country_flag = USA_ACW_austerity_rejected }
		country_event = { id = amcivwar.320 days = 5 } #Minnesota
		country_event = { id = amcivwar.326 days = 9 } #New York/New Jersey
		country_event = { id = amcivwar.330 days = 12 } #Iowa
		country_event = { id = amcivwar.332 days = 15 } #Missouri
		country_event = { id = amcivwar.333 days = 20 } #Upstate New York
	}
	else = {
		random_other_country = {
			limit = { is_ai = yes }
			country_event = { id = amcivwar.301 days = 5 } #Minnesota
			country_event = { id = amcivwar.302 days = 7 } #North Carolina
			country_event = { id = amcivwar.303 days = 9 } #Tennessee
			country_event = { id = amcivwar.304 days = 12 } #New York/New Jersey
			country_event = { id = amcivwar.306 days = 18 } #Southern Texas
			country_event = { id = amcivwar.307 days = 20 } #Iowa
		}
	}
}

CSA_initial_events = {
	CSA = {
		if = {
			limit = {
				USA = { has_country_flag = USA_reed_was_president }
			}
			add_timed_idea = {
				idea = CSA_righteous_nation
				days = 90
			}
		}
		if = {
			limit = { AST = { has_socialist_government = yes } }
			remove_opinion_modifier = { target = AST modifier = embargo }
		}
		country_event = { id = csa.150 days = 6 } # Initialization event
		country_event = { id = amcivwar.43 days = 14 } # Revolutionary Staff Leader
		country_event = { id = amcivwar.44 days = 21 } # Revolutionary Staff Leader
		country_event = { id = amcivwar.45 days = 28 } # Leader of the People's Air Force
		country_event = { id = amcivwar.30 days = 40  random = 240 } # Dealing with the Rich
		country_event = { id = amcivwar.38 days = 70  random = 480 } # Revolutionary Propaganda
		country_event = { id = amcivwar.36 days = 100 random = 480 } # Internal Conflicts
		country_event = { id = amcivwar.40 days = 130 random = 480 } # Protecting against Saboteurs
		country_event = { id = amcivwar.41 days = 160 random = 480 } # Red Terror
	}
	set_global_flag = USA_CSA_existed
}

TEX_initial_events = {
	TEX = {
		if = {
			limit = {
				USA = { has_country_flag = USA_long_was_president }
			}
			add_timed_idea = {
				idea = TEX_righteous_nation
				days = 90
			}
		}
		country_event = { id = unionstate.150 days = 7 } #Initial Events
		country_event = { id = amcivwar.50 days = 14 } # Chief of Staff
		country_event = { id = amcivwar.51 days = 21 } # Chief of Army
		country_event = { id = amcivwar.53 days = 28 } # Chief of Air Force
		country_event = { id = amcivwar.52 days = 35 } # Chief of Navy
		country_event = { id = amcivwar.46 days = 40 random = 240 } # Appeal to Reason
		country_event = { id = amcivwar.48 days = 60 random = 480 } # Pledge of Alliegence

	}
	set_global_flag = USA_TEX_existed
}

CAL_initial_events = {
	CAL = {
		country_event = { id = pacificstates.150 days = 1 } #Initial Events
		country_event = { id = amcivwar.77 days = 7 } #Chief of Staff
		country_event = { id = amcivwar.78 days = 14 } #Chief of Army
		country_event = { id = amcivwar.80 days = 21 } #Chief of Air Force
		country_event = { id = amcivwar.79 days = 28 } #Chief of Navy
	}
	set_global_flag = USA_CAL_existed
}

USA_release_CSA = {
	hidden_effect = {
		CSA = {
			add_state_core = 395
			add_state_core = 394
			add_state_core = 393
			add_state_core = 396
			add_state_core = 261
			add_state_core = 360
			add_state_core = 929
			set_cosmetic_tag = CSA_ACW
		}

		USA = {
			CSA = { transfer_technology = yes }
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
			if = {
				limit = { country_exists = TEX }
				load_oob = "USA_civil_war_reenforcments"
			}
			if = {
				limit = {
					OR = {
						has_country_flag = USA_assassinated_long
						has_country_flag = USA_ACW_austerity_rejected
					}
				}
				load_oob = "USA_civil_war_reenforcments2"
			}
			if = {
				limit = {
					OR = {
						country_exists = TEX
						has_country_flag = USA_assassinated_long
						has_country_flag = USA_ACW_austerity_rejected
					}
				}
				set_cosmetic_tag = USA_ACW
				country_event = kr.political.208

				# idea changes
				if = {
					limit = { has_idea = USA_black_monday }
					remove_ideas = USA_black_monday
				}
				if = {
					limit = { has_idea = USA_black_monday2 }
					remove_ideas = USA_black_monday2
				}
				if = {
					limit = { has_idea = USA_new_year_strike_idea }
					remove_ideas = USA_new_year_strike_idea
				}
				if = {
					limit = { has_idea = USA_political_crisis }
					remove_ideas = USA_political_crisis
				}
				if = {
					limit = { has_idea = isolation }
					add_ideas = civilian_economy
				}
			}
			if = {
				limit = { has_country_flag = USA_assassinated_long }
				CSA = {
					add_political_power = 100
					add_manpower = 75000
				}
			}
			if = {
				limit = { has_country_flag = USA_ACW_austerity_rejected }
				CSA = {
					add_political_power = 100
					add_manpower = 150000
					add_war_support = 0.10
					add_stability = 0.15
				}
			}
		}

		every_owned_state = {
			limit = { is_core_of = CSA }
			CSA = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = {
					is_core_of = CSA
					is_claimed_by = CSA
					state = 630 #Johnston Atoll
					state = 631 #Midway
					state = 632 #Wake
					state = 638 #Guam
					state = 685 #Panama Canal
					state = 686 #Puerto Rico
					state = 726 #Samoa
					state = 727 #Line Islands
					state = 818 #Guantanamo
				}
			}
			add_claim_by = CSA
		}

		set_country_flag = Jack_Reed_dead
		set_country_flag = Eugene_Dennis_dead
		set_country_flag = Paul_Mattick_dead
		set_country_flag = John_Abt_dead

		every_unit_leader = {
			limit = {
				OR = {
					has_id = 60 #Smedley Butler
					has_id = 61 #Herbert Holdridge
				}
			}
			set_nationality = CSA
		}

		CSA = {
			if = {
				limit = { has_template = "Revolutionary Militia" }
				delete_unit_template_and_units = { division_template = "Revolutionary Militia" }
			}
			if = {
				limit = { has_template = "Mounted Revolutionary Militia" }
				delete_unit_template_and_units = { division_template = "Mounted Revolutionary Militia" }
			}
			if = {
				limit = { has_template = "Revolutionary Garrison" }
				delete_unit_template_and_units = { division_template = "Revolutionary Garrison" }
			}
			if = {
				limit = { has_template = "Revolutionary Continental Army" }
				delete_unit_template_and_units = { division_template = "Revolutionary Continental Army" }
			}
			if = {
				limit = { has_template = "Red Guard" }
				delete_unit_template_and_units = { division_template = "Red Guard" }
			}
			if = {
				limit = { has_template = "Revolutionary Armor" }
				delete_unit_template_and_units = { division_template = "Revolutionary Armor" }
			}
			if = {
				limit = { has_template = "Revolutionary Heavy Armor" }
				delete_unit_template_and_units = { division_template = "Revolutionary Heavy Armor" }
			}
			if = {
				limit = { has_template = "Revolutionary Mobile Divisions" }
				delete_unit_template_and_units = { division_template = "Revolutionary Mobile Divisions" }
			}
			if = {
				limit = { has_template = "CSA Resistance" }
				delete_unit_template_and_units = { division_template = "CSA Resistance" }
			}
			every_unit_leader = {
				limit = { has_id = 60 }
				promote_leader = yes
			}
			load_oob = "USA_civil_war_csa_army"
			country_event = { id = amcivwar.337 days = 1 }
			set_equipment_fraction = 0.35
			add_ideas = {
				CSA_militia_idea
				extensive_conscription
			}
			if = {
				limit = {
					USA = { has_country_flag = USA_reed_was_president }
				}
				add_stability = -0.25
			}
			else = {
				add_stability = -0.35
			}
			if = {
				limit = { has_template = "National Guard Division" }
				delete_unit_template_and_units = { division_template = "National Guard Division" }
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Cavalry Division" }
				delete_unit_template_and_units = { division_template = "Cavalry Division" }
			}
			if = {
				limit = { has_template = "Armored Division" }
				delete_unit_template_and_units = { division_template = "Armored Division" }
			}
			if = {
				limit = { has_template = "Heavy Armor Division" }
				delete_unit_template_and_units = { division_template = "Heavy Armor Division" }
			}
			if = {
				limit = { has_template = "Marine Division" }
				delete_unit_template_and_units = { division_template = "Marine Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}

		# Atlantic Battle Fleet
		transfer_ship = { prefer_name = "CSS Colorado" type = battleship target = XXA }
		transfer_ship = { prefer_name = "CSS Constellation" type = battle_cruiser target = XXA }
		transfer_ship = { prefer_name = "CSS Nevada" type = battleship target = XXA }
		transfer_ship = { prefer_name = "CSS Langley" type = carrier target = XXA }
		send_equipment = {
			type = cv_fighter_equipment
			amount = 8
			target = CSA
		}
		send_equipment = {
			type = cv_CAS_equipment
			amount = 6
			target = CSA
		}
		send_equipment = {
			type = cv_nav_bomber_equipment
			amount = 6
			target = CSA
		}
		transfer_ship = { prefer_name = "USS Pittsburgh" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Charlotte" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Abel P. Upshur" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Goldsborough" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Graham" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Mason" type = destroyer target = XXA }

		# Atlantic Submarine Fleet
		transfer_ship = { prefer_name = "USS O1" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O2" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O3" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O4" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R1" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R2" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R3" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R4" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R5" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R6" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S1" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S2" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S3" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S4" type = submarine target = XXA }

		# Pacific Submarine Fleet
		transfer_ship = { prefer_name = "USS O6" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O7" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O8" type = submarine target = XXA }

		# Carribian Fleet
		transfer_ship = { prefer_name = "USS Connor" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Craven" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Caldwell" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Evans" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Gwin" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Kimberly" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Little" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Manley" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stockton" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Philip" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Wickes" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Woolsey" type = destroyer target = XXA }

		CSA = {
			annex_country = { target = XXA }
			load_oob = ACW_CSA_naval
		}
	}
}

USA_release_TEX = {
	hidden_effect = {
		TEX = {
			add_state_core = 371
			add_state_core = 372
			add_state_core = 374
			add_state_core = 375
			add_state_core = 370
			add_state_core = 367
			add_state_core = 365
			add_state_core = 364
			add_state_core = 366
			add_state_core = 833
			set_cosmetic_tag = TEX_ACW
		}

		USA = {
			TEX = { transfer_technology = yes }
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
			if = {
				limit = { country_exists = CSA }
				load_oob = "USA_civil_war_reenforcments"
			}
			if = {
				limit = {
					OR = {
						has_country_flag = USA_assassinated_reed
						has_country_flag = USA_ACW_compromise_rejected
					}
				}
				load_oob = "USA_civil_war_reenforcments2"
			}
			if = {
				limit = {
					OR = {
						country_exists = CSA
						has_country_flag = USA_assassinated_reed
						has_country_flag = USA_ACW_compromise_rejected
					}
				}
				set_cosmetic_tag = USA_ACW
				country_event = kr.political.208

				# idea changes
				if = {
					limit = { has_idea = USA_black_monday }
					remove_ideas = USA_black_monday
				}
				if = {
					limit = { has_idea = USA_black_monday2 }
					remove_ideas = USA_black_monday2
				}
				if = {
					limit = { has_idea = USA_new_year_strike_idea }
					remove_ideas = USA_new_year_strike_idea
				}
				if = {
					limit = { has_idea = USA_political_crisis }
					remove_ideas = USA_political_crisis
				}
				if = {
					limit = { has_idea = isolation }
					add_ideas = civilian_economy
				}
			}
			if = {
				limit = { has_country_flag = USA_assassinated_reed }
				TEX = {
					add_political_power = 100
					add_manpower = 75000
				}
			}
			if = {
				limit = { has_country_flag = USA_ACW_compromise_rejected }
				TEX = {
					add_political_power = 100
					add_manpower = 150000
					add_war_support = 0.10
					add_stability = 0.15
				}
			}
		}

		every_owned_state = {
			limit = { is_core_of = TEX }
			TEX = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = {
					is_core_of = TEX
					is_claimed_by = TEX
					state = 630 #Johnston Atoll
					state = 631 #Midway
					state = 632 #Wake
					state = 638 #Guam
					state = 685 #Panama Canal
					state = 686 #Puerto Rico
					state = 726 #Samoa
					state = 727 #Line Islands
					state = 818 #Guantanamo
				}
			}
			add_claim_by = TEX
		}

		every_unit_leader = {
			limit = {
				OR = {
					has_id = 57 #George S. Patton
					has_id = 59 #George Van Horn Mosely
					has_id = 988 #Fox Conner
				}
			}
			set_nationality = TEX
		}
		every_navy_leader = {
			limit = { has_id = 63 } #William Halsey Jr.
			set_nationality = TEX
		}

		set_country_flag = Huey_Long_dead
		set_country_flag = Charles_Coughlin_dead
		set_country_flag = Henry_Ford_dead
		set_country_flag = Gerald_K_Smith_dead

		TEX = {
			if = {
				limit = { has_template = "AUS Militia" }
				delete_unit_template_and_units = { division_template = "AUS Militia" }
			}
			if = {
				limit = { has_template = "Mounted AUS Militia" }
				delete_unit_template_and_units = { division_template = "Mounted AUS Militia" }
			}
			if = {
				limit = { has_template = "AUS Garrison" }
				delete_unit_template_and_units = { division_template = "AUS Garrison" }
			}
			if = {
				limit = { has_template = "AUS Infantry Division" }
				delete_unit_template_and_units = { division_template = "AUS Infantry Division" }
			}
			if = {
				limit = { has_template = "AUS Motorized Division" }
				delete_unit_template_and_units = { division_template = "AUS Motorized Division" }
			}
			if = {
				limit = { has_template = "AUS Resistance" }
				delete_unit_template_and_units = { division_template = "AUS Resistance" }
			}
			every_unit_leader = {
				limit = { has_id = 59 }
				promote_leader = yes
				add_unit_leader_trait = thorough_planner
				add_unit_leader_trait = logistics_wizard
			}
			every_unit_leader = {
				limit = { has_id = 57 }
				promote_leader = yes
			}
			load_oob = "USA_civil_war_aus_army"
			country_event = { id = amcivwar.336 days = 1 }
			set_equipment_fraction = 0.35
			add_ideas = {
				extensive_conscription
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}

		# Atlantic Battle Fleet
		transfer_ship = { prefer_name = "USS Lexington" type = battle_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS New York" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Arizona" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Pennsylvania" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Missoula" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Seattle" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Satterlee" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Semmes" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Alwyin" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dale" type = destroyer target = XXA }

		# Atlantic Submarine Fleet
		transfer_ship = { prefer_name = "USS S5" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S6" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S7" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S8" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S9" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S10" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS Argonaut" type = submarine target = XXA }

		# Pacific Submarine Fleet
		transfer_ship = { prefer_name = "USS O9" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS O10" type = submarine target = XXA }

		TEX = {
			annex_country = { target = XXA }
			load_oob = ACW_TEX_naval
		}
	}
}

USA_release_CAL = {
	hidden_effect = {
		set_global_flag = ACW_pacific_states_revolted

		CAL = {
			add_state_core = 829
			add_state_core = 798
			add_state_core = 797
			add_state_core = 378
			add_state_core = 385
			add_state_core = 386
			set_cosmetic_tag = CAL_ACW
		}

		USA = {
			CAL = { transfer_technology = yes }
		}

		every_owned_state = {
			limit = { is_core_of = CAL }
			CAL = { transfer_state = PREV }
		}

		every_state = {
			limit = {
				is_core_of = USA
				NOT = {
					is_core_of = CAL
					is_claimed_by = CAL
					state = 630 #Johnston Atoll
					state = 631 #Midway
					state = 632 #Wake
					state = 638 #Guam
					state = 685 #Panama Canal
					state = 686 #Puerto Rico
					state = 726 #Samoa
					state = 727 #Line Islands
					state = 818 #Guantanamo
				}
			}
			add_claim_by = CAL
		}

		every_unit_leader = {
			limit = {
				OR = {
					has_id = 58 #Henry H. Arnold
					has_id = 64 #George Marshall
				}
			}
			set_nationality = CAL
		}
		every_navy_leader = {
			limit = { has_id = 62 } #Chester W. Nimitz
			set_nationality = TEX
		}

		set_country_flag = Glen_H_Taylor_dead
		set_country_flag = Henry_Wallace_dead
		set_country_flag = Philip_La_Follette_dead
		set_country_flag = Adolf_Augustus_Berle_Jr_dead
		set_country_flag = Alger_Hiss_dead
		set_country_flag = George_Catlett_Marshall_Jr_dead
		set_country_flag = Hugh_Simons_Gibson_dead
		set_country_flag = Ralph_Johnson_Bunche_dead
		set_country_flag = Ellard_A_Walsh_dead
		set_country_flag = George_Henry_Dern_dead
		set_country_flag = Harry_Lloyd_Hopkins_dead
		set_country_flag = Hjalmar_Petersen_dead
		set_country_flag = Jesse_Holman_Jones_dead
		set_country_flag = Konrad_Knute_Solberg_dead
		set_country_flag = Harold_LeClair_Ickes_dead
		set_country_flag = Francis_Beverley_Biddle_dead
		set_country_flag = Elmer_Austin_Benson_dead
		set_country_flag = Bronson_Murray_Cutting_dead
		set_country_flag = Henry_Martin_Arens_dead
		set_country_flag = Magnus_Johnson_dead
		set_country_flag = Charles_L_McNary_dead
		set_country_flag = Earl_Warren_dead
		set_country_flag = John_Foster_Dulles_dead
		set_country_flag = Charles_Evans_Hughes_Sr_dead
		set_country_flag = Chester_William_Nimitz_Sr_dead

		CAL = {
			if = {
				limit = { has_template = "Mounted PSA Militia" }
				delete_unit_template_and_units = { division_template = "Mounted PSA Militia" }
			}
			if = {
				limit = { has_template = "PSA Militia" }
				delete_unit_template_and_units = { division_template = "PSA Militia" }
			}
			if = {
				limit = { has_template = "PSA Garrison" }
				delete_unit_template_and_units = { division_template = "PSA Garrison" }
			}
			if = {
				limit = { has_template = "PSA Infantry Division" }
				delete_unit_template_and_units = { division_template = "PSA Infantry Division" }
			}
			if = {
				limit = { has_template = "PSA Motorized Division" }
				delete_unit_template_and_units = { division_template = "PSA Motorized Division" }
			}
			if = {
				limit = { has_template = "PSA Resistance" }
				delete_unit_template_and_units = { division_template = "PSA Resistance" }
			}
			load_oob = "USA_civil_war_psa_army"
			set_equipment_fraction = 0.35
			add_ideas = {
				extensive_conscription
			}
			if = {
				limit = { has_template = "Infantry Division" }
				delete_unit_template_and_units = { division_template = "Infantry Division" }
			}
			if = {
				limit = { has_template = "Panama Canal Garrison" }
				delete_unit_template_and_units = { division_template = "Panama Canal Garrison" }
			}
			if = {
				limit = { has_template = "Motorized Division" }
				delete_unit_template_and_units = { division_template = "Motorized Division" }
			}
			if = {
				limit = { has_template = "Loyalist Militia" }
				delete_unit_template_and_units = { division_template = "Loyalist Militia" }
			}
			if = {
				limit = { has_template = "Mounted Loyalists" }
				delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
			}
			if = {
				limit = { has_template = "Loyalist Garrison" }
				delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
			}
			if = {
				limit = { has_template = "Loyalist Motorized Guard" }
				delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
			}
			if = {
				limit = { has_template = "Army Loyalists" }
				delete_unit_template_and_units = { division_template = "Army Loyalists" }
			}
			if = {
				limit = { has_template = "USA Resistance" }
				delete_unit_template_and_units = { division_template = "USA Resistance" }
			}
		}

		# Pacific Fleet
		transfer_ship = { prefer_name = "USS Yorktown" type = carrier target = CAL }
		send_equipment = {
			type = cv_fighter_equipment
			amount = 24
			target = CAL
		}
		send_equipment = {
			type = cv_CAS_equipment
			amount = 18
			target = CAL
		}
		send_equipment = {
			type = cv_nav_bomber_equipment
			amount = 18
			target = CAL
		}
		transfer_ship = { prefer_name = "USS United States" type = battle_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Washington" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS West Virginia" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Idaho" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS New Mexico" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Tennessee" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Iowa" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Massachusetts" type = battleship target = XXA }
		transfer_ship = { prefer_name = "USS Frederick" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Huron" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Pueblo" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS San Diego" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Concord" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Marblehead" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Branch" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dallas" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Herndon" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Hunt" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS George E. Badger" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Welborn C. Wood" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS McDougal" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Balch" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Clark" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Moffett" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Phelps" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Porter" type = destroyer target = XXA }

		# Pacific Submarine Fleet
		transfer_ship = { prefer_name = "USS R7" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R8" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R9" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R10" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R11" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS R12" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S11" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S12" type = submarine target = XXA }
		transfer_ship = { prefer_name = "USS S13" type = submarine target = XXA }


		# Seattle Fleet
		transfer_ship = { prefer_name = "USS Colhoun" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Clemson" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dahlgren" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Dyer" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Gregory" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS McKean" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS McKee" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Ringgold" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Robinson" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Sigourney" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stevens" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Stringham" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "USS Huntington" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "USS Omaha" type = heavy_cruiser target = XXA }

		CAL = {
			annex_country = { target = XXA }
			load_oob = ACW_PSA_naval
		}
	}
}

USA_civil_war_begins = {
	hidden_effect = {
		set_global_flag = USA_civil_war_begun_flag

		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 364
					state = 369
					state = 370
					state = 374
					state = 377
					state = 382
					state = 383
					state = 391
					state = 833
					state = 930
				}
			}
			remove_building = { type = industrial_complex level = 1 }
			add_building_construction = { type = arms_factory level = 1 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 359
					state = 362
					state = 363
					state = 365
					state = 366
					state = 371
					state = 372
					state = 392
					state = 929
				}
			}
			remove_building = { type = industrial_complex level = 2 }
			add_building_construction = { type = arms_factory level = 2 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 367
					state = 368
					state = 395
					state = 829
				}
			}
			remove_building = { type = industrial_complex level = 3 }
			add_building_construction = { type = arms_factory level = 3 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 360
					state = 373
					state = 393
					state = 797
				}
			}
			remove_building = { type = industrial_complex level = 4 }
			add_building_construction = { type = arms_factory level = 4 instant_build = yes }
		}
		every_state = {
			limit = {
				owner = { is_american_tag = yes }
				OR = {
					state = 261
					state = 375
					state = 361
					state = 394
					state = 396
				}
			}
			remove_building = { type = industrial_complex level = 5 }
			add_building_construction = { type = arms_factory level = 5 instant_build = yes }
		}
		378 = {
			if = {
				limit = { owner = { is_american_tag = yes } }
				remove_building = { type = industrial_complex level = 6 }
				add_building_construction = { type = arms_factory level = 6 instant_build = yes }
			}
		}
		798 = {
			if = {
				limit = { owner = { is_american_tag = yes } }
				remove_building = { type = industrial_complex level = 7 }
				add_building_construction = { type = arms_factory level = 7 instant_build = yes }
			}
		}

		#declarations of war
		if = {
			limit = { country_exists = CSA }
			CSA = { declare_war_on = { target = USA type = annex_everything	} }
		}
		if = {
			limit = { country_exists = TEX }
			TEX = { declare_war_on = { target = USA type = annex_everything	} }
		}
		if = {
			limit = {
				country_exists = CSA
				country_exists = TEX
			}
			CSA = { declare_war_on = { target = TEX type = annex_everything	} }
		}
		if = {
			limit = { country_exists = CAL }
			CSA = { declare_war_on = { target = CAL type = annex_everything	} }
			TEX = { declare_war_on = { target = CAL type = annex_everything	} }
			USA = { declare_war_on = { target = CAL type = annex_everything	} }
		}

		if = {
			limit = { country_exists = CSA }
			CSA = {
				country_event = { id = amcivwar.313 days = 1 }
				country_event = { id = amcivwar.91 days = 90 }
				add_ideas = {
					war_economy
					amcivwar_idea
				}
				if = {
					limit = { USA = { has_country_flag = USA_ACW_austerity_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
				}
			}
		}
		if = {
			limit = { country_exists = TEX }
			TEX = {
				country_event = { id = amcivwar.92 days = 90 }
				add_ideas = {
					war_economy
					amcivwar_idea
				}
				if = {
					limit = { USA = { has_country_flag = USA_ACW_compromise_rejected } }
					add_timed_idea = { idea = ACW_fired_up days = 180 }
				}
			}
		}
		if = {
			limit = { country_exists = CAL }
			CAL = {
				country_event = { id = amcivwar.90 days = 90 }
				add_ideas = {
					war_economy
					amcivwar_idea
				}
			}
		}

		# remove USA cores in uncontrolled territory
		every_state = {
			limit = { is_core_of = USA }
			if = {
				limit = {
					OR = {
						is_controlled_by = CSA
						is_controlled_by = TEX
						is_controlled_by = CAL
					}
				}
				remove_core_of = USA
				add_claim_by = USA
			}
		}

		USA = {
			country_event = { id = hawaii.1 days = 1 random = 72 } # Hawaii Rebels
			country_event = { id = amcivwar.61 days = 2 random = 72 } # Conscription
			country_event = { id = amcivwar.63 days = 2 random = 72 } # Panama Garrison
			country_event = { id = amcivwar.62 days = 30 } # Recall the China Marines?
			country_event = { id = amcivwar.93 days = 90 }
			add_ideas = {
				war_economy
				amcivwar_idea
			}
		}
		CSA = {
			country_event = { id = amcivwar.35 days = 40 random = 1896 } # Female Soldiers
			country_event = { id = amcivwar.34 days = 60 random = 2856 } # Red Witches
			country_event = { id = amcivwar.32 days = 120 random = 5712 } # Life During Wartime
		}
		CAL = {
			country_event = { id = amcivwar.62 days = 30 } # Recall the China Marines?
		}

		# remove guarantees
		if = {
			limit = { GUA = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = GUA relation = guarantee active = no }
		}
		if = {
			limit = { ELS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = ELS relation = guarantee active = no }
		}
		if = {
			limit = { HON = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HON relation = guarantee active = no }
		}
		if = {
			limit = { COS = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = COS relation = guarantee active = no }
		}
		if = {
			limit = { "PAN" = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = "PAN" relation = guarantee active = no }
		}
		if = {
			limit = { LEC = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = LEC relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = HAI relation = guarantee active = no }
		}
		if = {
			limit = { DOM = { is_guaranteed_by = USA } }
			diplomatic_relation = { country = DOM relation = guarantee active = no }
		}
		if = {
			limit = { HAI = { gives_military_access_to = USA } }
			diplomatic_relation = { country = HAI relation = military_access active = no }
		}
		if = {
			limit = { DOM = { gives_military_access_to = USA } }
			diplomatic_relation = { country = DOM relation = military_access active = no }
		}

		# Canada receives notification
		CAN = {
			if = {
				limit = {
					is_subject = no
					is_faction_leader = yes
					NOT = { has_war_with = USA }
				}
				country_event = { id = amcivwar.150 hours = 8 }
			}
		}

		# USA colony events
		"LIB" = { country_event = { id = amcivwar.212 hours = 8 } }
		"PHI" = { country_event = { id = amcivwar.226 hours = 8 } }

		USA = {
			country_event = { id = amcivwar.71 days = 7 } #Chief of Staff
			country_event = { id = amcivwar.72 days = 14 } #Chief of Army
			country_event = { id = amcivwar.74 days = 21 } #Chief of Air Force
			country_event = { id = amcivwar.73 days = 28 } #Chief of Navy
			country_event = { id = amcivwar.65 days = 40 random = 240 } # Martial Law?
			country_event = { id = amcivwar.64 days = 90 random = 240 } # Hardtransfer_ship of the civil war
			country_event = { id = amcivwar.66 days = 120 random = 480 } # Loyalist Terror
			country_event = { id = amcivwar.67 days = 150 random = 480 } # Native American Code talkers
			country_event = { id = amcivwar.69 days = 180 random = 480 } # Double V Campaign
			country_event = { id = amcivwar.70 days = 200 random = 480 } # Militarize the WASPs?

			news_event = { id = worldnews.1 hours = 4 } #main news event
		}

		# ACW related events for non-US nations
		"PAN" = {
			country_event = {
				id = panama.5
				days = 1
				random = 48
			}
		}
		COS = {
			country_event = {
				id = cos.23
				days = 5
				random = 360
			}
		}
		BOL = {
			country_event = {
				id = bol.21
				days = 10
				random = 100
			}
		}
		NIC = {
			country_event = {
				id = nic.41
				days = 7
			}
		}
		CHL = {
			country_event = {
				id = chl.13
				days = 5
			}
		}
		QIE = {
			if = {
				limit = {
					has_country_leader = {
						name = "Hu Shih"
						ruling_only = yes
					}
				}
				country_event = {
					id = qieflavor.10 #Edith Clifford Williams
					days = 30
					random = 48
				}
			}
		}
		GXC = {
			country_event = {
				id = lng.17 #Chen questioned as 2ACW rages
				days = 10
				random = 480
			}
		}
	}
}

USA_civil_war_ends = {
	hidden_effect = {
		if = {
			limit = { NOT = { has_global_flag = USA_civil_war_over_flag } }
			USA = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}
			TEX = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}
			CSA = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}
			CAL = {
				if = {
					limit = { exists = no }
					add_ideas = {
						civilian_economy
						volunteer_only
						USA_civil_war_aftermath_idea
						USA_civil_war_depression_idea
					}
				}
			}

			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 364
						state = 365
						state = 369
						state = 370
						state = 377
						state = 382
						state = 383
						state = 391
						state = 833
					}
				}
				remove_building = { type = arms_factory level = 1 }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 359
						state = 361
						state = 362
						state = 363
						state = 366
						state = 371
						state = 372
						state = 374
						state = 392
						state = 393
					}
				}
				remove_building = { type = arms_factory level = 2 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 367
						state = 368
						state = 395
						state = 798
					}
				}
				remove_building = { type = arms_factory level = 3 }
				add_building_construction = { type = industrial_complex level = 2 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 360
						state = 373
						state = 797
						state = 929
						state = 930
					}
				}
				remove_building = { type = arms_factory level = 4 }
				add_building_construction = { type = industrial_complex level = 3 instant_build = yes }
			}
			every_state = {
				limit = {
					owner = { is_american_tag = yes }
					OR = {
						state = 261
						state = 375
						state = 394
						state = 396
					}
				}
				remove_building = { type = arms_factory level = 5 }
				add_building_construction = { type = industrial_complex level = 4 instant_build = yes }
			}
			378 = {
				if = {
					limit = { owner = { is_american_tag = yes } }
					remove_building = { type = arms_factory level = 6 }
					add_building_construction = { type = industrial_complex level = 5 instant_build = yes }
				}
			}
			829 = {
				if = {
					limit = { owner = { is_american_tag = yes } }
					remove_building = { type = arms_factory level = 7 }
					add_building_construction = { type = industrial_complex level = 6 instant_build = yes }
				}
			}
		}
		set_global_flag = USA_civil_war_over_flag
	}
}

USA_demobilize_forces = {
	CSA = {
		if = {
			limit = { has_template = "Revolutionary Militia" }
			delete_unit_template_and_units = { division_template = "Revolutionary Militia" }
		}
		if = {
			limit = { has_template = "Revolutionary Garrison" }
			delete_unit_template_and_units = { division_template = "Revolutionary Garrison" }
		}
		if = {
			limit = { has_template = "Mounted Revolutionary Militia" }
			delete_unit_template_and_units = { division_template = "Mounted Revolutionary Militia" }
		}
		if = {
			limit = { has_template = "Amerikavrijwilligers" }
			delete_unit_template_and_units = { division_template = "Amerikavrijwilligers" }
		}
		if = {
			limit = { has_template = "German Militia Division" }
			delete_unit_template_and_units = { division_template = "German Militia Division" }
		}
		if = {
			limit = { has_template = "CSA Resistance" }
			delete_unit_template_and_units = { division_template = "CSA Resistance" }
		}
	}
	TEX = {
		if = {
			limit = { has_template = "AUS Militia" }
			delete_unit_template_and_units = { division_template = "AUS Militia" }
		}
		if = {
			limit = { has_template = "Mounted AUS Militia" }
			delete_unit_template_and_units = { division_template = "Mounted AUS Militia" }
		}
		if = {
			limit = { has_template = "AUS Garrison" }
			delete_unit_template_and_units = { division_template = "AUS Garrison" }
		}
		if = {
			limit = { has_template = "AUS Resistance" }
			delete_unit_template_and_units = { division_template = "AUS Resistance" }
		}
	}
	USA = {
		if = {
			limit = { has_template = "Loyalist Militia" }
			delete_unit_template_and_units = { division_template = "Loyalist Militia" }
		}
		if = {
			limit = { has_template = "Loyalist Garrison" }
			delete_unit_template_and_units = { division_template = "Loyalist Garrison" }
		}
		if = {
			limit = { has_template = "Mounted Loyalists" }
			delete_unit_template_and_units = { division_template = "Mounted Loyalists" }
		}
		if = {
			limit = { has_template = "Loyalist Motorized Guard" }
			delete_unit_template_and_units = { division_template = "Loyalist Motorized Guard" }
		}
		if = {
			limit = { has_template = "USA Resistance" }
			delete_unit_template_and_units = { division_template = "USA Resistance" }
		}
	}
	CAL = {
		if = {
			limit = { has_template = "Mounted PSA Militia" }
			delete_unit_template_and_units = { division_template = "Mounted PSA Militia" }
		}
		if = {
			limit = { has_template = "PSA Militia" }
			delete_unit_template_and_units = { division_template = "PSA Militia" }
		}
		if = {
			limit = { has_template = "PSA Garrison" }
			delete_unit_template_and_units = { division_template = "PSA Garrison" }
		}
		if = {
			limit = { has_template = "PSA Resistance" }
			delete_unit_template_and_units = { division_template = "PSA Resistance" }
		}
	}
}

ACW_surrender_effect = {
	hidden_effect = {
		# return controlled states to their owners
		every_state = {
			limit = {
				is_controlled_by = ROOT
				NOT = { is_owned_by = ROOT }
			}
			owner = { set_state_controller = PREV }
		}
		# then transfer states occupied by other ACW countries
		every_owned_state = {
			limit = {
				NOT = { state = event_target:last_state }
				ACW_controlled_but_not_ROOT = yes
			}
			controller = { transfer_state = PREV }
		}
		# then give occupied states to Canada
		if = {
			limit = { has_war_with = CAN }
			every_owned_state = {
				limit = {
					OR = {
						any_neighbor_state = { is_owned_by = CAN }
						state = 686 #Puerto Rico
						state = 685 #Panama Canal
						state = 463 #Alaska
					}
					controller = { is_in_faction_with = CAN }
				}
				CAN = {
					transfer_state = PREV
					set_state_controller = PREV
				}
			}
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = CAN }
					controller = { is_in_faction_with = CAN }
				}
				CAN = {
					transfer_state = PREV
					set_state_controller = PREV
				}
			}
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = CAN }
					controller = { is_in_faction_with = CAN }
				}
				CAN = {
					transfer_state = PREV
					set_state_controller = PREV
				}
			}
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = CAN }
					controller = { is_in_faction_with = CAN }
				}
				CAN = {
					transfer_state = PREV
					set_state_controller = PREV
				}
			}
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_owned_by = CAN }
					controller = { is_in_faction_with = CAN }
				}
				CAN = {
					transfer_state = PREV
					set_state_controller = PREV
				}
			}
		}
		# then give occupied claimed states to Mexico
		if = {
			limit = { has_war_with = MEX }
			every_owned_state = {
				limit = {
					any_neighbor_state = { is_controlled_by = MEX }
					is_controlled_by = MEX
					OR = {
						is_core_of = MEX
						is_claimed_by = MEX
					}
				}
				MEX = { transfer_state = PREV }
			}
		}
		# give away remaining states
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				NOT = { state = event_target:last_state }
			}
			random_neighbor_state = {
				limit = {
					ACW_controlled_but_not_ROOT = yes
					controller = { has_war_with = ROOT }
				}
				controller = {
					transfer_state = PREV.PREV
					set_state_controller = PREV.PREV
				}
			}
		}
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				NOT = { state = event_target:last_state }
			}
			random_neighbor_state = {
				limit = {
					ACW_controlled_but_not_ROOT = yes
					controller = { has_war_with = ROOT }
				}
				controller = {
					transfer_state = PREV.PREV
					set_state_controller = PREV.PREV
				}
			}
		}
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				NOT = { state = event_target:last_state }
			}
			random_neighbor_state = {
				limit = {
					ACW_controlled_but_not_ROOT = yes
					controller = { has_war_with = ROOT }
				}
				controller = {
					transfer_state = PREV.PREV
					set_state_controller = PREV.PREV
				}
			}
		}
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				NOT = { state = event_target:last_state }
			}
			random_neighbor_state = {
				limit = {
					ACW_controlled_but_not_ROOT = yes
					controller = { has_war_with = ROOT }
				}
				controller = {
					transfer_state = PREV.PREV
					set_state_controller = PREV.PREV
				}
			}
		}
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				NOT = { state = event_target:last_state }
			}
			random_neighbor_state = {
				limit = {
					ACW_controlled_but_not_ROOT = yes
					controller = { has_war_with = ROOT }
				}
				controller = {
					transfer_state = PREV.PREV
					set_state_controller = PREV.PREV
				}
			}
		}

		# deal with Puerto Rico
		if = {
			limit = {
				686 = { is_owned_and_controlled_by = ROOT }
				NOT = { tag = USA }
				has_war_with = USA
			}
			USA = { transfer_state = 686 }
		}
		else_if = {
			limit = {
				686 = { is_owned_and_controlled_by = ROOT }
				NOT = { tag = TEX }
				has_war_with = TEX
			}
			TEX = { transfer_state = 686 }
		}
		else_if = {
			limit = {
				686 = { is_owned_and_controlled_by = ROOT }
			}
			random_country = {
				limit = {
					has_war_with = ROOT
					is_american_tag = yes
				}
				transfer_state = 686
			}
		}
	}
	if = {
		limit = {
			OR = {
				is_ai = no
				any_owned_state = {
					NOT = { state = event_target:last_state }
					NOT = { is_controlled_by = ROOT }
				}
			}
		}
		add_ideas = amcviwar_ready_to_surrender
		else = {
			event_target:annex_to = {
				annex_country = { target = ROOT }
				hidden_effect = {
					country_event = { id = amcivwar.606 days = 1 } #cleanup
				}
			}
		}
	}
}

USA_increase_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea
			add_idea = USA_civil_war_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea2
			add_idea = USA_civil_war_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea3
			add_idea = USA_civil_war_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea4
			add_idea = USA_civil_war_aftermath_idea5
		}
	}
}

TEX_increase_recovery = {
	if = {
		limit = { has_idea = TEX_national_recovery_idea1 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea1
			add_idea = TEX_national_recovery_idea2
		}
	}
	else_if = {
		limit = { has_idea = TEX_national_recovery_idea2 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea2
			add_idea = TEX_national_recovery_idea3
		}
	}
	else_if = {
		limit = { has_idea = TEX_national_recovery_idea3 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea3
			add_idea = TEX_national_recovery_idea4
		}
	}
	else_if = {
		limit = { has_idea = TEX_national_recovery_idea4 }
		swap_ideas = {
			remove_idea = TEX_national_recovery_idea4
			add_idea = TEX_national_recovery_idea5
		}
	}
}

TEX_increase_military_complex = {
	if = {
		limit = { has_idea = TEX_military_industrial_complex_idea1 }
		swap_ideas = {
			remove_idea = TEX_military_industrial_complex_idea1
			add_idea = TEX_military_industrial_complex_idea2
		}
	}
	else_if = {
		limit = { has_idea = TEX_military_industrial_complex_idea2 }
		swap_ideas = {
			remove_idea = TEX_military_industrial_complex_idea2
			add_idea = TEX_military_industrial_complex_idea3
		}
	}
	else_if = {
		limit = { has_idea = TEX_military_industrial_complex_idea3 }
		swap_ideas = {
			remove_idea = TEX_military_industrial_complex_idea3
			add_idea = TEX_military_industrial_complex_idea4
		}
	}
	else_if = {
		limit = { has_idea = TEX_military_industrial_complex_idea4 }
		swap_ideas = {
			remove_idea = TEX_military_industrial_complex_idea4
			add_idea = TEX_military_industrial_complex_idea5
		}
	}
}

CSA_increase_recovery = {
	if = {
		limit = { has_idea = USA_civil_war_aftermath_idea }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea
			add_idea = USA_civil_war_aftermath_idea2
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_aftermath_idea2 }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea2
			add_idea = USA_civil_war_aftermath_idea3
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_aftermath_idea3 }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea3
			add_idea = USA_civil_war_aftermath_idea4
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_aftermath_idea4 }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea4
			add_idea = USA_civil_war_aftermath_idea5
		}
	}
	else_if = {
		limit = { has_idea = USA_civil_war_aftermath_idea5 }
		swap_ideas = {
			remove_idea = USA_civil_war_aftermath_idea5
			add_idea = CSA_social_revolution1
		}
	}
	else_if = {
		limit = { has_idea = CSA_social_revolution1 }
		swap_ideas = {
			remove_idea = CSA_social_revolution1
			add_idea = CSA_social_revolution2
		}
	}
	else_if = {
		limit = { has_idea = CSA_social_revolution2 }
		swap_ideas = {
			remove_idea = CSA_social_revolution2
			add_idea = CSA_social_revolution3
		}
	}
	else_if = {
		limit = { has_idea = CSA_social_revolution3 }
		swap_ideas = {
			remove_idea = CSA_social_revolution3
			add_idea = CSA_social_revolution4
		}
	}
	else_if = {
		limit = { has_idea = CSA_social_revolution4 }
		swap_ideas = {
			remove_idea = CSA_social_revolution4
			add_idea = CSA_social_revolution5
		}
	}
	else_if = {
		limit = { has_idea = CSA_social_revolution5 }
		swap_ideas = {
			remove_idea = CSA_social_revolution5
			add_idea = CSA_social_revolution6
		}
	}
}

remove_ACW_cores = {
	hidden_effect = {
		every_state = {
			limit = {
				OR = {
					is_core_of = USA
					is_core_of = CSA
					is_core_of = CAL
					is_core_of = TEX
					is_core_of = NEE
					is_claimed_by = USA
					is_claimed_by = CSA
					is_claimed_by = CAL
					is_claimed_by = TEX
					is_claimed_by = NEE
				}
			}
			if = {
				limit = {
					NOT = { country_exists = USA }
				}
				remove_core_of = USA
				remove_claim_by = USA
			}
			if = {
				limit = {
					NOT = { country_exists = CSA }
				}
				remove_core_of = CSA
				remove_claim_by = CSA
			}
			if = {
				limit = {
					NOT = { country_exists = CAL }
				}
				remove_core_of = CAL
				remove_claim_by = CAL
			}
			if = {
				limit = {
					NOT = { country_exists = TEX }
				}
				remove_core_of = TEX
				remove_claim_by = TEX
			}
			if = {
				limit = {
					NOT = { country_exists = NEE }
				}
				remove_core_of = NEE
				remove_claim_by = NEE
			}
		}
	}
}

CSA_add_units = {
	add_to_variable = { var = unit_count value = 1 }

	if = {
		limit = { check_variable = { unit_count < 6 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Continental Army\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 8 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Mobile Divisions\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 9 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Mounted Revolutionary Militia\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 11 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Revolutionary Garrison\" start_experience_factor = 0.3"
				owner = CSA
			}
		}
	}

	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { check_variable = { strength > 0.99 } }
		CSA_add_units = yes
	}
}

TEX_add_units = {
	add_to_variable = { var = unit_count value = 1 }

	if = {
		limit = { check_variable = { unit_count < 6 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Infantry Division\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 8 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Motorized Division\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 9 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"Mounted AUS Militia\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}
	else_if = {
		limit = { check_variable = { unit_count < 11 } }
		capital_scope = {
			create_unit = {
				division = "division_template = \"AUS Garrison\" start_experience_factor = 0.3"
				owner = TEX
			}
		}
	}

	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { check_variable = { strength > 0.99 } }
		TEX_add_units = yes
	}
}

USA_restore_deleted_factories_CSA = {
	hidden_effect = {
		395 = { #Illinois
			if = {
				limit = { industrial_complex < 11 }
				set_temp_variable = { illinois_factories = 11 }
				subtract_from_temp_variable = { illinois_factories = 395.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = illinois_factories instant_build = yes }
			}
		}
		396 = { #Indiana
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { indiana_factories = 8 }
				subtract_from_temp_variable = { indiana_factories = 396.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = indiana_factories instant_build = yes }
			}
		}
		261 = { #Ohio
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { ohio_factories = 8 }
				subtract_from_temp_variable = { ohio_factories = 261.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = ohio_factories instant_build = yes }
			}
		}
		393 = { #Michigan
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { michigan_factories = 8 }
				subtract_from_temp_variable = { michigan_factories = 393.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = michigan_factories instant_build = yes }
			}
		}
		394 = { #Wisconsin
			if = {
				limit = { industrial_complex < 7 }
				set_temp_variable = { wisconsin_factories = 7 }
				subtract_from_temp_variable = { wisconsin_factories = 394.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = wisconsin_factories instant_build = yes }
			}
		}
		360 = { #Pennsylvania
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { pennsylvania_factories = 6 }
				subtract_from_temp_variable = { pennsylvania_factories = 360.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = pennsylvania_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 5 }
				set_temp_variable = { pennsylvania_dockyards = 5 }
				subtract_from_temp_variable = { pennsylvania_dockyards = 360.building_level@dockyard }
				add_building_construction = { type = industrial_complex level = pennsylvania_dockyards instant_build = yes }
			}
		}
		929 = { #West Virginia
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { west_virginia_factories = 2 }
				subtract_from_temp_variable = { west_virginia_factories = 929.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = west_virginia_factories instant_build = yes }
			}
		}
	}
}

USA_restore_deleted_factories_TEX = {
	hidden_effect = {
		371 = { #Louisiana
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 5 }
				set_temp_variable = { louisiana_factories = 5 }
				subtract_from_temp_variable = { louisiana_factories = 371.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = louisiana_factories instant_build = yes }
			}
		}
		374 = { #Oklahoma
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		375 = { #Northern Texas
			if = {
				limit = { industrial_complex < 8 }
				set_temp_variable = { northern_texas_factories = 8 }
				subtract_from_temp_variable = { northern_texas_factories = 375.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = northern_texas_factories instant_build = yes }
			}
		}
		833 = { #Southern Texas
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { southern_texas_factories = 4 }
				subtract_from_temp_variable = { southern_texas_factories = 833.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = southern_texas_factories instant_build = yes }
			}
			if = {
				limit = {
					USA = {
						has_completed_focus = USA_gwbill_succeeds
						has_country_flag = USA_southtexas_order
					}
					dockyard < 2
				}
				set_temp_variable = { southern_texas_dockyards = 2 }
				subtract_from_temp_variable = { southern_texas_dockyards = 833.building_level@dockyard }
				add_building_construction = { type = dockyard level = southern_texas_dockyards instant_build = yes }
			}
		}
		372 = { #Arkansas
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { arkansas_factories = 2 }
				subtract_from_temp_variable = { arkansas_factories = 372.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = arkansas_factories instant_build = yes }
			}
		}
		370 = { #Mississippi
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { mississippi_factories = 3 }
				subtract_from_temp_variable = { mississippi_factories = 370.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = mississippi_factories instant_build = yes }
			}
		}
		367 = { #Alabama
			if = {
				limit = { industrial_complex < 5 }
				set_temp_variable = { alabama_factories = 5 }
				subtract_from_temp_variable = { alabama_factories = 367.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = alabama_factories instant_build = yes }
			}
		}
		365 = { #Georgia
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { georgia_factories = 3 }
				subtract_from_temp_variable = { georgia_factories = 365.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = georgia_factories instant_build = yes }
			}
		}
		364 = { #South Carolina
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
		}
		366 = { #Florida
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { florida_factories = 4 }
				subtract_from_temp_variable = { florida_factories = 366.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = florida_factories instant_build = yes }
			}
		}
	}
}

USA_restore_deleted_factories_CAL = {
	hidden_effect = {
		829 = { #Southern California
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { southern_california_factories = 3 }
				subtract_from_temp_variable = { southern_california_factories = 829.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = southern_california_factories instant_build = yes }
			}
		}
		379 = { #Northern California
			if = {
				limit = { industrial_complex < 9 }
				set_temp_variable = { northern_california_factories = 9 }
				subtract_from_temp_variable = { northern_california_factories = 379.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = northern_california_factories instant_build = yes }
			}
		}
		798 = { #Los Angeles
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 7 }
				set_temp_variable = { los_angeles_factories = 7 }
				subtract_from_temp_variable = { los_angeles_factories = 798.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = los_angeles_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 4 }
				set_temp_variable = { los_angeles_dockyards = 4 }
				subtract_from_temp_variable = { los_angeles_dockyards = 798.building_level@dockyard }
				add_building_construction = { type = dockyard level = los_angeles_dockyards instant_build = yes }
			}
		}
		797 = { #San Francisco
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { san_francisco_factories = 6 }
				subtract_from_temp_variable = { san_francisco_factories = 797.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = san_francisco_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 5 }
				set_temp_variable = { san_francisco_dockyards = 5 }
				subtract_from_temp_variable = { san_francisco_dockyards = 797.building_level@dockyard }
				add_building_construction = { type = dockyard level = san_francisco_dockyards instant_build = yes }
			}
		}
		385 = { #Oregon
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		386 = { #Washington
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { washington_factories = 2 }
				subtract_from_temp_variable = { washington_factories = 386.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = washington_factories instant_build = yes }
			}
		}
	}
}

USA_restore_deleted_factories_USA = {
	hidden_effect = {
		391 = { #Minnesota
			if = {
				limit = { industrial_complex < 1 }
				set_temp_variable = { minnesota_factories = 1 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_minnesota_order
						}
					}
					add_to_temp_variable = { minnesota_factories = 1 }
					if = {
						limit = { arms_factory < 1 }
						add_building_construction = { type = arms_factory level = 1 instant_build = yes }
					}
				}
				subtract_from_temp_variable = { minnesota_factories = 391.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = minnesota_factories instant_build = yes }
			}
		}
		392 = { #Iowa
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { iowa_factories = 2 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_iowa_order
						}
					}
					add_to_temp_variable = { iowa_factories = 1 }
					if = {
						limit = { arms_factory < 1 }
						add_building_construction = { type = arms_factory level = 1 instant_build = yes }
					}
				}
				subtract_from_temp_variable = { iowa_factories = 392.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = iowa_factories instant_build = yes }
			}
		}
		363 = { #North Carolina
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { north_carolina_factories = 3 }
				subtract_from_temp_variable = { north_carolina_factories = 363.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = north_carolina_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { north_carolina_dockyards = 2 }
				subtract_from_temp_variable = { north_carolina_dockyards = 363.building_level@dockyard }
				add_building_construction = { type = dockyard level = north_carolina_dockyards instant_build = yes }
			}
		}
		368 = { #Tennessee
			if = {
				limit = { industrial_complex < 5 }
				set_temp_variable = { tennessee_factories = 5 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_tennessee_order
						}
					}
					add_to_temp_variable = { tennessee_factories = 1 }
					if = {
						limit = { arms_factory < 1 }
						add_building_construction = { type = arms_factory level = 1 instant_build = yes }
					}
				}
				subtract_from_temp_variable = { tennessee_factories = 368.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = tennessee_factories instant_build = yes }
			}
		}
		359 = { #New Jersey
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { new_jersey_factories = 4 }
				subtract_from_temp_variable = { new_jersey_factories = 359.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = new_jersey_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { new_jersey_dockyards = 2 }
				subtract_from_temp_variable = { new_jersey_dockyards = 359.building_level@dockyard }
				add_building_construction = { type = dockyard level = new_jersey_dockyards instant_build = yes }
			}
		}
		358 = { #New York
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { new_york_factories = 2 }
				subtract_from_temp_variable = { new_york_factories = 358.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = new_york_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 7 }
				set_temp_variable = { new_york_dockyards = 7 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							has_country_flag = USA_new_york_order
						}
					}
					add_to_temp_variable = { new_york_dockyards = 2 }
				}
				subtract_from_temp_variable = { new_york_dockyards = 358.building_level@dockyard }
				add_building_construction = { type = dockyard level = new_york_dockyards instant_build = yes }
			}
		}
		373 = { #Missouri
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { missouri_factories = 6 }
				subtract_from_temp_variable = { missouri_factories = 373.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = missouri_factories instant_build = yes }
			}
		}
		796 = { #Upstate New York
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { upstate_ny_factories = 6 }
				subtract_from_temp_variable = { upstate_ny_factories = 796.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = upstate_ny_factories instant_build = yes }
			}
			if = {
				limit = { arms_factory < 2 }
				set_temp_variable = { upstate_ny_arms_factories = 2 }
				subtract_from_temp_variable = { upstate_ny_arms_factories = 796.building_level@arms_factory }
				add_building_construction = { type = arms_factory level = upstate_ny_arms_factories instant_build = yes }
			}
		}
		369 = { #Kentucky
			if = {
				limit = { industrial_complex < 3 }
				set_temp_variable = { upstate_ny_factories = 3 }
				subtract_from_temp_variable = { upstate_ny_factories = 369.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = upstate_ny_factories instant_build = yes }
			}
		}
		362 = { #Virginia
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { virginia_factories = 4 }
				subtract_from_temp_variable = { virginia_factories = 362.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = virginia_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 3 }
				set_temp_variable = { virginia_dockyards = 3 }
				subtract_from_temp_variable = { virginia_dockyards = 362.building_level@dockyard }
				add_building_construction = { type = dockyard level = virginia_dockyards instant_build = yes }
			}
		}
		361 = { #Maryland
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { maryland_factories = 6 }
				subtract_from_temp_variable = { maryland_factories = 361.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = maryland_factories instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { maryland_dockyards = 2 }
				subtract_from_temp_variable = { maryland_dockyards = 361.building_level@dockyard }
				add_building_construction = { type = dockyard level = maryland_dockyards instant_build = yes }
			}
		}
		383 = { #Kansas
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		384 = { #Nebraska
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		382 = { #Colorado
			if = {
				limit = { industrial_complex < 1 }
				set_temp_variable = { colorado_factories = 1 }
				if = {
					limit = {
						USA = {
							has_completed_focus = USA_gwbill_succeeds
							OR = {
								has_country_flag = USA_minnesota_order
								has_country_flag = USA_iowa_order
								has_country_flag = USA_tennessee_order
							}
						}
					}
					add_to_temp_variable = { colorado_factories = 1 }
				}
				subtract_from_temp_variable = { colorado_factories = 382.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = colorado_factories instant_build = yes }
			}
		}
		384 = { #Arizona
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
	}
	if = {
		limit = {
			USA = {
				NOT = { has_government = paternal_autocrat }
			}
		}
		USA_restore_deleted_factories_CAL = yes
	}
}

USA_restore_deleted_factories_NEE = {
	hidden_effect = {
		357 = { #Maine
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { maine_factories = 2 }
				subtract_from_temp_variable = { maine_factories = 357.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = maine_factories instant_build = yes }
			}
		}
		934 = { #Vermont
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		933 = { #New Hampshire
			if = {
				limit = { industrial_complex < 1 }
				add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
			}
		}
		932 = { #Massachusetts
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { massachussets_dockyards = 2 }
				subtract_from_temp_variable = { massachussets_dockyards = 932.building_level@dockyard }
				add_building_construction = { type = dockyard level = massachussets_dockyards instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 2 }
				set_temp_variable = { massachussets_factories = 2 }
				subtract_from_temp_variable = { massachussets_factories = 932.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = massachussets_factories instant_build = yes }
			}
			if = {
				limit = { arms_factory < 2 }
				set_temp_variable = { massachussets_arms_factories = 2 }
				subtract_from_temp_variable = { massachussets_arms_factories = 932.building_level@arms_factory }
				add_building_construction = { type = arms_factory level = massachussets_arms_factories instant_build = yes }
			}
		}
		935 = { #Rhode Island
			if = {
				limit = { dockyard < 1 }
				add_building_construction = { type = dockyard level = 1 instant_build = yes }
			}
		}
		931 = { #Connecticut
			if = {
				limit = { arms_factory < 1 }
				add_building_construction = { type = arms_factory level = 1 instant_build = yes }
			}
			if = {
				limit = { dockyard < 2 }
				set_temp_variable = { connecticut_dockyards = 2 }
				subtract_from_temp_variable = { connecticut_dockyards = 931.building_level@dockyard }
				add_building_construction = { type = dockyard level = connecticut_dockyards instant_build = yes }
			}
			if = {
				limit = { industrial_complex < 4 }
				set_temp_variable = { connecticut_factories = 4 }
				subtract_from_temp_variable = { connecticut_factories = 931.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = connecticut_factories instant_build = yes }
			}
		}
		796 = { #Upstate New York
			if = {
				limit = { industrial_complex < 6 }
				set_temp_variable = { upstate_ny_factories = 6 }
				subtract_from_temp_variable = { upstate_ny_factories = 796.building_level@industrial_complex }
				add_building_construction = { type = industrial_complex level = upstate_ny_factories instant_build = yes }
			}
			if = {
				limit = { arms_factory < 2 }
				set_temp_variable = { upstate_ny_arms_factories = 2 }
				subtract_from_temp_variable = { upstate_ny_arms_factories = 796.building_level@arms_factory }
				add_building_construction = { type = arms_factory level = upstate_ny_arms_factories instant_build = yes }
			}
		}
	}
}