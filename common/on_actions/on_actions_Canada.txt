on_actions = {

	#ROOT is winner #FROM gets annexed - For civil wars on_civil_war_end is also fired
	on_annex = {
		effect = {
			log = "[GetDateText] [Root.GetName] has annexed [From.GetName]"
			if = {
				limit = { is_in_array = { global.iedc_members = FROM } }
				remove_from_array = { array = global.iedc_members value = FROM }
				FROM = {
					clr_country_flag = CAN_refused_iedc
					CAN_remove_from_iedc = yes
				}
			}
		}
	}

	#FROM is country getting invited.
	on_offer_join_faction = {
		effect = {
			log = "[GetDateText] [Root.GetName] on_offer_join_faction FROM = [From.GetName]"
			# removing from IEDC
			if = {
				limit = {
					is_in_array = { global.iedc_members = FROM }
					NOT = { has_idea = CAN_iedc_main }
				}
				FROM = { country_event = entente.12 }
			}
			# adding to Entente Air Training Program
			if = {
				limit = {
					is_in_faction_with = CAN
					has_idea = CAN_air_training_plan_idea
				}
				FROM = {
					country_event = { id = entente.211 days = 1 random = 72 }
				}
			}
		}
	}
}

