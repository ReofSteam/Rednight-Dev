###########################
#French Decisions# WIP
###########################


FRA_support_pekkas = {
FRA_Finland_supply = {
		#gui = 
		icon = generic_prepare_civil_war

		allowed = {
			tag = FRA
		}

		available = {
		not = { has_global_flag = france_arms_pekkas }
			has_global_flag = liberty_corridor_exists
			has_equipment = {
   				 infantry_equipment > 500
				}
				has_equipment = {
    			support_equipment > 250
				}
				has_manpower > 7500
				#set_country_flag = can_send_help_to_pekkas
		}

		visible = {
			has_global_flag = liberty_corridor_exists
		}

		cost = 20
		days_re_enable = 20

		ai_will_do = {
			factor = 75
			modifier = {
				factor = 25
				RFN = {
					has_war = yes
					surrender_progress > 0.5
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RUS_Finland_supply"
			add_manpower = -7500
			add_equipment_to_stockpile = {
			 type = infantry_equipment
    			 amount = -500
   				 producer = FRA
			}
			add_equipment_to_stockpile = {
			 type = support_equipment
    			 amount = -250
   				 producer = FRA
			} 
			set_global_flag = france_arms_pekkas 
			custom_effect_tooltip = FRA_supply_tip
			#FIN = { add_equipment_to_stockpile = {
  			#	  type = infantry_equipment
    		#	 amount = 500
   			#	 producer = FRA
   			#	 }
   			#	 add_equipment_to_stockpile = {
  			#	  type = support_equipment
    		#	 amount = 250
   			#	 producer = FRA
   			#	 add_manpower = 7500
			#}
			
			#}	
						}	
					}

}

FRA_mission_free_africa = { 
     FRA_troops_in_Africa = { 
	 days_re_enable = 1
	 fire_only_once = no
          allowed = { 
		  AND = {
		  has_global_flag = FRA_sand_war
		  tag = FRA
		  NOT = {
		  has_country_flag = FRA_boots_in_afrca
		  }
}}		  
          available = {                          
          ALG = {
		  has_volunteers_amount_from = {
          tag = FRA
          count > 4
}
}
          }
          activation = {                          
               has_global_flag = FRA_mission_free_africa                     
          }
          is_good = no                           
          selectable_mission = no                
          days_mission_timeout = 20              
          timeout_effect = {                      
               add_political_power = -15               
          }
          complete_effect = {                    
               add_political_power = 10
			   set_country_flag = FRA_boots_in_afrca
			   
          }
     }
}

FRA_ICBM_activation = {
FRA_confirm_order = {
    fire_only_once = yes
	visible = { 
	NOT = { has_country_flag = FRA_ICBM_stage2 }
	}
    allowed = { 
    has_global_flag = PARDAN_0_international
}
	cost = 20
    days_remove = 1
	complete_effect = {
	country_event = fra.100
}	
    remove_effect = {
	set_country_flag = FRA_ICBM_stage2
	}
}
FRA_confirm_authorisation_code = {
    days_re_enable = 7
    fire_only_once = no
    available = { 
    has_country_flag = FRA_ICBM_stage2
}
    days_remove = 2
	complete_effect = {
	country_event = fra.101
}	
    remove_effect = {
	clr_country_flag = FRA_ICBM_stage2
	set_country_flag = FRA_ICBM_stage3
	}
}
FRA_set_launch_calculation = {
    days_re_enable = 7
    fire_only_once = no
    available = { 
    has_country_flag = FRA_ICBM_stage3
}
    days_remove = 2
	complete_effect = {
	country_event = fra.102
}	
    remove_effect = {
	clr_country_flag = FRA_ICBM_stage3
	set_country_flag = FRA_ICBM_stage4
	}
}
FRA_activate_nuclear_key = {
    days_re_enable = 7
    fire_only_once = no
    available = { 
    has_country_flag = FRA_ICBM_stage4
}
    days_remove = 2
	complete_effect = {
	country_event = fra.103
}	
    remove_effect = {
	clr_country_flag = FRA_ICBM_stage4
	set_country_flag = FRA_ICBM_ready
	}
}
FRA_PARDAN_0_Petrogard = {
    days_re_enable = 7
    fire_only_once = no
	visible = { has_country_flag = FRA_ICBM_ready }
    available = { 
	NOT = { 195 = {
	has_state_flag = nuclear_destroyed 
	} }
    has_country_flag = FRA_ICBM_ready
}
    days_remove = 1
	complete_effect = {
}	
    remove_effect = {
	set_country_flag = FRA_ICBM_stage2	
	clr_country_flag = FRA_ICBM_ready
    launch_nuke = {
	province = 6174
	state = 195
	controller = RUS
	use_nuke = yes
}	
launch_nuke = {
	state = 208
	controller = RUS
	use_nuke = yes
}
launch_nuke = {
	state = 244
	controller = RUS
	use_nuke = yes
}
launch_nuke = {
	state = 209
	controller = RUS
	use_nuke = yes
}

    random_list = { 
90 = { 
	195 = { 
	ICBM_attack_destruction = yes
    set_state_name = "Ruins of Petrogard"	
	}
	208 = {
	ICBM_attack_destruction = yes
}
	244 = {
	ICBM_attack_destruction = yes
}
	209 = {
	ICBM_attack_destruction = yes
	}	
	
}
10 = {
    195 = {
	add_manpower = -10000
	}
	208 = {
	ICBM_attack_destruction = yes	
	}
	244 = {
	ICBM_attack_destruction = yes
	}
	209 = {
	ICBM_attack_destruction = yes
	}	
}	
}	
}
}
FRA_PARDAN_0_Moscow = {
	visible = { has_country_flag = FRA_ICBM_ready }

}
}