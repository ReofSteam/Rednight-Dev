#############################
### Cuban Leftist Focuses ###
#############################
###       By Pietrus      ###
#############################

focus_tree = {
	id = CUB_leftist_focuses
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}
	default = no
	continuous_focus_position = { x = 500 y = 900 }

	shared_focus = CUB_orthodox_syndicalism
	shared_focus = CUB_new_economic_expansion
	shared_focus = CUB_foreign_relate
	shared_focus = CUB_begin_mil_reform
}

shared_focus = {
	id = CUB_orthodox_syndicalism
	icon = GFX_goal_red_star
	x = 8
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_orthodox_syndicalism"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_syndienodem
	icon = GFX_goal_AST_skip_plebiscite
	x = -4
	y = 1
	relative_position_id = CUB_orthodox_syndicalism
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	prerequisite = {
		focus = CUB_orthodox_syndicalism
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndienodem"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_nodem_tot
	icon = GFX_goal_totalism
	x = -6
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_syndienodem
	}
	mutually_exclusive = {
		focus = CUB_nodem_syn
	}
	available = {
		has_government = totalist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot"
		add_stability = -0.03
		add_popularity = {
			ideology = totalist
			popularity = 0.08
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_tot_2
	icon = GFX_focus_ger_great_red_menace
	x = -7
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_tot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_2"
		set_party_name =  {
			ideology = totalist
			name = CUB_totalist_party_totemb
			long_name = CUB_totalist_party_long_totemb
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		if = {
			limit = {
				FRA = {
					has_government = totalist
				}
			}
			add_opinion_modifier = {
				target = FRA
				modifier = CUB_totdiplo
			}
			reverse_add_opinion_modifier = {
				target = FRA
				modifier = CUB_totdiplo
			}
		}
		if = {
			limit = {
				ENG = {
					has_government = totalist
				}
			}
			add_opinion_modifier = {
				target = ENG
				modifier = CUB_totdiplo
			}
			reverse_add_opinion_modifier = {
				target = ENG
				modifier = CUB_totdiplo
			}
		}
		if = {
			limit = {
				SRI = {
					has_government = totalist
				}
			}
			add_opinion_modifier = {
				target = SRI
				modifier = CUB_totdiplo
			}
			reverse_add_opinion_modifier = {
				target = SRI
				modifier = CUB_totdiplo
			}
		}
	}
}

shared_focus = {
	id = CUB_nodem_tot_3
	icon = GFX_goal_HOL_crackdown_radsoc
	x = -5
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 6

	prerequisite = {
		focus = CUB_nodem_tot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_3"
		add_political_power = 30
		add_stability = 0.04
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.1
		}
		if = {
			limit = {
				has_unit_leader = 1450
			}
			remove_unit_leader = 1450
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_tot_4
	icon = GFX_goal_HOL_fires_of_revolution_faux
	x = -6
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 10

	prerequisite = {
		focus = CUB_nodem_tot_2
	}
	prerequisite = {
		focus = CUB_nodem_tot_3
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_4"
		add_stability = 0.03
		add_war_support = 0.03
		add_ideas = CUB_permrev_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_nodem_tot_5
	icon = GFX_goal_ideology_totalist
	x = -5
	y = 5
	relative_position_id = CUB_orthodox_syndicalism
	cost = 7

	prerequisite = {
		focus = CUB_nodem_tot_4
	}
	prerequisite = {
		focus = CUB_nodem_syntot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_5"
		army_experience = 25
		add_command_power = 25
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		if = {
			limit = {
				has_unit_leader = 1451
			}
			remove_unit_leader = 1451
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = CUB_nodem_syn
	icon = GFX_goal_syndicalism
	x = -2
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 6

	prerequisite = {
		focus = CUB_syndienodem
	}
	mutually_exclusive = {
		focus = CUB_nodem_tot
	}
	available = {
		has_government = syndicalist
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn"
		add_political_power = 40
		add_stability = 0.04
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_syn_2
	icon = GFX_goal_syndicalist_industry
	x = -3
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 6

	prerequisite = {
		focus = CUB_nodem_syn
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_2"
		add_ideas = CUB_syndint_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_nodem_syn_3
	icon = GFX_focus_HOL_deal_with_left
	x = -1
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 6

	prerequisite = {
		focus = CUB_nodem_syn
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_3"
		add_political_power = -30
		add_stability = 0.03
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_syn_4
	icon = GFX_ITA_syndicalist_unite
	x = -2
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 6

	prerequisite = {
		focus = CUB_nodem_syn_2
	}
	prerequisite = {
		focus = CUB_nodem_syn_3
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_4"
		add_political_power = -10
		add_stability = 0.05
		add_war_support = 0.05
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_syn_5
	icon = GFX_goal_ideology_syndicalist
	x = -3
	y = 5
	relative_position_id = CUB_orthodox_syndicalism
	cost = 7

	prerequisite = {
		focus = CUB_nodem_syn_4
	}
	prerequisite = {
		focus = CUB_nodem_syntot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_5"
		add_political_power = 50
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_nodem_syntot
	icon = GFX_goal_Centralised_Government
	x = -4
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_syn_2
		focus = CUB_nodem_tot_3
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syntot"
		add_political_power = 75
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_syndiedem
	icon = GFX_goal_generic_elections
	x = 4
	y = 1
	relative_position_id = CUB_orthodox_syndicalism
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}
	prerequisite = {
		focus = CUB_orthodox_syndicalism
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndiedem"
		hidden_effect = {
			if = {
				limit = {
					has_government = radical_socialist
				}
				CUB_allow_vanilla_elections_radsoc = yes
			}
			else_if = {
				limit = {
					has_government = syndicalist
				}
				CUB_allow_vanilla_elections_syndie = yes
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
	}
}

shared_focus = {
	id = CUB_electoral_reform
	icon = GFX_socialist_constitution
	x = 3
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_syndiedem
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_electoral_reform"
		add_political_power = 20
		add_stability = 0.02
		add_war_support = 0.02
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_rural_participation
	icon = GFX_focus_AUS_agriculture
	x = 5
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 7

	prerequisite = {
		focus = CUB_syndiedem
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_rural_participation"
		add_political_power = -30
		add_ideas = CUB_ruralpolitics_idea
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_syndflav_1
	icon = GFX_goal_women_industry
	x = 2
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 7

	prerequisite = {
		focus = CUB_electoral_reform
	}
	prerequisite = {
		focus = CUB_rural_participation
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_1"
		add_political_power = 35
		add_war_support = 0.03
		add_popularity = {
			ideology = syndicalist
			popularity = 0.07
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.07
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_syndflav_2
	icon = GFX_goal_red_star_dove
	x = 4
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_electoral_reform
	}
	prerequisite = {
		focus = CUB_rural_participation
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_2"
		add_stability = 0.04
		add_political_power = 10
		add_popularity = {
			ideology = syndicalist
			popularity = 0.01
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.01
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_syndflav_3
	icon = GFX_goal_generic_war_with_comintern
	x = 6
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_electoral_reform
	}
	prerequisite = {
		focus = CUB_rural_participation
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_3"
		swap_ideas = {
			remove_idea = CUB_ruralpolitics_idea
			add_idea = CUB_ruralpolitics_idea_2
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_syndflav_4
	icon = GFX_Socialist_Law
	x = 3
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 7

	prerequisite = {
		focus = CUB_syndflav_1
	}
	prerequisite = {
		focus = CUB_syndflav_2
	}
	prerequisite = {
		focus = CUB_syndflav_3
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_4"
		add_stability = 0.03
		add_political_power = 30
		swap_ideas = {
			remove_idea = CUB_ruralpolitics_idea_2
			add_idea = CUB_ruralpolitics_idea_3
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_syndflav_5
	icon = GFX_focus_ger_great_red_menace
	x = 5
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 10

	prerequisite = {
		focus = CUB_syndflav_1
	}
	prerequisite = {
		focus = CUB_syndflav_2
	}
	prerequisite = {
		focus = CUB_syndflav_3
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_5"
		add_political_power = 150
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_syndflav_6
	icon = GFX_goal_anarcho_communism
	x = 4
	y = 5
	relative_position_id = CUB_orthodox_syndicalism
	cost = 4

	prerequisite = {
		focus = CUB_syndflav_4
	}
	prerequisite = {
		focus = CUB_syndflav_5
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_6"
		add_political_power = 10
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
