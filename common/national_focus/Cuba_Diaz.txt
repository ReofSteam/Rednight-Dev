##########################
### Cuban Diaz Focuses ###
##########################
###     By Pietrus     ###
##########################

focus_tree = {
	id = CUB_authoritarian_focuses
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}
	default = no
	continuous_focus_position = { x = 150 y = 900 }

	shared_focus = CUB_authoritarianism_normal
	shared_focus = CUB_new_economic_expansion
	shared_focus = CUB_foreign_relate
	shared_focus = CUB_begin_mil_reform
}

shared_focus = {
	id = CUB_authoritarianism_normal
	icon = GFX_goal_ideology_paternal_autocrat
	x = 4
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_authoritarianism_normal_2
	icon = GFX_goal_constitutional_guarantees
	x = 0
	y = 1
	relative_position_id = CUB_authoritarianism_normal
	cost = 7

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_2"
		add_political_power = 50
		add_stability = 0.05
		add_ideas = CUB_autorconst_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_authoritarianism_normal_3
	icon = GFX_goal_checkmate
	x = -3
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 10

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
		modifier = {
			AND = {
				has_global_flag = USA_civil_war_over_flag
				country_exists = CSA
			}
			factor = 4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_3"
		add_stability = -0.05
		add_political_power = 200
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_authoritarianism_normal_4
	icon = GFX_goal_production
	x = -1
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 10

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_4"
		add_political_power = -25
		if = {
			limit = {
				has_government = paternal_autocrat
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.1
			}
		}
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_authoritarianism_normal_5
	icon = GFX_goal_bag_of_money
	x = 1
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 6

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_5"
		add_political_power = 50
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_authoritarianism_normal_6
	icon = GFX_goal_HOL_amend_wapenwet
	x = 3
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 10

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_6"
		army_experience = 50
		if = {
			limit = {
				NOT = {
					has_tech = tech_military_police
				}
			}
			set_technology = { tech_military_police = 1 }
		}
		else = {
			add_war_support = 0.05
		}
		hidden_effect = {
			load_oob = CUB_diazpolice
		}
		custom_effect_tooltip = CUB_diazmps
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_authoritarianism_normal_7
	icon = GFX_focus_chi_mission_to_the_us
	x = -3
	y = 4
	relative_position_id = CUB_authoritarianism_normal
	cost = 4

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_3
	}

	ai_will_do = {
		factor = 15
		modifier = {
			AND = {
				has_global_flag = USA_civil_war_over_flag
				country_exists = CSA
			}
			factor = 4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_7"
		add_ideas = CUB_hailcol_idea
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = CUB_authoritarianism_normal_8
	icon = GFX_goal_generic_neutrality_focus
	x = -2
	y = 3
	relative_position_id = CUB_authoritarianism_normal
	cost = 6

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_3
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_8"
		add_war_support = 0.1
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = CUB_authoritarianism_normal_9
	icon = GFX_focus_ger_return_of_the_kaiser
	x = 0
	y = 3
	relative_position_id = CUB_authoritarianism_normal
	cost = 2

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_4
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_5
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_9"
		army_experience = 10
		navy_experience = 10
		air_experience = 10
		custom_effect_tooltip = CUB_diazgermanflat
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = CUB_authoritarianism_normal_10
	icon = GFX_goal_KTG_Bookstack
	x = 2
	y = 3
	relative_position_id = CUB_authoritarianism_normal
	cost = 3

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_5
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_10"
		add_war_support = 0.05
		add_timed_idea = {
			idea = CUB_afrowork
			days = 360
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = CUB_authoritarianism_normal_11
	icon = GFX_goal_step_on_skull
	x = 3
	y = 4
	relative_position_id = CUB_authoritarianism_normal
	cost = 6

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_11"
		if = {
			limit = {
				has_government = paternal_autocrat
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
		}
		hidden_effect = {
			load_oob = CUB_diazpolice2
		}
		custom_effect_tooltip = CUB_diazmps2
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_authoritarianism_normal_12
	icon = GFX_goal_state_economy
	x = 0
	y = 4
	relative_position_id = CUB_authoritarianism_normal
	cost = 4

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_8
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_9
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_10
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_12"
		swap_ideas = {
			remove_idea = CUB_autorconst_idea
			add_idea = CUB_autorconst2_idea
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_authoritarianism_normal_13
	icon = GFX_goal_Centralised_Government
	x = 0
	y = 5
	relative_position_id = CUB_authoritarianism_normal
	cost = 9

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_7
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_11
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_12
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_13"
		add_stability = 0.05
		swap_ideas = {
			remove_idea = CUB_autorconst2_idea
			add_idea = CUB_autorconst3_idea
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESISTANCE FOCUS_FILTER_STABILITY }
}
