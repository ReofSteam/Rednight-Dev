###########################
# South Africa Focus Tree
# By Rylock
###########################

focus_tree = {
	id = SAF_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = SAF
		}
	}

	reset_on_civilwar = no
	default = no
	continuous_focus_position = { x = 100 y = 950 }

	focus = {
		id = SAF_black_monday_crisis
		icon = GFX_focus_empty_coffers
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_idea = SAF_black_monday_1
			has_government = authoritarian_democrat
			custom_trigger_tooltip = {
				tooltip = SAF_1938_elections_not_held
				NOT = { has_country_flag = SAF_1938_elections_held }
			}
		}
		x = 6
		y = 0
		cost = 8

		ai_will_do = {
			factor = 5
		}

		bypass = {
			has_idea = SAF_black_monday_1
			OR = {
				NOT = { has_government = authoritarian_democrat }
				custom_trigger_tooltip = {
					tooltip = SAF_1938_elections_held
					has_country_flag = SAF_1938_elections_held
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_black_monday_crisis"
			country_event = saf.4
		}
	}

	### POLITICAL

	focus = {
		id = SAF_representation_natives_act
		icon = GFX_goal_generic_neutrality_focus
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_black_monday_crisis
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_government = authoritarian_democrat
			custom_trigger_tooltip = {
				tooltip = SAF_1938_elections_not_held
				NOT = { has_country_flag = SAF_1938_elections_held }
			}
		}
		x = -3
		y = 1
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				NOT = { has_government = authoritarian_democrat }
				custom_trigger_tooltip = {
					tooltip = SAF_1938_elections_held
					has_country_flag = SAF_1938_elections_held
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_representation_natives_act"
			country_event = saf.10
		}
	}

	focus = {
		id = SAF_paramount_chiefs
		icon = GFX_focus_RAJ_indian_gentlemen_offcers
		relative_position_id = SAF_representation_natives_act
		mutually_exclusive = { focus = SAF_nuweveld }
		prerequisite = {
			focus = SAF_representation_natives_act
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { has_completed_focus = SAF_implement_apartheid }
		}
		x = -2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.5
				NOT = { has_country_flag = SAF_1938_elections_held }
				has_country_flag = SAF_NP_ALONE
			}
			modifier = {
				factor = 2
				NOT = { has_country_flag = SAF_1938_elections_held }
				has_country_flag = SAF_NP_UNITED
			}
			modifier = {
				factor = 0
				has_country_flag = { flag = SAF_segregation_reform value < -1 }
			}
			modifier = {
				factor = 0
				has_country_flag = SAF_1938_elections_held
				has_authoritarian_government = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_paramount_chiefs"
			modify_country_flag = { flag = SAF_segregation_reform value = 1 }
			add_political_power = 50
			SAF_reform_segregation_1 = yes
			decrease_ruling_party_popularity_by_5 = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_develop_provinces
		icon = GFX_goal_generic_construct_infrastructure
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_paramount_chiefs
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			OR = {
				542 = { is_owned_and_controlled_by = SAF } #Bechuanaland
				545 = { is_owned_and_controlled_by = SAF } #Rhodesia
				719 = { is_owned_and_controlled_by = SAF } #Natal
			}
		}
		x = -3
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 542 }
			NOT = { owns_state = 545 }
			NOT = { owns_state = 719 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_develop_provinces"
			add_political_power = 50
			if = {
				limit = {
					542 = {
						is_owned_and_controlled_by = SAF
						free_building_slots = { building = infrastructure size > 1 }
					}
				}
				542 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					545 = {
						is_owned_and_controlled_by = SAF
						free_building_slots = { building = infrastructure size > 1 }
					}
				}
				545 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					719 = {
						is_owned_and_controlled_by = SAF
						free_building_slots = { building = infrastructure size > 1 }
					}
				}
				719 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_develop_provinces_2
		icon = GFX_goal_generic_construction2
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_develop_provinces
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			OR = {
				545 = { is_owned_and_controlled_by = SAF } #Rhodesia
				719 = { is_owned_and_controlled_by = SAF } #Natal
			}
		}
		x = -3
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = SAF_not_has_civil_war
					NOT = { country_exists = SFR }
				}
				NOT = { owns_state = 545 }
				NOT = { owns_state = 719 }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_develop_provinces_2"
			if = {
				limit = { 545 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = steel
					amount = 5
					state = 545
				}
			}
			if = {
				limit = { 719 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = steel
					amount = 8
					state = 719
				}
				719 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_native_autonomy
		icon = GFX_focus_generic_support_the_left_right
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_paramount_chiefs
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_native_autonomy"
			country_event = saf.11
		}
	}

	focus = {
		id = SAF_paramount_forces
		icon = GFX_goal_conscription
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_native_autonomy
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			542 = { is_owned_and_controlled_by = SAF } #Bechuanaland
			719 = { is_owned_and_controlled_by = SAF } #Natal
		}
		x = -1
		y = 3
		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_paramount_forces"
			add_political_power = 50
			add_stability = 0.03
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SAF_askari_corps
		icon = GFX_focus_generic_little_entente
		relative_position_id = SAF_representation_natives_act
		prerequisite = { focus = SAF_develop_provinces_2 }
		prerequisite = { focus = SAF_paramount_forces }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			275 = { is_owned_and_controlled_by = SAF } #Transvaal
		}
		x = -2
		y = 4
		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_askari_corps"
			add_political_power = 50
			custom_effect_tooltip = SAF_askari_divisions
			hidden_effect = { load_oob = SAF_Askari }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_nuweveld
		icon = GFX_goal_generic_position_armies
		relative_position_id = SAF_representation_natives_act
		mutually_exclusive = { focus = SAF_paramount_chiefs }
		prerequisite = {
			focus = SAF_representation_natives_act
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_authoritarian_government = yes
			NOT = { has_completed_focus = SAF_implement_federation }
		}
		x = 2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				NOT = { has_country_flag = SAF_1938_elections_held }
				has_country_flag = SAF_NP_ALONE
			}
			modifier = {
				factor = 0.5
				NOT = { has_country_flag = SAF_1938_elections_held }
				has_country_flag = SAF_NP_UNITED
			}
			modifier = {
				factor = 0
				has_country_flag = { flag = SAF_segregation_reform value > 1 }
			}
			modifier = {
				factor = 0
				has_country_flag = SAF_1938_elections_held
				NOT = { has_authoritarian_government = yes }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_nuweveld"
			modify_country_flag = { flag = SAF_segregation_reform value = -1 }
			add_political_power = 50
			SAF_increase_segregation_1 = yes
			increase_ruling_party_popularity_by_10 = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_nuweveld_settlements
		icon = GFX_goal_tfv_saf_support_ossebrandwag
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_nuweveld
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			OR = {
				542 = { is_owned_and_controlled_by = SAF } #Bechuanaland
				545 = { is_owned_and_controlled_by = SAF } #Rhodesia
				719 = { is_owned_and_controlled_by = SAF } #Natal
			}
		}
		x = 1
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
		}

		bypass = {
			OR = {
				AND = {
					custom_trigger_tooltip = {
						tooltip = SAF_not_has_civil_war
						NOT = { country_exists = SFR }
					}
					NOT = { owns_state = 542 }
					NOT = { owns_state = 545 }
					NOT = { owns_state = 719 }
				}
				NOT = { has_authoritarian_government = yes }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_nuweveld_settlements"
			add_political_power = 50
			if = {
				limit = {
					542 = {
						is_owned_and_controlled_by = SAF
						free_building_slots = { building = infrastructure size > 1 }
					}
				}
				542 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					545 = {
						is_owned_and_controlled_by = SAF
						free_building_slots = { building = infrastructure size > 1 }
					}
				}
				545 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					719 = {
						is_owned_and_controlled_by = SAF
						free_building_slots = { building = infrastructure size > 1 }
					}
				}
				719 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_expand_mines
		icon = GFX_goal_forced_res
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_nuweveld_settlements
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			OR = {
				947 = { is_owned_and_controlled_by = SAF } #Oranje
				681 = { is_owned_and_controlled_by = SAF } #Cape
			}
		}
		x = 1
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_expand_mines"
			if = {
				limit = { 947 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = steel
					amount = 10
					state = 947
				}
			}
			if = {
				limit = { 681 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = chromium
					amount = 12
					state = 681
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_native_labour
		icon = GFX_goal_forced_con
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_nuweveld
		}
		available = {
			has_authoritarian_government = yes
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 3
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { has_authoritarian_government = yes }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_native_labour"
			modify_country_flag = { flag = SAF_segregation_reform value = -1 }
			add_stability = -0.10
			increase_ruling_party_popularity_by_5 = yes
			add_ideas = SAF_native_labour_idea
			SAF_increase_segregation_1 = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SAF_expand_steelworks
		icon = GFX_focus_generic_steel
		relative_position_id = SAF_representation_natives_act
		prerequisite = {
			focus = SAF_nuweveld_settlements
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			275 = { is_owned_and_controlled_by = SAF } #Transvaal
		}
		x = 3
		y = 3
		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 275 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_expand_steelworks"
			add_resource = {
				type = steel
				amount = 15
				state = 275
			}
			275 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_kariba_dam
		icon = GFX_goal_generic_fortify_city
		relative_position_id = SAF_representation_natives_act
		prerequisite = { focus = SAF_expand_mines }
		prerequisite = { focus = SAF_expand_steelworks }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			545 = { is_owned_and_controlled_by = SAF } #Transvaal
		}
		x = 2
		y = 4
		cost = 20

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_kariba_dam"
			add_political_power = 100
			545 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}


	### ECONOMIC

	focus = {
		id = SAF_industrialization
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = SAF_black_monday_crisis
		mutually_exclusive = { focus = SAF_entente_help }
		mutually_exclusive = { focus = SAF_work_programs }
		prerequisite = {
			focus = SAF_black_monday_crisis
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0.8
				has_country_flag = SAF_NP_ALONE
			}
			modifier = {
				factor = 0.5
				has_country_flag = SAF_NP_LABOUR
			}
			modifier = {
				factor = 0.5
				has_country_flag = SAF_NP_UNITED
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_industrialization"
			add_tech_bonus = {
				name = SAF_industrialization
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_new_resources_1
		icon = GFX_all_resource
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_industrialization
			focus = SAF_entente_help
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = {
				has_completed_focus = SAF_infrastructure_1
			}
			OR = {
				947 = { is_owned_and_controlled_by = SAF } #Oranje
				275 = { is_owned_and_controlled_by = SAF } #Transvaal
			}
			OR = {
				has_completed_focus = SAF_industrialization
				custom_trigger_tooltip = {
					tooltip = SAF_CAN_refused_trade
					has_country_flag = SAF_CAN_refused_normalization
				}
			}
		}
		x = 2
		y = 2
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 947 }
			NOT = { owns_state = 275 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_new_resources_1"
			if = {
				limit = { 947 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = chromium
					amount = 10
					state = 947
				}
			}
			if = {
				limit = { 275 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = steel
					amount = 15
					state = 275
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_industrialization_1
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_new_resources_1
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			275 = { is_owned_and_controlled_by = SAF } #Transvaal
		}
		x = 2
		y = 3
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 275 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_industrialization_1"
			if = {
				limit = { has_idea = SAF_black_monday_1 }
				swap_ideas = {
					remove_idea = SAF_black_monday_1
					add_idea = SAF_black_monday_2
				}
			}
			275 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_shipbuilding_1
		icon = GFX_goal_generic_construct_naval_dockyard
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_industrialization_1
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			681 = { is_owned_and_controlled_by = SAF } #Cape
		}
		x = 2
		y = 4
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_shipbuilding_1"
			681 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_entente_help
		icon = GFX_goal_canada
		relative_position_id = SAF_black_monday_crisis
		mutually_exclusive = { focus = SAF_industrialization }
		mutually_exclusive = { focus = SAF_work_programs }
		prerequisite = {
			focus = SAF_black_monday_crisis
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			OR = {
				is_subject = no
				is_subject_of = CAN
			}
			CAN = {
				is_faction_leader = yes
				NOT = { has_war_with = SAF }
			}
		}
		x = 4
		y = 1
		cost = 8

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0.1
				has_country_flag = SAF_NP_ALONE
			}
			modifier = {
				factor = 0.1
				has_country_flag = SAF_NP_LABOUR
			}
			modifier = {
				factor = 0.7
				has_country_flag = SAF_NP_UNITED
			}
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				AND = {
					is_subject = yes
					NOT = { is_subject_of = CAN }
				}
				CAN = { NOT = { is_faction_leader = yes } }
				has_war_with = CAN
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_entente_help"
			add_political_power = 50
			add_tech_bonus = {
				name = SAF_entente_help
				bonus = 1
				uses = 1
				category = industry
			}
			CAN = {
				country_event = saf.15
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_foreign_investment
		icon = GFX_goal_generic_intelligence_exchange
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_entente_help
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			custom_trigger_tooltip = {
				tooltip = SAF_CAN_not_refuse
				NOT = { has_country_flag = SAF_CAN_refused_normalization }
			}
		}
		x = 4
		y = 2
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_foreign_investment"
			add_political_power = 100
			add_ideas = SAF_entente_investment
			if = {
				limit = { has_idea = SAF_black_monday_1 }
				swap_ideas = {
					remove_idea = SAF_black_monday_1
					add_idea = SAF_black_monday_2
				}
			}
			random_owned_state = {
				prioritize = { 681 } #Cape
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_new_resources_2
		icon = GFX_all_resource
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_foreign_investment
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			945 = { is_owned_and_controlled_by = SAF } #Northern Cape
		}
		x = 4
		y = 3
		cost = 8

		ai_will_do = {
			factor = 3
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 945 }
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_new_resources_2"
			add_resource = {
				type = aluminium
				amount = 5
				state = 945
			}
			add_resource = {
				type = steel
				amount = 12
				state = 945
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_work_programs
		icon = GFX_goal_generic_construction2
		relative_position_id = SAF_black_monday_crisis
		mutually_exclusive = { focus = SAF_industrialization }
		mutually_exclusive = { focus = SAF_entente_help }
		prerequisite = {
			focus = SAF_black_monday_crisis
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 6
		y = 1
		cost = 8

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 1.4
				has_country_flag = SAF_NP_LABOUR
			}
			modifier = {
				factor = 0.8
				has_country_flag = SAF_NP_UNITED
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_work_programs"
			add_political_power = 100
			increase_ruling_party_popularity_by_5 = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_infrastructure_1
		icon = GFX_goal_generic_construct_infrastructure
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_work_programs
			focus = SAF_entente_help
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = {
				has_completed_focus = SAF_new_resources_1
			}
			OR = {
				has_completed_focus = SAF_work_programs
				custom_trigger_tooltip = {
					tooltip = SAF_CAN_refused_trade
					has_country_flag = SAF_CAN_refused_normalization
				}
			}
		}
		x = 6
		y = 2
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_infrastructure_1"
			add_political_power = 50
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = { building = infrastructure size > 0 }
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_new_resources_3
		icon = GFX_all_resource
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_infrastructure_1
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			OR = {
				947 = { is_owned_and_controlled_by = SAF } #Oranje
				719 = { is_owned_and_controlled_by = SAF } #Natal
			}
		}
		x = 6
		y = 3
		cost = 8

		ai_will_do = {
			factor = 3
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 947 }
			NOT = { owns_state = 719 }
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_new_resources_3"
			if = {
				limit = { has_idea = SAF_black_monday_1 }
				swap_ideas = {
					remove_idea = SAF_black_monday_1
					add_idea = SAF_black_monday_2
				}
			}
			if = {
				limit = { 947 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = chromium
					amount = 10
					state = 947
				}
			}
			if = {
				limit = { 719 = { is_owned_and_controlled_by = SAF } }
				add_resource = {
					type = steel
					amount = 18
					state = 719
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_military_factories
		icon = GFX_goal_generic_construct_mil_factory
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_new_resources_3
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 6
		y = 4
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_military_factories"
			add_political_power = 50
			random_owned_state = {
				prioritize = { 275 } #Transvaal
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_recovery
		icon = GFX_goal_generic_positive_trade_relations_gold
		relative_position_id = SAF_black_monday_crisis
		prerequisite = {
			focus = SAF_shipbuilding_1
			focus = SAF_new_resources_2
			focus = SAF_military_factories
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 4
		y = 5
		cost = 8

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { has_idea = SAF_black_monday_1 }
			NOT = { has_idea = SAF_black_monday_2 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_recovery"
			if = {
				limit = { has_idea = SAF_black_monday_1 }
				remove_ideas = SAF_black_monday_1
			}
			if = {
				limit = { has_idea = SAF_black_monday_2 }
				remove_ideas = SAF_black_monday_2
			}
		}
	}

	focus = {
		id = SAF_industrial_focus
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = SAF_black_monday_crisis
		mutually_exclusive = { focus = SAF_military_focus }
		mutually_exclusive = { focus = SAF_trade_focus }
		prerequisite = {
			focus = SAF_recovery
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_war = no
		}
		x = 2
		y = 6
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_industrial_focus"
			random_owned_state = {
				prioritize = { 275 } #Transvaal
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				prioritize = { 681 } #Cape
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_military_focus
		icon = GFX_goal_generic_construct_mil_factory
		relative_position_id = SAF_black_monday_crisis
		mutually_exclusive = { focus = SAF_industrial_focus }
		mutually_exclusive = { focus = SAF_trade_focus }
		prerequisite = {
			focus = SAF_recovery
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_war = no
		}
		x = 4
		y = 6
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_military_focus"
			random_owned_state = {
				prioritize = { 275 } #Transvaal
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				prioritize = { 681 } #Cape
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_trade_focus
		icon = GFX_goal_generic_positive_trade_relations
		relative_position_id = SAF_black_monday_crisis
		mutually_exclusive = { focus = SAF_industrial_focus }
		mutually_exclusive = { focus = SAF_military_focus }
		prerequisite = {
			focus = SAF_recovery
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_war = no
		}
		x = 6
		y = 6
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_trade_focus"
			add_political_power = 50
			add_ideas = SAF_trade_focus_idea
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}


	focus = {
		id = SAF_1938_elections
		icon = GFX_goal_government_icon
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_1938_elections_held
				has_country_flag = SAF_1938_elections_held
			}
		}
		x = 19
		y = 0
		cost = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_1938_elections_held
				has_country_flag = SAF_1938_elections_held
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_1938_elections"
			custom_effect_tooltip = unlock_focuses
		}
	}


	### NATIONAL PARTY VICTORY

	focus = {
		id = SAF_nationalist_victory
		icon = GFX_goal_SAF_national
		relative_position_id = SAF_1938_elections
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			OR = {
				has_government = authoritarian_democrat
				has_government = paternal_autocrat
			}
		}
		prerequisite = {
			focus = SAF_1938_elections
		}
		x = -2
		y = 1
		cost = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_nationalist_win_SCW
				has_country_flag = SAF_nationalist_win_SCW
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_nationalist_victory"
			if = {
				limit = { has_idea = SAF_divided_government_1 }
				remove_ideas = SAF_divided_government_1
			}
			if = {
				limit = { has_idea = SAF_divided_government_2 }
				remove_ideas = SAF_divided_government_2
			}
			if = {
				limit = { has_idea = SAF_divided_government_3 }
				remove_ideas = SAF_divided_government_3
			}
			country_event = saf.27
		}
	}

	focus = {
		id = SAF_implement_apartheid
		icon = GFX_goal_tax_slave
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_nationalist_victory
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_authoritarian_government = yes
			custom_trigger_tooltip = {
				tooltip = SAF_not_waiting
				NOT = { has_idea = SAF_apartheid_wait }
			}
		}
		x = -2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_implement_apartheid"
			if = {
				limit = { has_idea = SAF_segregation_1 }
				remove_ideas = SAF_segregation_1
			}
			if = {
				limit = { has_idea = SAF_segregation_2 }
				remove_ideas = SAF_segregation_2
			}
			if = {
				limit = { has_idea = SAF_segregation_3 }
				remove_ideas = SAF_segregation_3
			}
			if = {
				limit = { has_idea = SAF_segregation_4 }
				remove_ideas = SAF_segregation_4
			}
			if = {
				limit = { has_idea = SAF_segregation_5 }
				remove_ideas = SAF_segregation_5
			}
			country_event = saf.29
		}
	}

	focus = {
		id = SAF_broderbond
		icon = GFX_goal_molotov_ribbentrop_pact
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_implement_apartheid
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_authoritarian_government = yes
		}
		x = -2
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_broderbond"
			add_ideas = SAF_broderbond_idea
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_join_mitteleuropa
		icon = GFX_goal_germany
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_nationalist_victory
		}
		mutually_exclusive = {
			focus = SAF_diplo_isolation
			focus = SAF_rejoin_entente
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			date > 1939.1.1
			is_subject = no
			has_war = no
			is_in_faction = no
			has_authoritarian_government = yes
			GER = {
				is_faction_leader = yes
				NOT = { has_capitulated = yes }
			}
		}
		x = 0
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				GER = {
					has_war = yes
					surrender_progress > 0.2
				}
			}
			modifier = {
				factor = 1.5
				GER = { has_war = no }
			}
			modifier = {
				factor = 5
				GER = { is_in_africa = yes }
			}
		}

		available_if_capitulated = yes

		bypass = {
			is_in_faction_with = GER
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_join_mitteleuropa"
			GER = {
				country_event = saf.32
			}
		}
	}

	focus = {
		id = SAF_german_exchange
		icon = GFX_goal_generic_improve_relations
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_join_mitteleuropa
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			is_in_faction_with = GER
			has_authoritarian_government = yes
		}
		x = 0
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_german_exchange"
			add_political_power = 100
			add_opinion_modifier = { target = GER modifier = SAF_cultural_exchange }
			reverse_add_opinion_modifier = { target = GER modifier = SAF_cultural_exchange }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_diplo_isolation
		icon = GFX_goal_generic_isolation
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_nationalist_victory
			focus = SAF_dominion_victory
		}
		mutually_exclusive = {
			focus = SAF_join_mitteleuropa
			focus = SAF_rejoin_entente
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			is_in_faction = no
		}
		x = 2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				has_war = yes
			}
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes
		continue_if_invalid = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_diplo_isolation"
			add_political_power = 100
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SAF_defense_focus
		icon = GFX_goal_generic_defence
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_diplo_isolation
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 2
		y = 2
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 3
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_defense_focus"
			add_ideas = SAF_defense_focus_idea
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_african_gold
		icon = GFX_goal_gold_reserve
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_broderbond
			focus = SAF_natives_trust_act
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 2
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_african_gold"
			add_ideas = SAF_african_gold_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_develop_capital
		icon = GFX_goal_generic_production2
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_african_gold
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			capital_scope = { is_owned_and_controlled_by = SAF }
		}
		x = 2
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_develop_capital"
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_expansionism
		icon = GFX_goal_generic_wolf_pack
		relative_position_id = SAF_nationalist_victory
		mutually_exclusive = {
			focus = SAF_focus_inward
		}
		prerequisite = {
			focus = SAF_broderbond
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_authoritarian_government = yes
		}
		x = -2
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_expansionism"
			add_ideas = SAF_expansionism_idea
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SAF_northern_border
		icon = GFX_goal_generic_occupy_states_ongoing_war
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_expansionism
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_war = no
			has_authoritarian_government = yes
		}
		x = -2
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_northern_border"
			if = {
				limit = { owns_state = 964 } #Amboland
				add_state_core = 964
				else = { add_state_claim = 964 }
			}
			if = {
				limit = { owns_state = 541 } #Sudwestafrika
				add_state_core = 541
				else = { add_state_claim = 541 }
			}
			if = {
				limit = { owns_state = 950 } #Inhambane
				add_state_core = 950
				else = { add_state_claim = 950 }
			}
			every_owned_state = {
				limit = { is_in_home_area = yes }
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 3
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_focus_inward
		icon = GFX_focus_RAJ_lions_of_the_great_war
		relative_position_id = SAF_nationalist_victory
		mutually_exclusive = {
			focus = SAF_expansionism
		}
		prerequisite = {
			focus = SAF_broderbond
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_authoritarian_government = yes
		}
		x = 0
		y = 3
		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_focus_inward"
			add_political_power = 100
			add_war_support = -0.10
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_push_for_unity
		icon = GFX_goal_generic_propaganda
		relative_position_id = SAF_nationalist_victory
		prerequisite = {
			focus = SAF_focus_inward
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_authoritarian_government = yes
		}
		x = 0
		y = 4
		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_push_for_unity"
			add_stability = 0.05
			increase_ruling_party_popularity_by_10 = yes
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}


	### DOMINION PARTY VICTORY

	focus = {
		id = SAF_dominion_victory
		icon = GFX_goal_united_kingdom
		relative_position_id = SAF_1938_elections
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_government = social_conservative
		}
		prerequisite = {
			focus = SAF_1938_elections
		}
		x = 2
		y = 1
		cost = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_dominion_win_SCW
				has_country_flag = SAF_dominion_win_SCW
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_dominion_victory"
			if = {
				limit = { has_idea = SAF_divided_government_1 }
				remove_ideas = SAF_divided_government_1
			}
			if = {
				limit = { has_idea = SAF_divided_government_2 }
				remove_ideas = SAF_divided_government_2
			}
			if = {
				limit = { has_idea = SAF_divided_government_3 }
				remove_ideas = SAF_divided_government_3
			}
			country_event = saf.28
		}
	}

	focus = {
		id = SAF_implement_federation
		icon = GFX_goal_ideology_social_conservative
		relative_position_id = SAF_dominion_victory
		prerequisite = {
			focus = SAF_dominion_victory
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_war = no
			has_government = social_conservative
			custom_trigger_tooltip = {
				tooltip = SAF_not_waiting
				NOT = { has_idea = SAF_federation_wait }
			}
		}
		x = 2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_implement_federation"
			if = {
				limit = { NOT = { has_cosmetic_tag = SAF_federation } }
				custom_effect_tooltip = SAF_become_federation
			}
			add_political_power = -200
			if = {
				limit = {
					owns_state = 681
					NOT = { capital_scope = { state = 681 } }
				}
				set_capital = 681
			}
			if = {
				limit = { CAN = { is_faction_leader = yes } }
				CAN = { add_opinion_modifier = { target = SAF modifier = SAF_formed_federation_1 } }
				hidden_effect = {
					add_opinion_modifier = { target = CAM modifier = SAF_formed_federation_1 }
					every_country = {
						limit = { is_in_faction_with = CAN }
						add_opinion_modifier = { target = SAF modifier = SAF_formed_federation_1 }
						reverse_add_opinion_modifier = { target = SAF modifier = SAF_formed_federation_1 }
					}
				}
			}
			if = {
				limit = { GBR = { is_faction_leader = yes } }
				GBR = { add_opinion_modifier = { target = SAF modifier = SAF_formed_federation_1 } }
				hidden_effect = {
					add_opinion_modifier = { target = GBR modifier = SAF_formed_federation_1 }
					every_country = {
						limit = { is_in_faction_with = CAN }
						add_opinion_modifier = { target = SAF modifier = SAF_formed_federation_1 }
						reverse_add_opinion_modifier = { target = SAF modifier = SAF_formed_federation_1 }
					}
				}
			}
			if = {
				limit = { country_exists = GER }
				reverse_add_opinion_modifier = { target = GER modifier = SAF_formed_federation_2 }
			}
			if = {
				limit = { country_exists = MAF }
				reverse_add_opinion_modifier = { target = MAF modifier = SAF_formed_federation_2 }
			}
			hidden_effect = {
				if = {
					limit = { NOT = { has_cosmetic_tag = SAF_federation } }
					set_cosmetic_tag = SAF_federation
				}
				country_event = saf.35
				country_event = { id = saf.79 days = 10 } # Rename Dominionist Party
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_natives_trust_act
		icon = GFX_goal_constitutional_guarantees
		relative_position_id = SAF_dominion_victory
		prerequisite = {
			focus = SAF_implement_federation
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { has_authoritarian_government = yes }
		}
		x = 2
		y = 2
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_natives_trust_act"
			add_stability = 0.10
			decrease_ruling_party_popularity_by_10 = yes
			if = {
				limit = { has_idea = SAF_native_labour_idea }
				remove_ideas = SAF_native_labour_idea
			}
			if = {
				limit = { has_idea = SAF_apartheid_1 }
				swap_ideas = {
					remove_idea = SAF_apartheid_1
					add_idea = SAF_segregation_4
				}
			}
			if = {
				limit = { has_idea = SAF_apartheid_2 }
				swap_ideas = {
					remove_idea = SAF_apartheid_2
					add_idea = SAF_segregation_4
				}
			}
			if = {
				limit = { has_idea = SAF_segregation_1 }
				swap_ideas = {
					remove_idea = SAF_segregation_1
					add_idea = SAF_segregation_4
				}
			}
			if = {
				limit = { has_idea = SAF_segregation_2 }
				swap_ideas = {
					remove_idea = SAF_segregation_2
					add_idea = SAF_segregation_4
				}
			}
			if = {
				limit = { has_idea = SAF_segregation_3 }
				swap_ideas = {
					remove_idea = SAF_segregation_3
					add_idea = SAF_segregation_4
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SAF_rejoin_entente
		icon = GFX_goal_canada
		relative_position_id = SAF_dominion_victory
		mutually_exclusive = {
			focus = SAF_join_mitteleuropa
			focus = SAF_diplo_isolation
		}
		prerequisite = {
			focus = SAF_dominion_victory
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			date > 1939.1.1
			is_subject = no
			has_war = no
			is_in_faction = no
			has_government = social_conservative
			OR = {
				CAN = {
					is_faction_leader = yes
					NOT = { has_capitulated = yes }
				}
				GBR = {
					is_faction_leader = yes
					NOT = { has_capitulated = yes }
				}
			}
		}
		x = 0
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				CAN = {
					has_war = yes
					surrender_progress > 0.2
				}
			}
			modifier = {
				factor = 0
				GBR = {
					exists = yes
					has_war = yes
					surrender_progress > 0.2
				}
			}
			modifier = {
				factor = 1.5
				CAN = { has_war = no }
			}
		}

		available_if_capitulated = yes

		bypass = {
			is_in_faction_with = CAN
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_rejoin_entente"
			random_other_country = {
				limit = {
					OR = {
						tag = CAN
						tag = GBR
					}
					is_faction_leader = yes
				}
				country_event = saf.36
			}
		}
	}

	focus = {
		id = SAF_the_restoration
		icon = GFX_goal_british_monarchy
		relative_position_id = SAF_dominion_victory
		prerequisite = {
			focus = SAF_rejoin_entente
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_government = social_conservative
			is_in_faction_with = CAN
		}
		x = 0
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_the_restoration"
			country_event = saf.39
		}
	}

	focus = {
		id = SAF_qualified_franchise_act
		icon = GFX_goal_SAF_reform_voting_law
		relative_position_id = SAF_dominion_victory
		prerequisite = {
			focus = SAF_natives_trust_act
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { has_authoritarian_government = yes }
		}
		x = 2
		y = 3
		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_qualified_franchise_act"
			add_political_power = 100
			increase_ruling_party_popularity_by_10 = yes
			if = {
				limit = { has_idea = SAF_segregation_4 }
				swap_ideas = {
					remove_idea = SAF_segregation_4
					add_idea = SAF_segregation_5
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_united_south_africa
		icon = GFX_goal_generic_propaganda
		relative_position_id = SAF_dominion_victory
		prerequisite = {
			focus = SAF_qualified_franchise_act
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { has_authoritarian_government = yes }
		}
		x = 2
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_united_south_africa"
			increase_ruling_party_popularity_by_10 = yes
			add_stability = 0.10
			if = {
				limit = {
					545 = {
						is_owned_by = SAF
						NOT = { is_core_of = SAF }
					}
				}
				545 = { add_core_of = SAF } #Rhodesia
			}
			if = {
				limit = {
					542 = {
						is_owned_by = SAF
						NOT = { is_core_of = SAF }
					}
				}
				542 = { add_core_of = SAF } #Bechuanaland
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SAF_native_service
		icon = GFX_focus_generic_little_entente
		relative_position_id = SAF_dominion_victory
		prerequisite = {
			focus = SAF_natives_trust_act
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { has_authoritarian_government = yes }
		}
		x = 0
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_native_service"
			add_ideas = SAF_native_service_idea
			unlock_decision_tooltip = SAF_demobilize_askari
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SAF_found_RSAF
		icon = GFX_goal_generic_air_doctrine
		relative_position_id = SAF_dominion_victory
		prerequisite = {
			focus = SAF_native_service
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { has_authoritarian_government = yes }
			is_in_faction_with = CAN
		}
		x = 0
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_found_RSAF"
			air_experience = 25
			add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 50 producer = CAN }
			add_equipment_to_stockpile = { type = nav_bomber_equipment_1 amount = 25 producer = CAN }
			add_ace = {
				name = "Adolph"
				surname = "Malan"
				callsign = "Sailor"
				type = fighter_genius
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}


	### CIVIL WAR

	focus = {
		id = SAF_civil_war
		icon = GFX_goal_generic_major_war
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
		}
		x = 28
		y = 1
		cost = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_civil_war"
			custom_effect_tooltip = unlock_focuses
		}
	}

	focus = {
		id = SAF_arms_trade
		icon = GFX_goal_generic_small_arms
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_civil_war
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
			NOT = { has_equipment = { infantry_equipment > 500 } }
		}
		x = -2
		y = 1
		cost = 5

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 2
				has_equipment = { infantry_equipment < 100 }
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_arms_trade"
			add_political_power = -100
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2000 producer = CAN }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_arms_trade_2
		icon = GFX_goal_generic_small_arms
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_arms_trade
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
			NOT = { has_equipment = { infantry_equipment > 500 } }
		}
		x = -2
		y = 3
		cost = 5

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 2
				has_equipment = { infantry_equipment < 100 }
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_arms_trade_2"
			add_political_power = -200
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2000 producer = CAN }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_we_must_win
		icon = GFX_goal_generic_political_pressure
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_civil_war
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
			if = {
				limit = { has_government = social_conservative }
				has_full_control_of_state = 681
			}
			if = {
				limit = { has_authoritarian_government = yes }
				has_full_control_of_state = 275
			}
		}
		x = 0
		y = 1
		cost = 1

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_we_must_win"
			add_ideas = SAF_in_civil_war
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SAF_call_to_rebellion
		icon = GFX_goal_generic_dangerous_deal
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_we_must_win
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
			SFR = {
				any_owned_state = { is_controlled_by = ROOT }
			}
		}
		x = -1
		y = 2
		cost = 1

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_call_to_rebellion"
			set_country_flag = SAF_called_to_rebellion
			if = {
				limit = { has_authoritarian_government = yes }
				custom_effect_tooltip = SAF_receive_afrikaner_rebels
				hidden_effect = { load_oob = ZAR_Rebels	}
				else = {
					custom_effect_tooltip = SAF_receive_native_rebels
					hidden_effect = { load_oob = SAF_Rebels }
				}
			}
		}
	}

	focus = {
		id = SAF_we_are_winning
		icon = GFX_focus_generic_support_the_left_right
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_we_must_win
		}
		available = {
			NOT = { has_idea = SAF_morale_fail }
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
			controls_all_owned_states = yes
			SFR = {
				NOT = { has_idea = SAF_morale_boost }
				if = {
					limit = { has_government = social_conservative }
					ROOT = {
						divisions_in_state = {
							state = 681
							size > 1
						}
					}
				}
				if = {
					limit = { has_authoritarian_government = yes }
					ROOT = {
						divisions_in_state = {
							state = 275
							size > 1
						}
					}
				}
			}
		}
		x = 1
		y = 2
		cost = 2

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_we_are_winning"
			add_timed_idea = { idea = SAF_morale_boost days = 90 }
			SFR = {
				add_timed_idea = { idea = SAF_morale_fail days = 90 }
			}
		}
	}

	focus = {
		id = SAF_the_big_push
		icon = GFX_goal_planning_bonus
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_we_must_win
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
		}
		x = 0
		y = 4
		cost = 5

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				NOT = {
					SFR = {
						any_owned_state = {
							ROOT = {
								divisions_in_state = {
									state = PREV
									size > 1
								}
							}
						}
					}
				}
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_the_big_push"
			add_timed_idea = { idea = SAF_big_push_idea days = 90 }
		}
	}

	focus = {
		id = SAF_call_to_arms
		icon = GFX_goal_national_mobilization
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_civil_war
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
			has_idea = limited_conscription
			has_manpower < 1000
		}
		x = 2
		y = 1
		cost = 2

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				has_political_power > 150
			}
		}

		available_if_capitulated = no

		bypass = {
			has_idea = extensive_conscription
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_call_to_arms"
			add_political_power = -200
			add_war_support = 0.10
			add_ideas = extensive_conscription
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_we_need_everyone
		icon = GFX_goal_national_mobilization
		relative_position_id = SAF_civil_war
		prerequisite = {
			focus = SAF_call_to_arms
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_has_civil_war
				has_war_with = SFR
			}
			has_idea = extensive_conscription
			has_manpower < 1000
		}
		x = 2
		y = 3
		cost = 2

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				has_political_power > 150
			}
		}

		available_if_capitulated = no

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_we_need_everyone"
			add_political_power = -300
			add_war_support = 0.10
			add_ideas = service_by_requirement
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
	}


### ARMY

	focus = {
		id = SAF_update_army
		icon = GFX_goal_SAF_army
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 36
		y = 0
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_update_army"
			army_experience = 25
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = SAF_weltkrieg_relics
		icon = GFX_focus_secret_rearmament
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_update_army
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_weltkrieg_relics"
			add_tech_bonus = {
				name = SAF_weltkrieg_relics
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_upgrade_artillery
		icon = GFX_goal_generic_army_artillery2
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_weltkrieg_relics
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -2
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_upgrade_artillery"
			add_tech_bonus = {
				name = SAF_upgrade_artillery
				bonus = 1
				uses = 1
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_q_corps
		icon = GFX_goal_military_academy
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_update_army
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			has_tech = motorised_infantry
		}
		x = 0
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_q_corps"
			if = {
				limit = { NOT = { has_tech = tech_logistics_company } }
				set_technology = { tech_logistics_company = 1 }
			}
			add_tech_bonus = {
				name = SAF_q_corps
				bonus = 1
				uses = 1
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_army_production
		icon = GFX_goal_generic_construct_mil_factory
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_q_corps
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 0
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_army_production"
			add_ideas = SAF_army_production_idea
		}
	}

	focus = {
		id = SAF_military_college
		icon = GFX_goal_generic_military_sphere
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_update_army
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 2
		y = 1
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_military_college"
			army_experience = 25
			add_tech_bonus = {
				name = SAF_military_college
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_call_for_recruits
		icon = GFX_goal_generic_propaganda
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_military_college
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 2
		y = 2
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_call_for_recruits"
			add_ideas = SAF_new_recruits
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_elite_force
		icon = GFX_goal_generic_axis_build_infantry
		relative_position_id = SAF_update_army
		prerequisite = { focus = SAF_upgrade_artillery }
		prerequisite = { focus = SAF_army_production }
		prerequisite = { focus = SAF_call_for_recruits }
		mutually_exclusive = {
			focus = SAF_mobile_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -2
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_elite_force"
			army_experience = 25
			add_tech_bonus = {
				name = SAF_elite_force
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_native_ncos
		icon = GFX_goal_generic_army_doctrines
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_elite_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -3
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_native_ncos"
			swap_ideas = {
				remove_idea = SAF_new_recruits
				add_idea = SAF_native_nco_focus
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SAF_special_forces
		icon = GFX_goal_generic_special_forces
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_native_ncos
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -3
		y = 5
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_special_forces"
			add_tech_bonus = {
				name = SAF_special_forces
				bonus = 1
				uses = 1
				category = para_tech
				category = marine_tech
				category = mountaineers_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_special_equip
		icon = GFX_goal_generic_army_artillery
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_elite_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_special_equip"
			add_tech_bonus = {
				name = SAF_special_equip
				bonus = 1
				uses = 1
				category = artillery
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_army_support
		icon = GFX_goal_continuous_reduce_training_time
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_special_equip
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 5
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_army_support"
			add_tech_bonus = {
				name = SAF_army_support
				bonus = 1
				uses = 1
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_mobile_force
		icon = GFX_goal_generic_build_tank
		relative_position_id = SAF_update_army
		prerequisite = { focus = SAF_upgrade_artillery }
		prerequisite = { focus = SAF_army_production }
		prerequisite = { focus = SAF_call_for_recruits }
		mutually_exclusive = {
			focus = SAF_elite_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 2
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_mobile_force"
			army_experience = 25
			add_tech_bonus = {
				name = SAF_mobile_force
				bonus = 1
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_mech_focus
		icon = GFX_goal_generic_army_motorized
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_mobile_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 1
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_mech_focus"
			add_tech_bonus = {
				name = SAF_mech_focus
				bonus = 1
				uses = 1
				category = motorized_equipment
				technology = rocket_artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_armored_corps
		icon = GFX_goal_generic_army_tanks
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_mech_focus
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 1
		y = 5
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_armored_corps"
			add_tech_bonus = {
				name = SAF_armored_corps
				bonus = 1
				uses = 1
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_mech_production
		icon = GFX_goal_continuous_repairments
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_mobile_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 3
		y = 4
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_mech_production"
			add_ideas = SAF_armor_production_idea
		}
	}

	focus = {
		id = SAF_mech_support
		icon = GFX_goal_continuous_non_factory_construct
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_mech_production
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 3
		y = 5
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 1.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_mech_support"
			add_tech_bonus = {
				name = SAF_mech_support
				bonus = 1
				uses = 1
				category = maintenance_company_tech
				category = engineers_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_new_army
		icon = GFX_goal_generic_build_tank
		relative_position_id = SAF_update_army
		prerequisite = {
			focus = SAF_special_forces
			focus = SAF_armored_corps
		}
		prerequisite = {
			focus = SAF_army_support
			focus = SAF_mech_support
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 0
		y = 6
		cost = 8

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_new_army"
			add_ideas = SAF_army_focus
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}


### AIR FORCE

	focus = {
		id = SAF_update_air_force
		icon = GFX_goal_SAF_airforce
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 43
		y = 0
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_update_air_force"
			air_experience = 25
			capital_scope = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = SAF_update_air_force
				bonus = 1
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = SAF_hartbees
		icon = GFX_goal_generic_air_fighter
		relative_position_id = SAF_update_air_force
		prerequisite = {
			focus = SAF_update_air_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 1
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_hartbees"
			add_tech_bonus = {
				name = SAF_hartbees
				bonus = 1
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_blenheim
		icon = GFX_goal_generic_air_bomber
		relative_position_id = SAF_update_air_force
		prerequisite = {
			focus = SAF_update_air_force
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 1
		y = 1
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_blenheim"
			add_tech_bonus = {
				name = SAF_blenheim
				bonus = 1
				uses = 1
				category = tactical_bomber
				category = cat_strategic_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_air_school
		icon = GFX_goal_generic_air_doctrine
		relative_position_id = SAF_update_air_force
		prerequisite = { focus = SAF_hartbees }
		prerequisite = { focus = SAF_blenheim }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 0
		y = 2
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_air_school"
			air_experience = 25
			add_tech_bonus = {
				name = SAF_air_school
				bonus = 1
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = SAF_air_defense
		icon = GFX_focus_generic_air_defense
		relative_position_id = SAF_update_air_force
		prerequisite = {
			focus = SAF_air_school
		}
		mutually_exclusive = {
			focus = SAF_air_production
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 3
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_air_defense"
			if = {
				limit = { NOT = { has_tech = interwar_antiair } }
				set_technology = { interwar_antiair = 1 }
			}
			if = {
				limit = { owns_state = 275 }
				275 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = { owns_state = 681 }
				681 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = SAF_air_defense
				bonus = 1
				uses = 1
				technology = antiair1
				technology = antiair2
				technology = antiair3
				technology = antiair4
				technology = antiair5
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_air_production
		icon = GFX_goal_continuous_air_production
		relative_position_id = SAF_update_air_force
		prerequisite = {
			focus = SAF_air_school
		}
		mutually_exclusive = {
			focus = SAF_air_defense
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 1
		y = 3
		cost = 8

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_air_production"
			add_ideas = SAF_air_production_idea
		}
	}

	focus = {
		id = SAF_desert_air_force
		icon = GFX_goal_generic_CAS
		relative_position_id = SAF_update_air_force
		prerequisite = {
			focus = SAF_air_defense
			focus = SAF_air_production
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 4
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_desert_air_force"
			add_tech_bonus = {
				name = SAF_desert_air_force
				bonus = 1
				uses = 1
				category = cas_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_secure_cape
		icon = GFX_goal_generic_air_naval_bomber
		relative_position_id = SAF_update_air_force
		prerequisite = {
			focus = SAF_air_defense
			focus = SAF_air_production
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 1
		y = 4
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_secure_cape"
			add_tech_bonus = {
				name = SAF_secure_cape
				bonus = 1
				uses = 1
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_rule_the_skies
		icon = GFX_goal_generic_air_doctrine
		relative_position_id = SAF_update_air_force
		prerequisite = { focus = SAF_desert_air_force }
		prerequisite = { focus = SAF_secure_cape }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 0
		y = 5
		cost = 8

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				any_owned_state = { is_coastal = yes }
				NOT = {
					has_completed_focus = SAF_overseas_offensive
					has_completed_focus = SAF_cape_garrison
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_rule_the_skies"
			add_ideas = SAF_air_focus
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
	}


### TECHNOLOGY

	focus = {
		id = SAF_tech_school
		icon = GFX_goal_continuous_research
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 47
		y = 0
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_tech_school"
			add_ideas = SAF_tech_school_idea
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_electronics_focus
		icon = GFX_goal_generic_consumer_goods
		relative_position_id = SAF_tech_school
		prerequisite = {
			focus = SAF_tech_school
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 0
		y = 1
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_electronics_focus"
			add_tech_bonus = {
				name = SAF_electronics_focus
				bonus = 1
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_state_security
		icon = GFX_goal_secret_agents
		relative_position_id = SAF_tech_school
		prerequisite = {
			focus = SAF_electronics_focus
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 2
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_state_security"
			add_tech_bonus = {
				name = SAF_state_security
				bonus = 1
				uses = 1
				category = encryption_tech
				category = decryption_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_radio_africa
		icon = GFX_goal_generic_radar
		relative_position_id = SAF_tech_school
		prerequisite = {
			focus = SAF_electronics_focus
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = 1
		y = 2
		cost = 8

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0.4
				NOT = { has_tech = radio }
				date < 1938.1.1
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_radio_africa"
			add_tech_bonus = {
				name = SAF_radio_africa
				bonus = 1
				uses = 1
				category = radar_tech
			}
			if = {
				limit = { has_tech = radio_detection }
				capital_scope = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = { has_tech = radio_detection }
					has_tech = radio
				}
				set_technology = {
					radio_detection = 1
				}
				capital_scope = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = { has_tech = radio_detection }
					NOT = { has_tech = radio }
				}
				set_technology = {
					radio = 1
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_expand_tech
		icon = GFX_focus_research
		relative_position_id = SAF_tech_school
		prerequisite = { focus = SAF_radio_africa }
		prerequisite = { focus = SAF_state_security }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { has_idea = SAF_black_monday_1 }
			NOT = { has_idea = SAF_black_monday_2 }
		}
		x = 0
		y = 3
		cost = 8

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_expand_tech"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_rocketry_focus
		icon = GFX_focus_rocketry
		relative_position_id = SAF_tech_school
		prerequisite = { focus = SAF_secure_cape }
		prerequisite = { focus = SAF_desert_air_force }
		prerequisite = { focus = SAF_expand_tech }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
		}
		x = -1
		y = 5
		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_rocketry_focus"
			add_tech_bonus = {
				name = SAF_rocketry_focus
				bonus = 1
				uses = 1
				category = rocketry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_advanced_refinery
		icon = GFX_goal_generic_oil_refinery
		relative_position_id = SAF_tech_school
		prerequisite = { focus = SAF_overseas_offensive }
		prerequisite = { focus = SAF_cape_garrison }
		prerequisite = { focus = SAF_expand_tech }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			275 = { is_owned_and_controlled_by = SAF } #Transvaal
		}
		x = 1
		y = 5
		cost = 8

		ai_will_do = {
			factor = 3
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 275 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_advanced_refinery"
			add_tech_bonus = {
				name = SAF_advanced_refinery
				bonus = 1
				uses = 1
				category = synth_resources
			}
			275 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_new_minds
		icon = GFX_goal_generic_scientific_exchange
		relative_position_id = SAF_tech_school
		prerequisite = {
			focus = SAF_advanced_refinery
			focus = SAF_rocketry_focus
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			num_of_factories > 50
		}
		x = 0
		y = 6
		cost = 8

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_new_minds"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


### NAVY

	focus = {
		id = SAF_seaward_defense
		icon = GFX_goal_SAF_navy
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = 51
		y = 0
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_seaward_defense"
			navy_experience = 25
			681 = {
				add_building_construction = {
					type = naval_base
					level = 2
					province = 12589
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_naval_academy
		icon = GFX_goal_generic_navy_doctrines_tactics
		relative_position_id = SAF_seaward_defense
		prerequisite = {
			focus = SAF_seaward_defense
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = 0
		y = 1
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_naval_academy"
			add_tech_bonus = {
				name = SAF_naval_academy
				bonus = 1
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_submarine_focus
		icon = GFX_goal_generic_navy_submarine
		relative_position_id = SAF_seaward_defense
		prerequisite = {
			focus = SAF_naval_academy
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = -1
		y = 2
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_submarine_focus"
			add_tech_bonus = {
				name = SAF_submarine_focus
				bonus = 1
				uses = 1
				category = ss_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_destroyer_focus
		icon = GFX_goal_generic_navy_anti_submarine
		relative_position_id = SAF_seaward_defense
		prerequisite = {
			focus = SAF_naval_academy
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = 1
		y = 2
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_destroyer_focus"
			add_tech_bonus = {
				name = SAF_destroyer_focus
				bonus = 1
				uses = 1
				category = dd_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_expand_simons_town
		icon = GFX_goal_generic_construct_naval_dockyard
		relative_position_id = SAF_seaward_defense
		prerequisite = { focus = SAF_submarine_focus }
		prerequisite = { focus = SAF_destroyer_focus }
		mutually_exclusive = {
			focus = SAF_navy_production
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			681 = { is_owned_and_controlled_by = SAF } #Cape
		}
		x = -1
		y = 3
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			NOT = { owns_state = 681 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_expand_simons_town"
			random_owned_controlled_state = {
				prioritize = { 681 }
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			681 = {
				add_building_construction = {
					type = coastal_bunker
					province = 12589
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_navy_production
		icon = GFX_goal_continuous_naval_production
		relative_position_id = SAF_seaward_defense
		prerequisite = { focus = SAF_submarine_focus }
		prerequisite = { focus = SAF_destroyer_focus }
		mutually_exclusive = {
			focus = SAF_expand_simons_town
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = 1
		y = 3
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_navy_production"
			add_ideas = SAF_navy_production_idea
		}
	}

	focus = {
		id = SAF_overseas_offensive
		icon = GFX_goal_generic_sea_focused_navy
		relative_position_id = SAF_seaward_defense
		prerequisite = {
			focus = SAF_expand_simons_town
			focus = SAF_navy_production
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = -1
		y = 4
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_overseas_offensive"
			add_tech_bonus = {
				name = SAF_overseas_offensive
				bonus = 1
				uses = 1
				category = tp_tech
			}
			add_tech_bonus = {
				name = SAF_overseas_offensive
				bonus = 1
				uses = 1
				category = naval_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SAF_cape_garrison
		icon = GFX_goal_generic_construct_military
		relative_position_id = SAF_seaward_defense
		prerequisite = {
			focus = SAF_expand_simons_town
			focus = SAF_navy_production
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = 1
		y = 4
		cost = 8

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_cape_garrison"
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SAF_rule_the_seas
		icon = GFX_goal_generic_navy_doctrines_tactics
		relative_position_id = SAF_seaward_defense
		prerequisite = { focus = SAF_overseas_offensive }
		prerequisite = { focus = SAF_cape_garrison }
		available = {
			custom_trigger_tooltip = {
				tooltip = SAF_not_has_civil_war
				NOT = { country_exists = SFR }
			}
			any_owned_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}
		x = 0
		y = 5
		cost = 8

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				NOT = {
					has_completed_focus = SAF_desert_air_force
					has_completed_focus = SAF_secure_cape
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SAF_rule_the_seas"
			add_ideas = SAF_navy_focus
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
}

