###########################
### CubanNatpop Focuses ###
###########################
###     By Pietrus      ###
###########################

focus_tree = {
	id = CUB_natpop_focuses
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}
	default = no
	continuous_focus_position = { x = 150 y = 900 }

	shared_focus = CUB_natpopfoc_begin
	shared_focus = CUB_new_economic_expansion
	shared_focus = CUB_foreign_relate
	shared_focus = CUB_begin_mil_reform
}

shared_focus = {
	id = CUB_natpopfoc_begin
	icon = GFX_goal_ideology_national_populist
	x = 4
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_begin"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_natpopfoc_2
	icon = GFX_goal_HOL_ban_paramilitary_left
	x = -2
	y = 1
	relative_position_id = CUB_natpopfoc_begin
	cost = 3

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_begin
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_2"
		add_manpower = -2000
		add_war_support = 0.10
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_natpopfoc_3
	icon = GFX_goal_white_flag
	x = 0
	y = 1
	relative_position_id = CUB_natpopfoc_begin
	cost = 5

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_begin
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_3"
		add_political_power = 200
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		add_timed_idea = {
			idea = CUB_peacenatpop_idea
			days = 200
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_natpopfoc_4
	icon = GFX_goal_DOM_Call_Special_Election
	x = 2
	y = 1
	relative_position_id = CUB_natpopfoc_begin
	cost = 5

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_begin
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_4"
		add_popularity = {
			ideology = national_populist
			popularity = 0.10
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.025
		}
		add_popularity = {
			ideology = market_liberal
			popularity = -0.075
		}
		add_popularity = {
			ideology = social_liberal
			popularity = -0.075
		}
		add_political_power = -100
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_natpopfoc_5
	icon = GFX_goal_backstab
	x = -3
	y = 2
	relative_position_id = CUB_natpopfoc_begin
	cost = 10

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_2
	}
	prerequisite = {
		focus = CUB_natpopfoc_3
	}
	prerequisite = {
		focus = CUB_natpopfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_5"
		add_popularity = {
			ideology = totalist
			popularity = -0.10
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.10
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.10
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.10
		}
		add_manpower = -1000
		add_political_power = -50
		add_ideas = CUB_great_purge
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_natpopfoc_6
	icon = GFX_goal_enlist_the_police
	x = -1
	y = 2
	relative_position_id = CUB_natpopfoc_begin
	cost = 5

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_2
	}
	prerequisite = {
		focus = CUB_natpopfoc_3
	}
	prerequisite = {
		focus = CUB_natpopfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_6"
		custom_effect_tooltip = CUB_natpopfoc_6_tt
		hidden_effect = {
			load_oob = CUB_loyalist_division
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_natpopfoc_7
	icon = GFX_goal_women_industry
	x = 1
	y = 2
	relative_position_id = CUB_natpopfoc_begin
	cost = 10

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_2
	}
	prerequisite = {
		focus = CUB_natpopfoc_3
	}
	prerequisite = {
		focus = CUB_natpopfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_7"
		add_ideas = CUB_natpop_girls
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_natpopfoc_8
	icon = GFX_goal_KTG_Bookstack
	x = 3
	y = 2
	relative_position_id = CUB_natpopfoc_begin
	cost = 10

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_2
	}
	prerequisite = {
		focus = CUB_natpopfoc_3
	}
	prerequisite = {
		focus = CUB_natpopfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_8"
		add_ideas = CUB_education_natpop
		add_political_power = -50
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_natpopfoc_9
	icon = GFX_goal_National_Security_Act
	x = -2
	y = 3
	relative_position_id = CUB_natpopfoc_begin
	cost = 1

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_5
	}
	prerequisite = {
		focus = CUB_natpopfoc_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_9"
		country_event = cuba.219
	}
}

shared_focus = {
	id = CUB_natpopfoc_10
	icon = GFX_goal_LIB_whiter_pale
	x = 2
	y = 3
	relative_position_id = CUB_natpopfoc_begin
	cost = 10

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_7
	}
	prerequisite = {
		focus = CUB_natpopfoc_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_10"
		country_event = cuba.220
		custom_effect_tooltip = CUB_mella_7_tt
	}
}

shared_focus = {
	id = CUB_natpopfoc_11
	icon = GFX_goal_foreign_diplomacy
	x = 0
	y = 4
	relative_position_id = CUB_natpopfoc_begin
	cost = 6

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_9
	}
	prerequisite = {
		focus = CUB_natpopfoc_10
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_11"
		315 = { add_extra_state_shared_building_slots = 2 }
		820 = { add_extra_state_shared_building_slots = 1 }
		add_popularity = {ideology = national_populist popularity = 0.05}
	}
}

shared_focus = {
	id = CUB_natpopfoc_12
	icon = GFX_goal_HOL_CNA_restored_stability
	x = 0
	y = 5
	relative_position_id = CUB_natpopfoc_begin
	cost = 8

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = CUB_natpopfoc_11
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_natpopfoc_12"
		add_political_power = 300
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
