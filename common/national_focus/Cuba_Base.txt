###########################
###Cuban Shared Focuses ###
###########################
###     By Pietrus      ###
###########################

focus_tree = {
	id = CUB_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}
	default = no
	continuous_focus_position = { x = 3400 y = 1000 }

	shared_focus = CUB_general_election
	shared_focus = CUB_new_economic_expansion
	shared_focus = CUB_foreign_relate
	shared_focus = CUB_begin_mil_reform
}

####################
###Political     ###
####################

shared_focus = {
	id = CUB_general_election
	icon = GFX_goal_generic_elections
	x = 8
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass1_tooltip
		}
	}

	bypass = {
		OR = {
			has_country_flag = trejo_elected
			has_country_flag = barnet_elected
			has_country_flag = mendieta_elected
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_general_election"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_havana_strike
	icon = GFX_goal_flames_of_rebellion
	x = 0
	y = 1
	cost = 1
	relative_position_id = CUB_general_election

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass2_tooltip
		}
	}

	bypass = {
		has_country_flag = CUB_start_havana_revolt
	}

	prerequisite = {
		focus = CUB_general_election
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_havana_strike"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}
shared_focus = {
	id = CUB_chaos
	icon = GFX_goal_refugee_management
	x = -3
	y = 2
	relative_position_id = CUB_general_election
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass3_tooltip
		}
	}

	bypass = {
		has_country_flag = CUB_general_chaos
	}

	prerequisite = {
		focus = CUB_havana_strike
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_chaos"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_strike_crushed
	icon = GFX_goal_generic_political_pressure
	x = 3
	y = 2
	relative_position_id = CUB_general_election
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass4_tooltip
		}
	}

	bypass = {
		has_country_flag = CUB_crushed_general_strike
	}

	prerequisite = {
		focus = CUB_havana_strike
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_strike_crushed"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_order_restored
	icon = GFX_goal_generic_political_pressure
	x = -1
	y = 3
	relative_position_id = CUB_general_election
	cost = 1

	prerequisite = {
		focus = CUB_chaos
	}
	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass5_tooltip
		}
	}
	bypass = {
		OR = {
			has_country_flag = CUB_crushed_general_strike_mil
			hidden_trigger = {
				has_country_flag = CUB_milcoup_flag
			}
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_order_restored"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_tamayo_steps_in
	icon = GFX_goal_ideology_paternal_autocrat
	x = -1
	y = 4
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_order_restored
	}

	ai_will_do = {
		factor = 15
	}

	bypass = {
		hidden_trigger = {
			has_country_flag = CUB_milcoup_flag
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_tamayo_steps_in"
		set_country_flag = CUB_mildirectrule

		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.15
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.10
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_strike_expands
	icon = GFX_goal_revolution
	x = -5
	y = 3
	relative_position_id = CUB_general_election
	cost = 1

	prerequisite = {
		focus = CUB_chaos
	}
	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass6_tooltip
		}
	}
	bypass = {
		has_country_flag = CUB_strike_success
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_strike_expands"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}
shared_focus = {
	id = CUB_leftists
	icon = GFX_goal_ideology_syndicalist
	x = -7
	y = 4
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_march_on_havana
	}
	prerequisite = {
		focus = CUB_strike_expands
	}
	available = {
		has_country_flag = CUB_socialists_consolidate
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_leftists"
		country_event = cuba.9
	}
}

shared_focus = {
	id = CUB_coalition_and_conflict
	icon = GFX_goal_broken_red_star
	x = -7
	y = 5
	relative_position_id = CUB_general_election
	cost = 9
	prerequisite = {
		focus = CUB_leftists
	}
	available = {
		has_government = syndicalist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_coalition_and_conflict"
		country_event = cuba.10
	}
}
shared_focus = {
	id = CUB_agrarianism
	icon = GFX_goal_Workers_Paradise
	x = -8
	y = 6
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_syndic_indust
	}
	prerequisite = {
		focus = CUB_coalition_and_conflict
	}
	available = {
		custom_trigger_tooltip = {
			OR = {
				has_country_flag = no_congress_mellacoup
				has_country_flag = radsoccongvic
				has_country_flag = CUB_radsoccoup
				AND = {
					has_country_flag = totalistcongvic
					has_country_flag = mella_back
				}
			}
			tooltip = cubagrarianismindust_tooltip
		}
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_agrarianism"
		country_event = cuba.11
	}
}

shared_focus = {
	id = CUB_syndic_indust
	icon = GFX_goal_syndicalist_workers
	x = -6
	y = 6
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_agrarianism
	}
	prerequisite = {
		focus = CUB_coalition_and_conflict
	}
	available = {
		custom_trigger_tooltip = {
			OR = {
				has_country_flag = syndiecongvic
				has_country_flag = no_congress
				AND = {
					has_country_flag = totalistcongvic
					NOT = {
						has_country_flag = mella_back
					}
				}
			}
			tooltip = cubagrarianismindust_tooltip
		}
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndic_indust"
		country_event = cuba.12
	}
}

shared_focus = {
	id = CUB_seize_assets
	icon = GFX_goal_generic_seize_money
	x = -7
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_syndic_indust
		focus = CUB_agrarianism
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_seize_assets"
		country_event = cuba.51
	}
}

shared_focus = {
	id = CUB_land_reform
	icon = GFX_focus_AUS_agriculture
	x = -7
	y = 8
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_seize_assets
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_land_reform"
		add_stability = 0.05
		if = {
			limit = {
				has_idea = CUB_modsyndagr
			}
			swap_ideas = {
				remove_idea = CUB_modsyndagr
				add_idea = CUB_modsyndagr_2
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_extsyndagr
			}
			swap_ideas = {
				remove_idea = CUB_extsyndagr
				add_idea = CUB_extsyndagr_2
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_modsyndindust
			}
			swap_ideas = {
				remove_idea = CUB_modsyndindust
				add_idea = CUB_modsyndindust_2
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_extsyndindust
			}
			swap_ideas = {
				remove_idea = CUB_extsyndindust
				add_idea = CUB_extsyndindust_2
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CUB_modsyndindust
					has_idea = CUB_extsyndindust
					has_idea = CUB_modsyndagr
					has_idea = CUB_extsyndagr
				}
			}
			custom_effect_tooltip = cublandref_tooltip
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_collect_ind
	icon = GFX_goal_generic_soviet_construction
	x = -7
	y = 9
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_land_reform
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_collect_ind"
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_econ_integrate
	icon = GFX_goal_commune_politics
	x = -7
	y = 10
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_collect_ind
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_econ_integrate"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		else = {
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_red_nation
	icon = GFX_goal_red_star_gold_wreath
	x = -7
	y = 11
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_econ_integrate
	}
	available = {
		has_socialist_government = yes
		has_completed_focus = CUB_crush_reactionaries
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_red_nation"
		add_ideas = CUB_rev_society
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_protect_revolution
	icon = GFX_goal_HOL_military_union
	x = -5
	y = 8
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_seize_assets
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_revolution"
		country_event = cuba.47
	}
}

shared_focus = {
	id = CUB_crush_reactionaries
	icon = GFX_focus_generic_strike_at_democracy2
	x = -5
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_protect_revolution
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_crush_reactionaries"
		add_political_power = -150
		if = {
			limit = {
				has_government = totalist
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.10
			}
			add_popularity = {
				ideology = market_liberal
				popularity = -0.10
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.10
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.10
			}
			else = {
				add_popularity = {
					ideology = social_liberal
					popularity = -0.10
				}
				add_popularity = {
					ideology = market_liberal
					popularity = -0.10
				}
				add_popularity = {
					ideology = social_conservative
					popularity = -0.10
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = -0.10
				}
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.10
				}
				add_popularity = {
					ideology = national_populist
					popularity = -0.10
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_march_on_havana
	icon = GFX_goal_ideology_national_populist
	x = -3
	y = 4
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_leftists
	}
	prerequisite = {
		focus = CUB_strike_expands
	}
	available = {
		has_country_flag = CUB_natpop_march
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_march_on_havana"
		country_event = cuba.53
	}
}

shared_focus = {
	id = CUB_the_siege
	icon = GFX_goal_generic_territory_or_war
	x = -2
	y = 5
	relative_position_id = CUB_general_election
	cost = 2
	prerequisite = {
		focus = CUB_march_on_havana
	}
	available = {
		has_government = national_populist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_the_siege"
		country_event = cuba.68
	}
}

shared_focus = {
	id = CUB_national_and_social
	icon = GFX_focus_generic_diplomatic_treaty
	x = -4
	y = 5
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_march_on_havana
	}
	available = {
		has_government = national_populist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_national_and_social"
		country_event = cuba.54
	}
}

shared_focus = {
	id = CUB_cuba_for_cubans
	icon = GFX_goal_generic_secret_weapon
	x = -3
	y = 6
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_national_and_social
	}
	prerequisite = {
		focus = CUB_the_siege
	}
	available = {
		has_government = national_populist
		custom_trigger_tooltip = {
			AND = {
				OR = {
					has_country_flag = CUB_natsseizedstuff
					has_idea = CUB_natplantdeal
				}
				OR = {
					has_country_flag = CUB_stormed_embassy
					has_country_flag = CUB_nostorm
				}
			}
			tooltip = forthecubans_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_cuba_for_cubans"
		country_event = cuba.70
	}
}

shared_focus = {
	id = CUB_red_coats
	icon = GFX_goal_conscription
	x = -4
	y = 7
	relative_position_id = CUB_general_election
	cost = 10
	mutually_exclusive = {
		focus = CUB_mass_action
	}
	prerequisite = {
		focus = CUB_cuba_for_cubans
	}
	available = {
		has_government = national_populist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_red_coats"
		add_ideas = CUB_npop_redcoats_est
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_mass_action
	icon = GFX_human_tsunami
	x = -2
	y = 7
	relative_position_id = CUB_general_election
	cost = 10
	mutually_exclusive = {
		focus = CUB_red_coats
	}
	prerequisite = {
		focus = CUB_cuba_for_cubans
	}
	available = {
		has_government = national_populist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mass_action"
		add_ideas = CUB_mass_act_est
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_authentic_youth
	icon = GFX_goal_KTG_Bookstack
	x = -3
	y = 8
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_red_coats
		focus = CUB_mass_action
	}
	available = {
		has_government = national_populist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authentic_youth"
		if = {
			limit  = {
				has_idea = CUB_mass_act_est
			}
			swap_ideas = {
				remove_idea = CUB_mass_act_est
				add_idea = CUB_mass_act_edu
			}
		}
		else_if = {
			limit  = {
				has_idea = CUB_npop_redcoats_est
			}
			swap_ideas = {
				remove_idea = CUB_npop_redcoats_est
				add_idea = CUB_npop_redcoats_edu
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_npop_redcoats_est
					has_idea = CUB_mass_act_est
				}
			}
			custom_effect_tooltip = cubauthenticedu_tooltip
		}
		add_war_support = 0.1
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_collaborativism
	icon = GFX_goal_manage_industries
	x = -3
	y = 9
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_authentic_youth
	}
	available = {
		has_government = national_populist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_collaborativism"
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_infrastructural_equity
	icon = GFX_goal_generic_industry_reallocation
	x = -3
	y = 10
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_collaborativism
	}
	available = {
		has_government = national_populist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_infrastructural_equity"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			swap_ideas = {
				remove_idea = CUB_recovering
				add_idea = CUB_eqindidea
			}
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		else = {
			custom_effect_tooltip = cublaborrelief_tooltip
			add_ideas = CUB_eqindidea
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_emergency_powers
	icon = GFX_goal_generic_forceful_treaty
	x = 1
	y = 3
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_appease_strikers
	}
	prerequisite = {
		focus = CUB_strike_crushed
	}
	available = {
		has_country_flag = CUB_enacted_emergency_powers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_emergency_powers"
		swap_ideas = {
			remove_idea = CUB_strike_destroyed
			add_idea = CUB_emergency_powersidea
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_appoint_tamayo
	icon = GFX_goal_authoritarian
	x = 1
	y = 4
	relative_position_id = CUB_general_election
	cost = 2
	prerequisite = {
		focus = CUB_emergency_powers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_appoint_tamayo"
		country_event = cuba.80
	}
}

shared_focus = {
	id = CUB_suspend_constitution
	icon = GFX_goal_skull_treaty2
	x = 0
	y = 5
	relative_position_id = CUB_general_election
	cost = 10
	mutually_exclusive = {
		focus = CUB_new_elections
	}
	prerequisite = {
		focus = CUB_appoint_tamayo
		focus = CUB_tamayo_steps_in
		focus = CUB_presidential_guard
	}

	available = {
		OR = {
			has_country_flag = CUB_presgcoup
			has_country_flag = CUB_diazauthdem
			has_country_flag = CUB_mildirectrule
			has_country_flag = CUB_USpuppet
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_suspend_constitution"
		country_event = cuba.78
	}
}

shared_focus = {
	id = CUB_subjugate_unions
	icon = GFX_goal_UK_ban_unions
	x = 0
	y = 6
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_suspend_constitution
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_subjugate_unions"
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.05
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.15
			}
		}
		else = {
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.15
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
		}
	}
}

shared_focus = {
	id = CUB_tamayo_industry
	icon = GFX_goal_state_economy
	x = 0
	y = 7
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_subjugate_unions
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_tamayo_industry"
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_urbanisation_effort
	icon = GFX_ITA_urban
	x = -1
	y = 8
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_chicago_boys
	}
	prerequisite = {
		focus = CUB_tamayo_industry
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_urbanisation_effort"
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_incent_foreign_invest
	icon = GFX_goal_generic_foreign_investments
	x = -1
	y = 9
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_urbanisation_effort
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_incent_foreign_invest"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit = {
				OR = {
					has_idea = CUB_partial_great_depression
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_ideas = CUB_forinvestidea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_crackdown
	icon = GFX_goal_generic_imprison_people
	x = -1
	y = 10
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_incent_foreign_invest
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_crackdown"
		add_ideas = CUB_corruption_elim
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_industrial_nation
	icon = GFX_goal_factory_complex
	x = -2
	y = 11
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_crackdown
		focus = CUB_infrastructural_equity
	}
	available = {
		has_authoritarian_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_industrial_nation"
		add_ideas = CUB_industcountry
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_chicago_boys
	icon = GFX_goal_generic_dangerous_deal
	x = 1
	y = 8
	relative_position_id = CUB_general_election
	cost = 10
	mutually_exclusive = {
		focus = CUB_urbanisation_effort
	}
	prerequisite = {
		focus = CUB_tamayo_industry
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_chicago_boys"
		country_event = cuba.79
	}
}

shared_focus = {
	id = CUB_foreign_vices
	icon = GFX_goal_collaborate_local_elites2
	x = 1
	y = 9
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_chicago_boys
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_foreign_vices"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit = {
				OR = {
					has_idea = CUB_partial_great_depression
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_ideas = CUB_forvice
	}
}

shared_focus = {
	id = CUB_international_capital
	icon = GFX_goal_bag_of_money
	x = 1
	y = 10
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_foreign_vices
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_international_capital"
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_appease_strikers
	icon = GFX_goal_generic_improve_relations
	x = 5
	y = 3
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_emergency_powers
	}
	prerequisite = {
		focus = CUB_strike_crushed
	}
	available = {
		has_country_flag = CUB_no_emergency_powers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_appease_strikers"
		swap_ideas = {
			remove_idea = CUB_strike_destroyed
			add_idea = CUB_strikers_appeased
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_presidential_guard
	icon = GFX_goal_conscription
	x = 3
	y = 4
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_appease_strikers
	}

	available = {
		custom_trigger_tooltip = {
			AND = {
				has_country_flag = CUB_demreform1
				has_country_flag = CUB_demreform2
			}
			tooltip = bypasspresg_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_presidential_guard"
		add_stability = 0.05
		add_ideas = CUB_presiguard
		hidden_effect = {
			country_event = {
				id = cuba.74
				days = 14
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = CUB_negotiate_tariffs
	icon = GFX_goal_generic_positive_trade_relations
	x = 5
	y = 4
	relative_position_id = CUB_general_election
	cost = 2
	prerequisite = {
		focus = CUB_appease_strikers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_negotiate_tariffs"
		set_country_flag = CUB_demreform2
		if = {
			limit = {
				has_completed_focus = CUB_labor_relief
				has_idea = CUB_strikers_appeased
			}
			remove_ideas = CUB_strikers_appeased
		}
		USA = {
			country_event = {
				id = cuba.71
				days = 1
			}
		}
	}
}

shared_focus = {
	id = CUB_labor_relief
	icon = GFX_focus_eng_concessions_to_the_trade_unions
	x = 7
	y = 4
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_appease_strikers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_labor_relief"
		set_country_flag = CUB_demreform1
		if = {
			limit = {
				has_completed_focus = CUB_negotiate_tariffs
				has_idea = CUB_strikers_appeased
			}
			remove_ideas = CUB_strikers_appeased
		}
		if = {
			limit  = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_new_elections
	icon = GFX_goal_support_democracy
	x = 5
	y = 5
	relative_position_id = CUB_general_election
	cost = 3
	mutually_exclusive = {
		focus = CUB_suspend_constitution
	}
	prerequisite = {
		focus = CUB_labor_relief
	}
	prerequisite = {
		focus = CUB_negotiate_tariffs
	}
	prerequisite = {
		focus = CUB_presidential_guard
	}

	available = {
		has_country_flag = CUB_failpresgcoup
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_elections"
		country_event = cuba.75
	}
}

shared_focus = {
	id = CUB_republican_victory
	icon = GFX_goal_ideology_market_liberal
	x = 3
	y = 6
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_new_elections
	}
	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass7_tooltip
		}
	}
	bypass = {
		has_country_flag = republicanovicelectwo
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_republican_victory"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_dereg_financial
	icon = GFX_focus_mex_privatisation
	x = 2
	y = 7
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_invite_multi_finan
	}
	prerequisite = {
		focus = CUB_republican_victory
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_dereg_financial"
		add_political_power = 35
		add_ideas = CUB_finandereg
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_invite_multi_finan
	icon = GFX_goal_AST_new_markets
	x = 4
	y = 7
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_dereg_financial
	}
	prerequisite = {
		focus = CUB_republican_victory
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_invite_multi_finan"
		add_political_power = 35
		add_ideas = CUB_multinafin
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_slash_corp_tax
	icon = GFX_goal_generic_positive_trade_relations
	x = 3
	y = 8
	cost = 7
	relative_position_id = CUB_general_election
	prerequisite = {
		focus = CUB_dereg_financial
		focus = CUB_invite_multi_finan
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_slash_corp_tax"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_multinafin
			}
			swap_ideas = {
				remove_idea = CUB_multinafin
				add_idea = CUB_corpslash
			}
		}
		if = {
			limit = {
				has_idea = CUB_finandereg
			}
			swap_ideas = {
				remove_idea = CUB_finandereg
				add_idea = CUB_corpslashtwo
			}
		}
		if = {
			limit = {
				NOT = {
					has_idea = CUB_finandereg
					has_idea = CUB_multinafin
				}
			}
			custom_effect_tooltip = cubplant_tooltip
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_reduce_subsidy
	icon = GFX_focus_generic_the_giant_wakes
	x = 3
	y = 9
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_slash_corp_tax
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_reduce_subsidy"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_corpslash
			}
			swap_ideas = {
				remove_idea = CUB_corpslash
				add_idea = CUB_redsub
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_corpslashtwo
				add_idea = CUB_redsubtwo
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_free_society
	icon = GFX_goal_liberty
	x = 3
	y = 10
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_reduce_subsidy
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_free_society"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_redsub
			}
			swap_ideas = {
				remove_idea = CUB_redsub
				add_idea = CUB_freesocidea
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_redsubtwo
				add_idea = CUB_freesocideatwo
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_commercial_nation
	icon = GFX_goal_HOL_progressive_tax
	x = 2
	y = 11
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_international_capital
		focus = CUB_free_society
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
			has_government = market_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_commercial_nation"
		add_ideas = CUB_comnatidea
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_coalition_victory
	icon = GFX_goal_ideology_social_liberal
	x = 6
	y = 6
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_new_elections
	}

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass71_tooltip
		}
	}
	bypass = {
		has_country_flag = liberalvicelectwo
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_coalition_victory"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_modernise_plantations
	icon = GFX_goal_plantation_grants
	x = 6
	y = 7
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_coalition_victory
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_modernise_plantations"
		add_political_power = 35
		add_ideas = CUB_plantamodern
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_prom_immigration
	icon = GFX_focus_generic_the_giant_wakes
	x = 6
	y = 8
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_modernise_plantations
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_prom_immigration"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_plantamodern
			add_idea = CUB_ampleworkers
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_foreign_agr_experts
	icon = GFX_goal_generic_production
	x = 5
	y = 9
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_agr_uni
	}
	prerequisite = {
		focus = CUB_prom_immigration
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_foreign_agr_experts"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_ampleworkers
			add_idea = CUB_foragrexp
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_agr_uni
	icon = GFX_goal_great_science
	x = 7
	y = 9
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_foreign_agr_experts
	}
	prerequisite = {
		focus = CUB_prom_immigration
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_agr_uni"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_ampleworkers
			add_idea = CUB_agun
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_agr_sup_industries
	icon = GFX_goal_generic_consumer_goods
	x = 6
	y = 10
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_foreign_agr_experts
		focus = CUB_agr_uni
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_agr_sup_industries"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_foragrexp
			}
			swap_ideas = {
				remove_idea = CUB_foragrexp
				add_idea = CUB_agrsup
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_agun
			}
			swap_ideas = {
				remove_idea = CUB_agun
				add_idea = CUB_agrsup_2
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CUB_foragrexp
					has_idea = CUB_agun
				}
			}
			custom_effect_tooltip = cubagrsup_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_export_nation
	icon = GFX_goal_generic_positive_trade_relations
	x = 7
	y = 11
	relative_position_id = CUB_general_election
	cost = 10
	prerequisite = {
		focus = CUB_agr_sup_industries
		focus = CUB_ind_exports
	}
	available = {
		OR = {
			has_government = social_liberal
			has_government = social_democrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_export_nation"
		add_ideas = CUB_exportcidea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_unionista_victory
	icon = GFX_goal_ideology_social_democrat
	x = 9
	y = 6
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_new_elections
	}

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass72_tooltip
		}
	}
	bypass = {
		has_country_flag = unionistavicelectwo
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_unionista_victory"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}
shared_focus = {
	id = CUB_public_works
	icon = GFX_goal_generic_construction2
	x = 9
	y = 7
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_unionista_victory
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_public_works"
		add_political_power = 35
		add_ideas = CUB_pubworkidea
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_priv_pub_joint_ven
	icon = GFX_goal_generic_improve_relations
	x = 8
	y = 8
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_inc_subsidies
	}
	prerequisite = {
		focus = CUB_public_works
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_priv_pub_joint_ven"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_pubworkidea
			add_idea = CUB_privpubidea
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_inc_subsidies
	icon = GFX_goal_socialist_infrastructure
	x = 10
	y = 8
	relative_position_id = CUB_general_election
	cost = 7
	mutually_exclusive = {
		focus = CUB_priv_pub_joint_ven
	}
	prerequisite = {
		focus = CUB_public_works
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_inc_subsidies"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_pubworkidea
			add_idea = CUB_goodsubidea
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_intermed_indust
	icon = GFX_goal_generic_production2
	x = 9
	y = 9
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_priv_pub_joint_ven
		focus = CUB_inc_subsidies
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_intermed_indust"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_goodsubidea
			}
			swap_ideas = {
				remove_idea = CUB_goodsubidea
				add_idea = CUB_intermedidea
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_privpubidea
			}
			swap_ideas = {
				remove_idea = CUB_privpubidea
				add_idea = CUB_intermedideatwo
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CUB_goodsubidea
					has_idea = CUB_privpubidea
				}
			}
			custom_effect_tooltip = cubintermed_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_ind_exports
	icon = GFX_goal_generic_positive_trade_relations
	x = 9
	y = 10
	relative_position_id = CUB_general_election
	cost = 7
	prerequisite = {
		focus = CUB_intermed_indust
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_ind_exports"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_intermedidea
			}
			swap_ideas = {
				remove_idea = CUB_intermedidea
				add_idea = CUB_industexpidea
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_intermedideatwo
				add_idea = CUB_industexpideatwo
			}
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_new_cuba
	icon = GFX_goal_generic_demand_territory
	x = 0
	y = 12
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_red_nation
		focus = CUB_industrial_nation
		focus = CUB_commercial_nation
		focus = CUB_export_nation
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_cuba"
		set_country_flag = CUB_pol_tree_finished
		add_stability = 0.05
		add_political_power = 25

		country_event = cuba.82
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

####################
###Economic      ###
####################

shared_focus = {
	id = CUB_new_economic_expansion
	icon = GFX_goal_generic_construct_civilian
	x = 22
	y = 0
	offset = {
		x = -9
		y = 0
		trigger = {
			has_country_flag = CUB_nineoffset
		}
	}
	offset = {
		x = -8
		y = 0
		trigger = {
			has_country_flag = CUB_eightoffset
		}
	}
	offset = {
		x = -1
		y = 0
		trigger = {
			has_country_flag = CUB_oneoffset
		}
	}
	cost = 4
	available = {
		has_country_flag = CUB_pol_tree_finished
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_economic_expansion"
		add_timed_idea = {
			idea = CUB_econexpidea
			days = 200
		}
	}
}

shared_focus = {
	id = CUB_resource_boom
	icon = GFX_all_resource
	x = 3
	y = 1
	relative_position_id = CUB_new_economic_expansion
	cost = 7
	prerequisite = {
		focus = CUB_new_economic_expansion
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_boom"
		add_ideas = CUB_resoexplo
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = { # Oil
	id = CUB_resource_foc_1
	icon = GFX_goal_oil
	x = 0
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 8
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_1"
		315 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		country_event = {
			id = cuba.83
			days = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_resource_foc_2
	icon = GFX_goal_chromium
	x = 2
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 8
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_2"
		820 = {
			add_resource = {
				type = chromium
				amount = 140
			}
		}
		country_event = {
			id = cuba.87
			days = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_resource_foc_3
	icon = GFX_focus_generic_steel
	x = 4
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 8
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_3"
		315 = {
			add_resource = {
				type = steel
				amount = 6
			}
		}
		country_event = {
			id = cuba.88
			days = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_resource_foc_4
	icon = GFX_goal_DEI_focus_moar_rubber
	x = 6
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 8
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_4"
		country_event = {
			id = cuba.89
			days = 1
		}
	}
}

shared_focus = {
	id = CUB_protect_miners
	icon = GFX_goal_generic_national_unity
	x = 3
	y = 3
	relative_position_id = CUB_new_economic_expansion
	cost = 10
	prerequisite = {
		focus = CUB_resource_foc_1
	}
	prerequisite = {
		focus = CUB_resource_foc_2
	}
	prerequisite = {
		focus = CUB_resource_foc_3
	}
	prerequisite = {
		focus = CUB_resource_foc_4
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_miners"
		swap_ideas = {
			remove_idea = CUB_resoexplo
			add_idea = CUB_minerprotect_idea
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_further_econ_reform
	icon = GFX_goal_government_icon
	x = -3
	y = 1
	relative_position_id = CUB_new_economic_expansion
	cost = 10
	prerequisite = {
		focus = CUB_new_economic_expansion
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_further_econ_reform"
		country_event = cuba.95
	}
}

shared_focus = {
	id = CUB_shipping_reform
	icon = GFX_goal_USA_liberty_ships
	x = -4
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 7
	prerequisite = {
		focus = CUB_further_econ_reform
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_shipping_reform"
		add_ideas = CUB_ship_reform
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_port_expand
	icon = GFX_goal_generic_shipyard
	x = -2
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 7
	prerequisite = {
		focus = CUB_further_econ_reform
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_port_expand"
		315 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		820 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_improve_live_cond
	icon = GFX_goal_generic_consumer_goods
	x = -3
	y = 3
	relative_position_id = CUB_new_economic_expansion
	cost = 10
	prerequisite = {
		focus = CUB_shipping_reform
	}
	prerequisite = {
		focus = CUB_port_expand
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_improve_live_cond"
		add_stability = 0.05
		add_offsite_building = {
			type = dockyard
			level = 2
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_encour_consumpt ### actually is research
	icon = GFX_focus_research
	x = 0
	y = 4
	relative_position_id = CUB_new_economic_expansion
	cost = 9
	prerequisite = {
		focus = CUB_improve_live_cond
	}
	prerequisite = {
		focus = CUB_protect_miners
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_encour_consumpt"
		add_research_slot = 1
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_gem_carib
	icon = GFX_focus_generic_the_giant_wakes
	x = 0
	y = 5
	relative_position_id = CUB_new_economic_expansion
	cost = 10
	prerequisite = {
		focus = CUB_encour_consumpt
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_gem_carib"
		add_ideas = CUB_cargemidea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

####################
###Military      ###
####################

shared_focus = {
	id = CUB_begin_mil_reform
	icon = GFX_goal_generic_army_cooperation
	x = 38
	y = 0
	offset = {
		x = -9
		y = 0
		trigger = {
			has_country_flag = CUB_nineoffset
		}
	}
	offset = {
		x = -8
		y = 0
		trigger = {
			has_country_flag = CUB_eightoffset
		}
	}
	offset = {
		x = -1
		y = 0
		trigger = {
			has_country_flag = CUB_oneoffset
		}
	}
	cost = 3

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_begin_mil_reform"
		if = {
			limit = {
				NOT = {
					has_country_flag = CUB_pol_tree_finished
				}
			}
			country_event = cuba.97
			else = {
				add_political_power = 100
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_assess_army
	icon = GFX_focus_generic_commonwealth_build_infantry
	x = -6
	y = 1
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_begin_mil_reform
	}
	available = {
		custom_trigger_tooltip = {
			has_country_flag = CUB_pol_tree_finished
			OR = {
				has_government = paternal_autocrat
				has_country_flag = CUB_officersimprisoned
				has_country_flag = CUB_officerskilled
				has_country_flag = CUB_officerspardon
				AND = {
					has_government = authoritarian_democrat
					NOT = {
						has_country_flag = CUB_USpuppet
					}
				}
			}
			tooltip = CUB_milassess_tooltip
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_assess_army"
		country_event = cuba.99
	}
}

shared_focus = {
	id = CUB_infantry_doctrs
	icon = GFX_goal_LEC_police3
	x = -7
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 10

	mutually_exclusive = {
		focus = CUB_armament_doctrs
	}

	prerequisite = {
		focus = CUB_assess_army
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_infantry_doctrs"
		add_tech_bonus = {
			name = CUB_infantry_doctrs
			bonus = 2
			uses = 1
			category = cat_grand_battle_plan
		}
		country_event = cuba.100
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_new_squad_tactics
	icon = GFX_goal_national_mobilization
	x = -7
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_infantry_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_squad_tactics"
		if = {
			limit = {
				OR = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
				}
			}
			add_tech_bonus = {
				name = CUB_new_squad_tactics
				bonus = 0.66
				uses = 2
				category = cat_grand_battle_plan
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_officerspardon
			}
			add_tech_bonus = {
				name = CUB_new_squad_tactics
				bonus = 0.66
				uses = 2
				category = cat_grand_battle_plan
			}
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			add_tech_bonus = {
				name = CUB_new_squad_tactics
				bonus = 1
				uses = 2
				category = cat_grand_battle_plan
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_armament_doctrs
	icon = GFX_goal_generic_small_arms
	x = -5
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 10

	mutually_exclusive = {
		focus = CUB_infantry_doctrs
	}

	prerequisite = {
		focus = CUB_assess_army
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_armament_doctrs"
		add_tech_bonus = {
			name = CUB_armament_doctrs
			bonus = 2
			uses = 1
			category = cat_superior_firepower
		}
		country_event = cuba.101
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_weltkrieg_analysis
	icon = GFX_focus_ger_oppose_hitler
	x = -6
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_armament_doctrs
		focus = CUB_infantry_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_weltkrieg_analysis"
		if = {
			limit = {
				OR = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
				}
			}
			army_experience = 125
		}
		else_if = {
			limit = {
				has_country_flag = CUB_officerspardon
			}
			army_experience = 125
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			army_experience = 150
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_modernisation
	icon = GFX_goal_generic_army_artillery2
	x = -5
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_armament_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_modernisation"
		if = {
			limit = {
				OR = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
				}
			}
			add_tech_bonus = {
				name = CUB_modernisation
				bonus = 0.66
				uses = 2
				category = cat_superior_firepower
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_officerspardon
			}
			add_tech_bonus = {
				name = CUB_modernisation
				bonus = 0.66
				uses = 2
				category = cat_superior_firepower
			}
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			add_tech_bonus = {
				name = CUB_modernisation
				bonus = 1
				uses = 2
				category = cat_superior_firepower
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_entice_foreign_experts
	icon = GFX_goal_KTG_Belgian_Officers2
	x = -6
	y = 5
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_modernisation
		focus = CUB_new_squad_tactics
	}

	available = {
		is_in_faction = yes
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_entice_foreign_experts"
		add_ideas = CUB_enticedadvisors
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = CUB_carib_lake
	icon = GFX_goal_generic_navy_doctrines_tactics
	x = 0
	y = 1
	relative_position_id = CUB_begin_mil_reform
	cost = 6
	prerequisite = {
		focus = CUB_begin_mil_reform
	}
	available = {
		OR = {
			has_country_flag = CUB_pol_tree_finished
			has_country_flag = CUB_chose_navy
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			NOT = {
				has_country_flag = CUB_pol_tree_finished
			}
			factor = 0
		}
		modifier = {
			has_country_flag = CUB_pol_tree_finished
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_carib_lake"
		add_ideas = CUB_carib_navy
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS }
}

shared_focus = {
	id = CUB_blackbeard
	icon = GFX_goal_CUB_Blackbeard
	x = -1
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	mutually_exclusive = {
		focus = CUB_protect_trade
	}
	prerequisite = {
		focus = CUB_carib_lake
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
		modifier = {
			factor = 0
			already_has_other_doctrine_TI = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_blackbeard"
		add_tech_bonus = {
			name = CUB_blackbeard
			bonus = 1
			uses = 2
			category = cat_trade_interdiction
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_buccaneer
	icon = GFX_goal_generic_wolf_pack
	x = -1
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	prerequisite = {
		focus = CUB_blackbeard
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_buccaneer"
		add_tech_bonus = {
			name = CUB_buccaneer
			bonus = 1
			uses = 2
			category = ss_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_coast_guard
	icon = GFX_goal_USA_liberty_ships
	x = 0
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 7
	prerequisite = {
		focus = CUB_blackbeard
		focus = CUB_protect_trade
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_coast_guard"
		add_ideas = CUB_coastal_guard
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS }
}


shared_focus = {
	id = CUB_protect_trade
	icon = GFX_goal_generic_navy_cruiser
	x = 1
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	mutually_exclusive = {
		focus = CUB_blackbeard
	}
	prerequisite = {
		focus = CUB_carib_lake
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
		modifier = {
			factor = 0
			already_has_other_doctrine_FIB = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_trade"
		add_tech_bonus = {
			name = CUB_protect_trade
			bonus = 1
			uses = 1
			category = cat_fleet_in_being
		}
		add_tech_bonus = {
			name = CUB_protect_trade
			bonus = 1
			uses = 1
			category = dd_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_power_projection
	icon = GFX_goal_EGY_sultan_fleet
	x = 1
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	prerequisite = {
		focus = CUB_protect_trade
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_power_projection"
		add_tech_bonus = {
			name = CUB_power_projection
			bonus = 1
			uses = 2
			category = ca_tech
			category = cl_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_protect_shores
	icon = GFX_focus_generic_coastal_fort
	x = 0
	y = 5
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_power_projection
		focus = CUB_buccaneer
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_shores"
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_building_construction = {
					type = coastal_bunker
					province = 4600
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7622
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 10498
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7451
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 10374
					level = 3
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_building_construction = {
					type = coastal_bunker
					province = 4476
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7546
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 1550
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 12347
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7590
					level = 3
					instant_build = yes
				}
			}
		}
		818 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_building_construction = {
					type = coastal_bunker
					province = 13205
					level = 3
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_airforce
	icon = GFX_goal_ELS_Plane_Lease
	x = 6
	y = 1
	relative_position_id = CUB_begin_mil_reform
	cost = 6
	prerequisite = {
		focus = CUB_begin_mil_reform
	}
	available = {
		OR = {
			has_country_flag = CUB_pol_tree_finished
			has_country_flag = CUB_chose_airforce
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			NOT = {
				has_country_flag = CUB_pol_tree_finished
			}
			factor = 0
		}
		modifier = {
			AND = {
				has_country_flag = CUB_pol_tree_finished
				has_war = yes
			}
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_airforce"
		country_event = cuba.102
		hidden_effect = {
			country_event = {
				id = cuba.244
				days = 100
			}
		}
	}
}

shared_focus = {
	id = CUB_combinedarms
	icon = GFX_goal_generic_CAS
	x = 5
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	mutually_exclusive = {
		focus = CUB_ind_airforce
	}
	prerequisite = {
		focus = CUB_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0
			already_has_other_doctrine_BSP = yes
		}
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_combinedarms"
		add_tech_bonus = {
			name = CUB_combinedarms
			bonus = 1
			uses = 2
			category = cat_battlefield_support
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_ind_airforce
	icon = GFX_goal_air_armada
	x = 7
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	mutually_exclusive = {
		focus = CUB_combinedarms
	}
	prerequisite = {
		focus = CUB_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0
			already_has_other_doctrine_OI = yes
		}
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_ind_airforce"
		add_tech_bonus = {
			name = CUB_ind_airforce
			bonus = 1
			uses = 2
			category = cat_operational_integrity
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_found_air_academy
	icon = GFX_goal_generic_air_doctrine
	x = 6
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_ind_airforce
		focus = CUB_combinedarms
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_found_air_academy"
		add_ideas = CUB_air_acadidea
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = CUB_escort_fighters
	icon = GFX_goal_generic_air_fighter2
	x = 7
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	prerequisite = {
		focus = CUB_ind_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_escort_fighters"
		add_tech_bonus = {
			name = CUB_escort_fighters
			bonus = 1
			uses = 2
			category = light_fighter
			category = cat_heavy_fighter
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_flying_tanks
	icon = GFX_goal_new_airforce
	x = 5
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 8
	prerequisite = {
		focus = CUB_combinedarms
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_flying_tanks"
		add_tech_bonus = {
			name = CUB_flying_tanks
			bonus = 1
			uses = 2
			category = tactical_bomber
			category = cas_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_airinfrastructure_program
	icon = GFX_goal_generic_air_fighter
	x = 6
	y = 5
	relative_position_id = CUB_begin_mil_reform
	cost = 10
	prerequisite = {
		focus = CUB_escort_fighters
		focus = CUB_flying_tanks
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_airinfrastructure_program"
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		if = {
			limit = {
				315 = {
					NOT = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				315 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			315 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							is_owned_by = CUB
						}
						818 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
					}
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							NOT = {
								is_owned_by = CUB
							}
						}
					}
				}
			}
			315 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_marine_expand
	icon = GFX_goal_generic_amphibious_assault
	x = -3
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 8

	prerequisite = {
		focus = CUB_blackbeard
		focus = CUB_protect_trade
	}
	prerequisite = {
		focus = CUB_armament_doctrs
		focus = CUB_infantry_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_marine_expand"
		add_tech_bonus = {
			name = CUB_marine_expand
			bonus = 2
			uses = 1
			category = marine_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_new_landing_craft
	icon = GFX_goal_generic_amphibious_assault
	x = -3
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 8

	prerequisite = {
		focus = CUB_marine_expand
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_landing_craft"
		add_tech_bonus = {
			name = CUB_new_landing_craft
			bonus = 2
			uses = 1
			category = tp_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_naval_aviation
	icon = GFX_focus_generic_navy_battleship3
	x = 3
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 8

	prerequisite = {
		focus = CUB_blackbeard
		focus = CUB_protect_trade
	}
	prerequisite = {
		focus = CUB_combinedarms
		focus = CUB_ind_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_naval_aviation"
		add_tech_bonus = {
			name = CUB_naval_aviation
			bonus = 2
			uses = 1
			category = naval_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_skip_bombing
	icon = GFX_goal_generic_air_naval_bomber
	x = 3
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 8

	prerequisite = {
		focus = CUB_naval_aviation
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_skip_bombing"
		add_ideas = CUB_skip_bomb_idea
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

####################
###Diplomatic    ###
####################

shared_focus = {
	id = CUB_foreign_relate
	icon = GFX_goal_generic_improve_relations
	x = 25
	y = 7
	offset = {
		x = -9
		y = 0
		trigger = {
			has_country_flag = CUB_nineoffset
		}
	}
	offset = {
		x = -8
		y = 0
		trigger = {
			has_country_flag = CUB_eightoffset
		}
	}
	offset = {
		x = -1
		y = 0
		trigger = {
			has_country_flag = CUB_oneoffset
		}
	}
	cost = 5

	available = {
		has_country_flag = CUB_pol_tree_finished
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_foreign_relate"
		add_political_power = 100
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_fed_relate_trade
	icon = GFX_goal_caribbean
	x = 3
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}
	bypass = {
		OR = {
			NOT = {
				country_exists = CAF
			}
			has_war_with = CAF
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_fed_relate_trade"
		country_event = cuba.122
	}
}

shared_focus = {
	id = CUB_local_relate_trade
	icon = GFX_goal_CUB_regional_diplomacy
	x = 1
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}
	bypass = {
		OR = {
			NOT = {
				country_exists = HAI
			}
			has_war_with = HAI
		}
		OR = {
			NOT = {
				country_exists = DOM
			}
			has_war_with = DOM
		}
		OR = {
			NOT = {
				country_exists = YUC
			}
			has_war_with = YUC
		}
		OR = {
			NOT = {
				country_exists = MEX
			}
			has_war_with = MEX
		}
		OR = {
			NOT = {
				country_exists = GUA
			}
			has_war_with = GUA
		}
		OR = {
			NOT = {
				country_exists = ELS
			}
			has_war_with = ELS
		}
		OR = {
			NOT = {
				country_exists = HON
			}
			has_war_with = HON
		}
		OR = {
			NOT = {
				country_exists = NIC
			}
			has_war_with = NIC
		}
		OR = {
			NOT = {
				country_exists = COS
			}
			has_war_with = COS
		}
		OR = {
			NOT = {
				country_exists = PAN
			}
			has_war_with = PAN
		}
		OR = {
			NOT = {
				country_exists = VEN
			}
			has_war_with = VEN
		}
		OR = {
			NOT = {
				country_exists = CEN
			}
			has_war_with = CEN
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_local_relate_trade"
		country_event = cuba.123
	}
}

shared_focus = {
	id = CUB_american_relate_trade
	icon = GFX_goal_CUB_America
	x = -1
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}

	bypass = {
		OR = {
			NOT = {
				country_exists = USA
			}
			has_war_with = USA
		}
		OR = {
			NOT = {
				country_exists = CSA
			}
			has_war_with = CSA
		}
		OR = {
			NOT = {
				country_exists = TEX
			}
			has_war_with = TEX
		}
		OR = {
			NOT = {
				country_exists = CAL
			}
			has_war_with = CAL
		}
		OR = {
			NOT = {
				country_exists = NEE
			}
			has_war_with = NEE
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_american_relate_trade"
		if = {
			limit = {
				has_global_flag = USA_civil_war_begun_flag
				NOT = {
					has_global_flag = USA_civil_war_over_flag
				}
			}
			country_event = cuba.138
		}
		else = {
			country_event = cuba.124
		}
	}
}

shared_focus = {
	id = CUB_european_relate_trade
	icon = GFX_focus_usa_focus_on_europe
	x = -3
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_european_relate_trade"
		if = {
			limit = {
				not_has_socialist_government = yes
				OR = {
					AND = {
						country_exists = GER
						NOT = {
							has_war_with = GER
						}
					}
					AND = {
						country_exists = AUS
						NOT = {
							has_war_with = AUS
						}
						OR = {
							has_war_with = GER
							NOT = {
								country_exists = GER
							}
						}
					}
				}
			}
			country_event = cuba.125
		}
		if = {
			limit = {
				has_socialist_government = yes
				OR = {
					AND = {
						country_exists = FRA
						NOT = {
							has_war_with = FRA
						}
					}
					AND = {
						country_exists = SOV
						NOT = {
							has_war_with = SOV
						}
					}
				}
			}
			country_event = cuba.1250
		}
		if = {
			limit = {
				NOT = {
					AND = {
						not_has_socialist_government = yes
						OR = {
							AND = {
								country_exists = GER
								NOT = {
									has_war_with = GER
								}
							}
							AND = {
								country_exists = AUS
								NOT = {
									has_war_with = AUS
								}
								OR = {
									has_war_with = GER
									NOT = {
										country_exists = GER
									}
								}
							}
						}
					}
					AND = {
						has_socialist_government = yes
						OR = {
							AND = {
								country_exists = FRA
								NOT = {
									has_war_with = FRA
								}
							}
							AND = {
								country_exists = SOV
								NOT = {
									has_war_with = SOV
								}
							}
						}
					}
				}
			}
			country_event = cuba.1251
		}
	}
}

shared_focus = {
	id = CUB_new_partners
	icon = GFX_goal_generic_positive_trade_relations_gold
	x = 0
	y = 2
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_fed_relate_trade
	}
	prerequisite = {
		focus = CUB_local_relate_trade
	}
	prerequisite = {
		focus = CUB_american_relate_trade
	}
	prerequisite = {
		focus = CUB_european_relate_trade
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_partners"
		country_event = cuba.126
	}
}

shared_focus = {
	id = CUB_old_friends
	icon = GFX_goal_CUB_America
	x = -1
	y = 3
	relative_position_id = CUB_foreign_relate
	cost = 5

	available = {
		has_war = no
		NOT = {
			has_completed_focus = CUB_new_allies
		}
		has_global_flag = USA_civil_war_over_flag
		OR = {
			CSA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			TEX = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			CAL = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			USA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
		}
	}
	bypass = {
		OR = {
			is_in_faction_with = USA
			is_in_faction_with = CSA
			is_in_faction_with = TEX
			is_in_faction_with = CAL
			is_subject_of = USA
			is_subject_of = CSA
			is_subject_of = TEX
			is_subject_of = CAL
		}
	}
	prerequisite = {
		focus = CUB_new_partners
	}

	ai_will_do = {
		factor = 15
		modifier = {
			OR = {
				USA = {
					is_in_faction = yes
					exists = yes
				}
				CSA = {
					is_in_faction = yes
					exists = yes
				}
				TEX = {
					is_in_faction = yes
					exists = yes
				}
				CAL = {
					is_in_faction = yes
					exists = yes
				}
			}
			factor = 3
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_old_friends"
		country_event = cuba.127
	}
}

shared_focus = {
	id = CUB_new_allies
	icon = GFX_goal_generic_join_faction
	x = 1
	y = 3
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_new_partners
	}
	available = {
		has_war = no
		NOT = {
			has_completed_focus = CUB_old_friends
		}
		NOT = {
			CSA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			TEX = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			CAL = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			USA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
		}
		OR = {
			AND = {
				has_country_flag = CUB_GER
				GER = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				has_country_flag = CUB_FRA
				FRA = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				OR = {
					has_country_flag = CUB_canada_ally
					AND = {
						has_democratic_government = yes
						custom_trigger_tooltip = {
							tooltip = CUB_csawon_tt
							hidden_trigger = {
								has_global_flag = USA_civil_war_over_flag
								CSA = {
									exists = yes
								}
							}
						}
					}
				}
				CAN = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				has_country_flag = CUB_AUS
				AUS = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				has_country_flag = CUB_SOV
				SOV = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				has_government = social_democrat
				COS = {
					has_government = social_democrat
					is_faction_leader = yes
					exists = yes
				}
			}
		}
	}
	bypass = {
		OR = {
			AND = {
				is_in_faction = yes
				NOT = {
					is_in_faction_with = USA
					is_in_faction_with = CSA
					is_in_faction_with = TEX
					is_in_faction_with = CAL
				}
			}
			AND = {
				is_subject = yes
				NOT = {
					is_subject_of = USA
					is_subject_of = CSA
					is_subject_of = TEX
					is_subject_of = CAL
				}
			}
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_allies"
		country_event = cuba.128
	}
}

shared_focus = {
	id = CUB_joint_research
	icon = GFX_goal_tfv_generic_tech_sharing
	x = 0
	y = 4
	relative_position_id = CUB_foreign_relate
	cost = 5

	available = {
		custom_trigger_tooltip = {
			tooltip = CUB_researchgroup_tt
			hidden_trigger = {
				OR = {
					INS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = maliphinsul_research_group
					}
					COL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = colombia_research
					}
					ARG = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = argentina_research
					}
					FLN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					BEL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					HOL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					DEN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					NOR = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SWE = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SCA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					AUS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = austrian_research
					}
					JAP = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = japan_research
					}
					GER = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = german_research
					}
					FRA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = phalanstere_research
					}
				}
			}
		}
	}
	prerequisite = {
		focus = CUB_new_allies
		focus = CUB_old_friends
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 2
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_joint_research"
		if = {
			limit = {
				FRA = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = phalanstere_research
				}
			}
			add_to_tech_sharing_group = phalanstere_research
		}
		else_if = {
			limit = {
				GER = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = german_research
				}
			}
			add_to_tech_sharing_group = german_research
		}
		else_if = {
			limit = {
				JAP = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = japan_research
				}
			}
			add_to_tech_sharing_group = japan_research
		}
		else_if = {
			limit = {
				AUS = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = austrian_research
				}
			}
			add_to_tech_sharing_group = austrian_research
		}
		else_if = {
			limit = {
				OR = {
					DEN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					NOR = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SWE = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SCA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
				}
			}
			add_to_tech_sharing_group = scandinavian_research
		}
		else_if = {
			limit = {
				OR = {
					FLN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					BEL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					HOL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
				}
			}
			add_to_tech_sharing_group = belgian_research
		}
		else_if = {
			limit = {
				ARG = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = argentina_research
				}
			}
			add_to_tech_sharing_group = argentina_research
		}
		else_if = {
			limit = {
				COL = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = colombia_research
				}
			}
			add_to_tech_sharing_group = colombia_research
		}
		else_if = {
			limit = {
				INS = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = maliphinsul_research_group
				}
			}
			add_to_tech_sharing_group = maliphinsul_research_group
		}
		else_if = {
			limit = {
				COS = {
					is_faction_leader = yes
					is_in_faction_with = CUB
				}
			}
			country_event = cuba.130
		}
		else_if = {
			limit = {
				NOT = {
					INS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = maliphinsul_research_group
					}
					COL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = colombia_research
					}
					ARG = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = argentina_research
					}
					FLN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					BEL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					HOL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					DEN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					NOR = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SWE = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SCA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					AUS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = austrian_research
					}
					GER = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = german_research
					}
					FRA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = phalanstere_research
					}
					COS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
					}
				}
			}
			custom_effect_tooltip = CUB_researchgroup2_tt
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_military_integrate
	icon = GFX_goal_generic_position_armies
	x = 0
	y = 5
	relative_position_id = CUB_foreign_relate
	cost = 5

	available = {
		is_in_faction = yes
		NOT = {
			is_faction_leader = yes
		}
	}
	prerequisite = {
		focus = CUB_joint_research
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				AND = {
					not_has_socialist_government = yes
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 2
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_military_integrate"
		add_political_power = 50
		hidden_effect = {
			every_other_country = {
				limit = {
					is_in_faction_with = CUB
					is_faction_leader = yes
				}
				country_event = cuba.129
			}
		}
		custom_effect_tooltip = CUB_milint_tooltip
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
