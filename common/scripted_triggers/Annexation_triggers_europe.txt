# Albania - annexation_ALB_CONQ
can_release_albania = {
	state = 44 #Scutari
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = ALB_CONQ
			country_exists = ALB
		}
	}
}

#Alsace Lorraine - annexation_ALSACE_CONQ
can_release_alsace_lorraine = {
	state = 28 #Alsace-Lorraine
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do French release first
		OR = {
			NOT = { owns_state = 16 } #ÃŽle de France
			has_country_flag = FRA_CONQ
		}
		# Do German release first
		OR = {
			NOT = { owns_state = 64 } #Brandeburg
			has_country_flag = GER_CONQ
		}
		# Do Rhenish release first
		OR = {
			NOT = { owns_state = 51 } #Eastern Rhineland
			has_country_flag = GER_CONQ
			has_country_flag = WGR_CONQ
		}
		# Do Bavarian release first
		OR = {
			NOT = { owns_state = 52 } #Upper Bavaria
			has_country_flag = GER_CONQ
			has_country_flag = BAY_CONQ
		}
		NOT = { has_country_flag = ALSACE_CONQ }
	}
}

#Austria - annexation_AUS_CONQ
can_release_austria = {
	state = 4 #Vienna
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = AUS_CONQ
			country_exists = AUS
		}
	}
}

#Austrian Littoral - annexation_AUS_LIT_CONQ
can_release_austrian_littoral = {
	state = 736 #Istria
	is_claim_or_core_of_ROOT = no
	OR = {
		ITA = { is_ally_of_ROOT = yes }
		SIC = { is_ally_of_ROOT = yes }
		SRI = { is_ally_of_ROOT = yes }
		SRD = { is_ally_of_ROOT = yes }
		VNC = { is_ally_of_ROOT = yes }
		AUS = { is_ally_of_ROOT = yes }
		SLO = { is_ally_of_ROOT = yes }
		SER = {
			is_ally_of_ROOT = yes
			OR = {
				owns_state = 102 #Carniola
				owns_state = 103 #Lika
			}
		}
		CRO = {
			is_ally_of_ROOT = yes
			OR = {
				owns_state = 102 #Carniola
				owns_state = 103 #Lika
			}
		}
		759 = {
			owner = {
				is_italian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
	}
	ROOT = {
		# Do Austrian release first
		should_release_austria_first = yes
		# Do Slovenian release first
		OR = {
			country_exists = SLO
			has_country_flag = SLO_CONQ
			NOT = {
				102 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Italian release first
		OR = {
			can_form_italy = no
			has_country_flag = ITA_CONQ
		}
		# Do Venice release first
		OR = {
			country_exists = VNC
			has_country_flag = VNC_CONQ
			NOT = {
				has_socialist_government = no
				SRI = { is_ally_of_ROOT = yes }
			}
			NOT = {
				160 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
			can_form_italy = yes
		}
		NOT = {
			has_country_flag = AUS_LIT_CONQ
		}
	}
}

#Austrian Trentino - annexation_AUS_TRENT_CONQ
can_release_austrian_trentino = {
	OR = {
		state = 39 ##South Tyrol
		state = 783 #Trentino
	}
	is_claim_or_core_of_ROOT = no
	OR = {
		AUS = { is_ally_of_ROOT = yes }
		159 = {
			owner = {
				is_italian_tag = yes
				ROOT_can_grant_land = yes
			}
		}
	}
	ROOT = {
		# Do Austrian release first
		should_release_austria_first = yes
		# Do Italian release first
		OR = {
			can_form_italy = no
			has_country_flag = ITA_CONQ
		}
		# Do Venice release first
		OR = {
			country_exists = VNC
			has_country_flag = VNC_CONQ
			NOT = {
				has_socialist_government = no
				SRI = { is_ally_of_ROOT = yes }
			}
			NOT = {
				160 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
			can_form_italy = yes
		}
		# Do Lombardy release first
		OR = {
			country_exists = LOM
			has_country_flag = LOM_CONQ
			NOT = {
				has_socialist_government = no
				NOT = { country_exists = SRI }
				SRI = { is_ally_of_ROOT = yes }
			}
			NOT = {
				159 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
			can_form_italy = yes
		}
		NOT = {
			has_country_flag = AUS_TRENT_CONQ
		}
	}
}

#Basque - annexation_BAS_CONQ
can_release_basque_country = {
	state = 172 #Navarra
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = BAS_CONQ
			country_exists = BAS
			41 = { is_owned_and_controlled_by = ROOT } #Madrid
		}
	}
}

#Bavaria - annexation_BAY_CONQ
can_release_bavaria = {
	state = 52 #Lower Bavaria
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_german_tag = no
		should_release_germany_first = yes
		NOT = {
			country_exists = BAY
			has_country_flag = BAY_CONQ
			has_country_flag = GER_CONQ
		}
	}
}

#Belarus - annexation_WHR_CONQ
can_release_belarus = {
	state = 206 #Minsk
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = WHR_CONQ
			country_exists = WHR
			AND = {
				is_in_faction_with = GER
				has_global_flag = whr_revolt
			}
		}
	}
}

#Belgium - annexation_BEL_CONQ
can_release_belgium = {
	state = 6 #Flanders
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = BEL_CONQ
			country_exists = BEL
			AND = {
				tag = HOL
				6 = { is_owned_and_controlled_by = ROOT } #Flanders
				NOT = {
					34 = { is_owned_and_controlled_by = ROOT } #Wallonia
				}
			}
		}
	}
}

#Bohemia - annexation_CZE_CONQ
can_release_bohemia = {
	state = 9 #Bohemia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Austrian release first
		should_release_austria_first = yes
		NOT = {
			tag = AUS
			has_country_flag = CZE_CONQ
			country_exists = CZE
		}
	}
}

#Bosnia - annexation_BOS_CONQ
can_release_bosnia = {
	state = 104 #Bosnia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Croatian release first
		OR = {
			country_exists = CRO
			has_country_flag = CRO_CONQ
			NOT = {
				109 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = BOS_CONQ
			country_exists = BOS
		}
	}
}

#Bucovina - annexation_BUKOVINA_CONQ
can_release_bucovina = {
	OR = {
		state = 80 #Cernauti
		state = 713 #Suceava
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Ukrainian release first
		OR = {
			country_exists = UKR
			has_country_flag = UKR_CONQ
			NOT = {
				202 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Romanian release first
		OR = {
			country_exists = ROM
			has_country_flag = ROM_CONQ
			NOT = {
				46 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Galician releae first
		OR = {
			country_exists = GAL
			has_country_flag = GAL_CONQ
			NOT = {
				91 = { #Lemberg
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				88 = { #Krakow
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			tag = UKR
			tag = ROM
			tag = GAL
			AND = {
				tag = AUS
				AUS_is_unified = yes
			}
			ROM = {
				is_ally_of_ROOT = yes
				owns_state = 79
			}
			UKR = {
				is_ally_of_ROOT = yes
				OR = {
					AND = {
						owns_state = 89
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 80
						ROOT = { owns_state = 713 }
					}
				}
			}
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				OR = {
					AND = {
						owns_state = 89
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 80
						ROOT = { owns_state = 713 }
					}
					AND = {
						owns_state = 76
						ROOT = { owns_state = 713 }
					}
				}
			}
			GAL = {
				is_ally_of_ROOT = yes
				OR = {
					AND = {
						owns_state = 89
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 80
						ROOT = { owns_state = 713 }
					}
				}
			}
		}
		NOT = {
			has_country_flag = BUKOVINA_CONQ
		}
	}
}

#Bulgaria - annexation_BUL_CONQ
can_release_bulgaria = {
	state = 48 #Sofia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
		}
	}
}

#Catalonia - annexation_CAT_CONQ
can_release_catalonia = {
	state = 165 #Catalonia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = CAT_CONQ
			country_exists = CAT
			41 = { is_owned_and_controlled_by = ROOT }
		}
	}
}

#Croatia - annexation_CRO_CONQ
can_release_croatia = {
	state = 109 #Posavina
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = CRO_CONQ
			country_exists = CRO
			AND = {
				tag = AUS
				has_country_flag = CRO_release
			}
		}
	}
}

#Croatia - Austria Illyria split - annexation_CRO_AUS_CONQ
can_release_illyria_austria = {
	state = 109 #Posavina
	OR = {
		is_claim_or_core_of_ROOT = no
		AND = {
			HUN = { is_subject_of = ROOT }
			109 = { is_owned_and_controlled_by = HUN }
		}
	}
	ROOT = {
		tag = AUS
		has_country_flag = CRO_release
		NOT = {
			has_country_flag = CRO_CONQ
			country_exists = CRO
		}
	}
}

#Constantinople - annexation_ETR_CONQ
can_release_constantinople = {
	state = 773 #Constantinople
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = { has_country_flag = ETR_CONQ }
		OR = {
			tag = TUR
			tag = OTT
			tag = BUL
			tag = GRE
			OTT = { is_ally_of_ROOT = yes }
			TUR = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
			GRE = {
				is_ally_of_ROOT = yes
				owns_state = 184
			}
			AND = {
				49 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				NOT = {
					country_exists = TUR
					country_exists = OTT
				}
			}
			AND = {
				NOT = {
					has_socialist_government = yes
					country_exists = OTT
					country_exists = TUR
				}
				OR = {
					tag = GER
					tag = GEX
					tag = AUS
					tag = HUN
				}
			}
		}
		# do Greek release first
		OR = {
			country_exists = GRE
			has_country_flag = GRE_CONQ
			NOT = {
				47 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
	}
}

#Corsica - annexation_CORSICA_CONQ
can_release_corsica = {
	state = 1 #Corsica
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_french_tag = yes
		NOT = {
			tag = SRD
			tag = SRI
			tag = ITA
			tag = TUS
			has_country_flag = CORSICA_CONQ
		}
	}
}

#Cyprus - annexation_CYP_CONQ
can_release_cyprus = {
	state = 183 #Cyprus
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = GRE
			tag = OTT
			tag = TUR
			has_country_flag = CYP_CONQ
			country_exists = CYP
		}
	}
}

#Dalmatia - annexation_CRO_DALMATIA_CONQ
can_release_dalmatia = {
	state = 163 #Dalmatia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Croatian release first
		OR = {
			country_exists = CRO
			has_country_flag = CRO_CONQ
			NOT = {
				109 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = CRO_DALMATIA_CONQ
			AND = {
				tag = AUS
				has_country_flag = CRO_release
			}
		}
	}
}

#Dobrogea - annexation_DOBROGEA_CONQ
can_release_dobrogea = {
	OR = {
		state = 772 #Constanta
		state = 77 #Silistra
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		OR = {
			tag = ROM
			tag = BUL
			ROM = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
		}
		# Do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Romanian release first
		OR = {
			country_exists = ROM
			has_country_flag = ROM_CONQ
			NOT = {
				46 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = DOBROGEA_CONQ
		}
	}
}

#Danish North Atlantic - annexation_ICE_CONQ
can_release_danish_north_atlantic = {
	state = 100 #Iceland
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = ICE_CONQ
			country_exists = ICE
		}
	}
}

#Denmark - annexation_DEN_CONQ
can_release_denmark = {
	state = 37 #Zealand
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = DEN_CONQ
			country_exists = DEN
		}
	}
}

#Don Kuban - annexation_DKB_CONQ
can_release_don_kuban = {
	state = 234 #Yekaterinodar
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = DKB_CONQ
			country_exists = DKB
		}
	}
}

#Emilia - annexation_EMI_CONQ
can_release_emilia = {
	state = 1004 #Emilia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = EMI
			has_country_flag = EMI_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Piedmont instead
			AND = {
				158 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
					AND = {
						tag = SIC
						owns_state = 838
						NOT = { has_country_flag = SIC_empire }
						controls_all_owned_states = yes
						SRD = {
							exists = yes
							is_subject = no
							NOT = { has_war_with = ROOT }
							controls_all_owned_states = yes
						}
					}
					AND = {
						is_faction_leader = yes
						has_socialist_government = no
						838 = {
							is_owned_and_controlled_by = ROOT
							is_claim_or_core_of_ROOT = no
						}
						SRD = {
							exists = yes
							is_subject = no
							NOT = { is_faction_leader = yes }
							controls_all_owned_states = yes
							has_socialist_government = no
							NOT = { has_war_with = ROOT }
							NOT = { has_country_flag = offered_piedmont_@ROOT }
						}
					}
				}
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#England - annexation_ENG_CONQ
can_release_england = {
	state = 126 #London
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = ENG_CONQ
			country_exists = ENG
			country_exists = GBR
			country_exists = GBP
		}
		if = {
			limit = { tag = GER }
			OR = {
				NOT = { has_global_flag = GER_stay_out_france_uk }
				NOT = { country_exists = ENT }
				has_war_with = ENT
			}
		}
	}
}

#Estonia - annexation_EST_CONQ
can_release_estonia = {
	state = 13 #Estonia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# do Latvian release first
		OR = {
			country_exists = BAT
			country_exists = LAT
			has_country_flag = LAT_CONQ
			NOT = {
				190 = { #Courland
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				1091 = { #Riga
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = EST_CONQ
			country_exists = EST
			has_war_with = LAT
		}
	}
}

#Finland - annexation_FIN_CONQ
can_release_finland = {
	state = 840 #Nyland
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = FIN_CONQ
			country_exists = FIN
		}
	}
}

#France - annexation_FRA_CONQ
can_release_france = {
	state = 16 #Paris
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = NFA
			tag = OCC
			tag = BRI
			tag = GER
			country_exists = FRA
			country_exists = FRP
			has_country_flag = FRA_CONQ
			AND = {
				tag = SPR
				has_completed_focus = SPR_bourbon_throne
			}
		}
	}
}

#Galicia - annexation_GLC_CONQ
can_release_galicia = {
	state = 171 #Galicia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = GLC_CONQ
			country_exists = GLC
			41 = { is_owned_and_controlled_by = ROOT }
		}
	}
}

#Galicia and Lodomeria - annexation_GAL_CONQ
can_release_galicia_lodomeria = {
	OR = {
		state = 91 #Lwow
		state = 88 #Krakow
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Austrian release first
		should_release_austria_first = yes
		# Do Hungarian release first
		OR = {
			country_exists = HUN
			has_country_flag = HUN_CONQ
			NOT = {
				43 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Polish release first
		OR = {
			country_exists = POL
			has_country_flag = POL_CONQ
			NOT = {
				10 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Ukrainian release first
		OR = {
			country_exists = UKR
			has_country_flag = UKR_CONQ
			NOT = {
				202 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = GAL_CONQ
			country_exists = GAL
		}
	}
}

#Germany - annexation_GER_CONQ
can_release_germany = {
	state = 64 #Berlin
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = GER
			tag = GEX
			tag = GRU
			tag = DDR
			tag = WGR
			tag = BAY
			tag = NGF
			has_country_flag = GER_CONQ
			country_exists = GER
		}
	}
}

#Greece - annexation_GRE_CONQ
can_release_greece = {
	state = 47 #Athens
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = GRE_CONQ
			country_exists = GRE
		}
	}
}

#North German Federation - annexation_NGF_CONQ
can_release_hanover = {
	state = 59 #Hanover
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_german_tag = no
		should_release_germany_first = yes
		NOT = {
			country_exists = NGF
			has_country_flag = NGF_CONQ
			has_country_flag = GER_CONQ
		}
	}
}

#Hungary - annexation_HUN_CONQ
can_release_hungary = {
	state = 43 #Budapest
	is_claim_or_core_of_ROOT = no
	ROOT = {
		should_release_austria_first = yes
		NOT = {
			tag = AUS
			has_war_with = AUS
			country_exists = HUN
			has_country_flag = HUN_CONQ
		}
	}
}

#Hungary for Austria - annexation_HUN_AUS_CONQ
can_release_hungary_austria = {
	state = 43 #Budapest
	is_claim_or_core_of_ROOT = no
	ROOT = {
		tag = AUS
		NOT = {
			country_exists = HUN
			has_completed_focus = AUS_status_quo
			has_completed_focus = AUS_embrace_pluralism
			has_completed_focus = AUS_military_occupation
			has_country_flag = AUS_hungary_occupied
		}
		#release Tranylvania first
		OR = {
			country_exists = TRS
			has_country_flag = AUS_transylvania_occupied
			NOT = {
				84 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
					is_core_of = TRS
				}
			}
		}
		# release Slovakia first
		OR = {
			country_exists = SVK
			has_country_flag = AUS_slovakia_occupied
			NOT = {
				70 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
	}
}

#Ireland - annexation_IRE_CONQ
can_release_ireland = {
	state = 113 #Leinster
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = ENG
			has_country_flag = IRE_CONQ
			country_exists = IRE
		}
	}
}

#Italy - annexation_ITA_CONQ
can_release_italy = {
	state = 2 #Rome
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_italian_tag = no
		can_form_italy = yes
		NOT = {
			has_country_flag = ITA_CONQ
		}
	}
}

#Keraferia - annexation_KERAF_CONQ
can_release_keraferia = {
	state = 1076 #Keraferia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Greek release first
		OR = {
			country_exists = GRE
			has_country_flag = GRE_CONQ
			NOT = {
				47 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			GRE = {
				OR = {
					owns_state = 768
					is_ally_of_ROOT = yes
				}
				ROOT_can_grant_land = yes
			}
			BUL = {
				owns_state = 731
				ROOT_can_grant_land = yes
			}
		}
		NOT = {
			has_country_flag = KRF_CONQ
		}
	}
}

#Kosovo - annexation_SER_KOSOVO_CONQ
can_release_kosovo = {
	state = 765 #Kosovo
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# do Albanian release first
		OR = {
			country_exists = ALB
			has_country_flag = ALB_CONQ
			NOT = {
				44 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			tag = SER
			tag = ALB
			SER = { is_ally_of_ROOT = yes }
			ALB = { is_ally_of_ROOT = yes }
			SER = { ROOT_can_grant_land = yes }
			ALB = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = SER_KOSOVO_CONQ
		}
	}
}

#Latvia - annexation_LAT_CONQ
can_release_latvia = {
	OR = {
		state = 190  #Courland
		state = 1091 #Riga
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = LAT_CONQ
			country_exists = LAT
		}
	}
}

#Lithuania - annexation_LIT_CONQ
can_release_lithuania = {
	state = 96 #Vilnius
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = BAT
			has_country_flag = LIT_CONQ
			country_exists = LIT
			1091 = {
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

#Lombardy - annexation_LOM_CONQ
can_release_lombardy = {
	state = 159 #Lombardy
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			NOT = { country_exists = SRI }
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = LOM
			has_country_flag = LOM_CONQ
			has_country_flag = SIC_empire
			has_country_flag = VNC_republican_revolt
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Luxembourg - annexation_LUX_CONQ
can_release_luxembourg = {
	state = 8 #Luxembourg
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_german_tag = no
		should_release_germany_first = yes
		NOT = {
			tag = FRA
			tag = BEL
			country_exists = LUX
			has_country_flag = LUX_CONQ
		}
	}
}

#Macedonia - annexation_SER_MACED_CONQ
can_release_macedonia = {
	state = 106 #Macedonia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			SER = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
			SER = { ROOT_can_grant_land = yes }
			BUL = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = SER_MACED_CONQ
		}
	}
}

#Malta - annexation_MLT_CONQ
can_release_malta = {
	state = 116 #Malta
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_italian_tag = no
		NOT = {
			has_country_flag = MLT_CONQ
			country_exists = MLT
			AND = {
				tag = CAN
				is_faction_leader = yes
				NOT = { country_exists = GBR }
			}
			AND = {
				tag = NFA
				is_in_faction_with = ENT
			}
		}
		if = {
			limit = { tag = GBR }
			has_country_flag = GBR_decolonize
		}
	}
}

#Montenegro - annexation_MNT_CONQ
can_release_montenegro = {
	state = 105 #Montenegro
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Croatian release first
		OR = {
			country_exists = CRO
			has_country_flag = CRO_CONQ
			NOT = {
				109 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			tag = SER
			has_country_flag = MNT_CONQ
			country_exists = MNT
		}
	}
}

#Netherlands - annexation_HOL_CONQ
can_release_netherlands = {
	state = 7 #Holland
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			country_exists = HOL
			has_country_flag = HOL_CONQ
		}
	}
}

#Nis - annexation_NIIS_CONQ
can_release_nis = {
	state = 767 #Nis
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			SER = { ROOT_can_grant_land = yes }
			BUL = {
				owns_state = 841
				ROOT_can_grant_land = yes
			}
		}
		NOT = {
			has_country_flag = NIS_CONQ
		}
	}
}

#Northern Epirus - annexation_GRE_EPIRUS_CONQ
can_release_northern_epirus = {
	state = 766 #Northern Epirus
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# do Greek release first
		OR = {
			country_exists = GRE
			has_country_flag = GRE_CONQ
			NOT = {
				47 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# do Albanian release first
		OR = {
			country_exists = ALB
			has_country_flag = ALB_CONQ
			NOT = {
				44 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			tag = GRE
			tag = ALB
			GRE = { is_ally_of_ROOT = yes }
			ALB = { is_ally_of_ROOT = yes }
			GRE = {
				ROOT_can_grant_land = yes
				owns_state = 185 #Epirus
			}
			ALB = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = GRE_EPIRUS_CONQ
		}
	}
}

#Norway - annexation_NOR_CONQ
can_release_norway = {
	state = 110 #Ostlandet
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = NOR_CONQ
			country_exists = NOR
		}
	}
}

#Occitania - annexation_OCC_CONQ
can_release_occitania = {
	state = 21 #Provence
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			is_in_faction_with = NFA
			16 = {
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			controls_state = 16
			16 = {
				controller = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
			tag = GER
			tag = FRA
			tag = RUS
			tag = OCC
			tag = FRP
			tag = BRI
			tag = NFA
			tag = CAR
			has_country_flag = OCC_CONQ
			country_exists = FRA
			country_exists = OCC
		}
	}
}

#Papal States - annexation_PAP_STATES_CONQ
can_release_papal_states = {
	OR = {
		state = 157 #Marche
		state = 161 #Romagna
		state = 764 #Viterbo
		state = 1005 #Umbria
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			PAP = { is_ally_of_ROOT = yes }
			ITA = { is_ally_of_ROOT = yes }
			SRI = { is_ally_of_ROOT = yes }
			SIC = { is_ally_of_ROOT = yes }
			SRD = { is_ally_of_ROOT = yes }
			AND = {
				is_faction_leader = yes
				has_socialist_government = no
				count_triggers = {
					amount = 3
					764 = { #Viterbo
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
					1005 = { #Umbria
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
					157 = { #Marche
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
					161 = { #Romagna
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
				}
				PAP = {
					exists = yes
					is_subject = no
					NOT = { is_faction_leader = yes }
					controls_all_owned_states = yes
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					NOT = { has_country_flag = offered_papacy_@ROOT }
				}
			}
			AND = {
				is_faction_leader = yes
				has_socialist_government = no
				count_triggers = {
					amount = 3
					764 = { #Viterbo
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
					1005 = { #Umbria
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
					157 = { #Marche
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
					161 = { #Romagna
						is_owned_and_controlled_by = ROOT
						is_claim_or_core_of_ROOT = no
					}
				}
				SIC = {
					exists = yes
					is_subject = no
					NOT = { is_faction_leader = yes }
					controls_all_owned_states = yes
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					NOT = { has_country_flag = offered_papacy_@ROOT }
				}
			}
		}
		NOT = {
			has_country_flag = PAP_STATES_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Rome instead
			AND = {
				NOT = { country_exists = PAP }
				OR = {
					has_socialist_government = no
					SRI = { is_ally_of_ROOT = yes }
				}
				2 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
			# should do Fate of Piedmont instead
			AND = {
				158 = {
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
					AND = {
						tag = SIC
						owns_state = 838
						NOT = { has_country_flag = SIC_empire }
						controls_all_owned_states = yes
						SRD = {
							exists = yes
							is_subject = no
							NOT = { has_war_with = ROOT }
							controls_all_owned_states = yes
						}
					}
					AND = {
						is_faction_leader = yes
						has_socialist_government = no
						838 = {
							is_owned_and_controlled_by = ROOT
							is_claim_or_core_of_ROOT = no
						}
						SRD = {
							exists = yes
							is_subject = no
							NOT = { is_faction_leader = yes }
							controls_all_owned_states = yes
							has_socialist_government = no
							NOT = { has_war_with = ROOT }
							NOT = { has_country_flag = offered_piedmont_@ROOT }
						}
					}
				}
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Piedmont - annexation_PIEDMONT_CONQ
can_release_piedmont = {
	state = 158 #Turin
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			ITA = { is_ally_of_ROOT = yes }
			SRI = { is_ally_of_ROOT = yes }
			SIC = { is_ally_of_ROOT = yes }
			SRD = { is_ally_of_ROOT = yes }
			AND = {
				has_socialist_government = yes
				NOT = { country_exists = SRI }
			}
			AND = {
				has_socialist_government = no
				NOT = { country_exists = SRD }
			}
			AND = {
				tag = SIC
				owns_state = 838
				NOT = { has_country_flag = SIC_empire }
				controls_all_owned_states = yes
				SRD = {
					exists = yes
					is_subject = no
					NOT = { has_war_with = ROOT }
					controls_all_owned_states = yes
				}
			}
			AND = {
				is_faction_leader = yes
				has_socialist_government = no
				838 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				SRD = {
					exists = yes
					is_subject = no
					NOT = { is_faction_leader = yes }
					controls_all_owned_states = yes
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					NOT = { has_country_flag = offered_piedmont_@ROOT }
				}
			}
		}
		NOT = {
			has_country_flag = PIEDMONT_CONQ
			has_country_flag = SIC_empire
		}
	}
}

#Pirot - annexation_SER_PIROT_CONQ
can_release_pirot = {
	state = 841 #Pirot
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			SER = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
			SER = { ROOT_can_grant_land = yes }
			BUL = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = SER_PIROT_CONQ
		}
	}
}

#Poland - annexation_POL_CONQ
can_release_poland = {
	state = 10 #Warsaw
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = GAL
			has_country_flag = POL_CONQ
			country_exists = POL
		}
	}
}

#Portugal - annexation_POR_CONQ
can_release_portugal = {
	state = 112 #Lisbon
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = CNT
			has_country_flag = POR_CONQ
			country_exists = POR
		}
	}
}

#Prussia - annexation_DDR_CONQ
can_release_prussia = {
	OR = {
		state = 64 #Berlin
		state = 5 #Konigsberg
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_german_tag = no
		should_release_germany_first = yes
		# Do Polish release first
		OR = {
			country_exists = POL
			has_country_flag = POL_CONQ
			NOT = {
				10 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Lithuanian release first
		OR = {
			country_exists = LIT
			has_country_flag = LIT_CONQ
			NOT = {
				96 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			country_exists = DDR
			has_country_flag = DDR_CONQ
		}
	}
}

#Rhineland - annexation_WGR_CONQ
can_release_rhineland = {
	state = 51 #Eastern Rhineland
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_german_tag = no
		should_release_germany_first = yes
		NOT = {
			country_exists = WGR
			has_country_flag = WGR_CONQ
			has_country_flag = GER_CONQ
		}
	}
}

#Romania - annexation_ROM_CONQ
can_release_romania = {
	state = 46 #Muntenia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			country_exists = ROM
			has_country_flag = ROM_CONQ
		}
	}
}

#Rome - annexation_PAP_CONQ
can_release_rome = {
	state = 2 #Rome
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			tag = ITA
			tag = SRI
			tag = SIC
			tag = PAP
			country_exists = PAP
			has_country_flag = PAP_CONQ
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Russia - annexation_RUS_CONQ
can_release_russia = {
	state = 219 #Moscow
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = RUS_CONQ
			country_exists = RUS
			country_exists = SOV
		}
	}
}

#Salonica - annexation_SALONICA_CONQ
can_release_salonica = {
	OR = {
		state = 769 #Eastern Salonica
		state = 731 #Western Salonica
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		OR = {
			tag = GRE
			tag = BUL
			GRE = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
			GRE = {
				exists = yes
				owns_state = 1076
				NOT = {
					has_war_with = ROOT
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
				OR = {
					AND = {
						has_socialist_government = yes
						ROOT = { has_socialist_government = yes }
					}
					AND = {
						has_socialist_government = no
						ROOT = { has_socialist_government = no }
					}
				}
			}
		}
		# Do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Greek release first
		OR = {
			country_exists = GRE
			has_country_flag = GRE_CONQ
			NOT = {
				47 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = SALONICA_CONQ
		}
	}
}

#Sardinia - annexation_SRD_CONQ
can_release_sardinia = {
	state = 114 #Cagliari
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = SRD
			has_country_flag = SRD_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Piedmont instead
			AND = {
				158 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
				}
			}
		}
	}
}

#Scotland - annexation_SCT_CONQ
can_release_scotland = {
	state = 121 #Lothian
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = SCT
			tag = ENG
			tag = GBR
			tag = GBP
			tag = CAN
			has_country_flag = SCT_CONQ
			country_exists = SCT
		}
		# Do English release first
		OR = {
			country_exists = ENG
			country_exists = GBR
			country_exists = GBP
			has_country_flag = ENG_CONQ
			NOT = {
				126 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		if = {
			limit = { tag = GER }
			OR = {
				NOT = { has_global_flag = GER_stay_out_france_uk }
				NOT = { country_exists = ENT }
				has_war_with = ENT
			}
		}
	}
}

#Serbia - annexation_SER_CONQ
can_release_serbia = {
	state = 107 #Belgrade
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = SER_CONQ
			country_exists = SER
		}
	}
}

#Slovakia - annexation_SVK_CONQ
can_release_slovakia = {
	state = 70 #Western Slovakia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = AUS
			has_country_flag = SVK_CONQ
			country_exists = SVK
		}
		# Do Austrian release first
		should_release_austria_first = yes
		# Do Hungarian release first
		OR = {
			country_exists = HUN
			has_country_flag = HUN_CONQ
			NOT = {
				43 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Czech release first
		OR = {
			country_exists = CZE
			has_country_flag = CZE_CONQ
			NOT = {
				9 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
	}
}

#Slovakia for Austria - annexation_SVK_AUS_CONQ
can_release_slovakia_austria = {
	state = 70 #Western Slovakia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		tag = AUS
		NOT = {
			country_exists = SVK
			has_completed_focus = AUS_status_quo
			has_completed_focus = AUS_embrace_pluralism
			has_completed_focus = AUS_military_occupation
			has_country_flag = AUS_slovakia_occupied
		}
	}
}

#Slovenia - annexation_SLO_CONQ
can_release_slovenia = {
	state = 102 #Slovenia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Croatian release first
		OR = {
			country_exists = CRO
			has_country_flag = CRO_CONQ
			NOT = {
				109 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Austrian release first
		OR = {
			country_exists = AUS
			has_country_flag = AUS_CONQ
			NOT = {
				4 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = SLO_CONQ
			country_exists = SLO
		}
	}
}

#Southern Italy - annexation_SIC_CONQ
can_release_southern_italy = {
	state = 117 #Naples
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			AND = {
				has_socialist_government = yes
				NOT = { country_exists = SRI }
			}
			AND = {
				has_socialist_government = no
				NOT = { country_exists = SIC }
			}
			ITA = { is_ally_of_ROOT = yes }
			SRI = { is_ally_of_ROOT = yes }
			SIC = { is_ally_of_ROOT = yes }
			SRD = { is_ally_of_ROOT = yes }
		}
		NOT = {
			tag = ITA
			tag = SRI
			tag = SIC
			has_country_flag = SIC_CONQ
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Spain - annexation_SPA_CONQ
can_release_spain = {
	state = 41 #Madrid
	is_claim_or_core_of_ROOT = no
	ROOT = {
		is_spanish_tag = no
		NOT = {
			tag = GLC
			tag = CAT
			tag = BAS
			has_country_flag = SPA_CONQ
			has_country_flag = SPRPOR_CONQ
			country_exists = SPR
			country_exists = CNT
			country_exists = CAR
		}
	}
}

#Sweden - annexation_SWE_CONQ
can_release_sweden = {
	state = 141 #Svealand
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = SWE_CONQ
			country_exists = SWE
		}
	}
}

#Switzerland - annexation_SWI_CONQ
can_release_switzerland = {
	state = 3 #Swiss Plateau
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = SWI_CONQ
			country_exists = SWI
		}
	}
}

#Transcapathia - annexation_SVK_TRCARP_CONQ
can_release_transcarpathia = {
	state = 73 #Transcarpathia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Hungarian release first
		OR = {
			country_exists = HUN
			has_country_flag = HUN_CONQ
			NOT = {
				43 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Czech release first
		OR = {
			country_exists = CZE
			has_country_flag = CZE_CONQ
			NOT = {
				9 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Slovakian release first
		OR = {
			country_exists = SVK
			has_country_flag = SVK_CONQ
			NOT = {
				70 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			tag = HUN
			tag = CZE
			tag = SVK
			tag = GAL
			AND = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
			HUN = { is_ally_of_ROOT = yes }
			GAL = { is_ally_of_ROOT = yes }
			SVK = { is_ally_of_ROOT = yes }
			CZE = {
				is_ally_of_ROOT = yes
				owns_state = 71
			}
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				owns_state = 154
			}
		}
		NOT = {
			has_country_flag = SVK_TRCARP_CONQ
		}
	}
}

#Transylvania - annexation_TRS_CONQ
can_release_transylvania = {
	state = 84 #Transylvania
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Austrian release first
		OR = {
			country_exists = AUS
			has_country_flag = AUS_CONQ
			NOT = {
				4 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Hungarian release first
		OR = {
			country_exists = HUN
			has_country_flag = HUN_CONQ
			NOT = {
				43 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Romanian release first
		OR = {
			country_exists = ROM
			has_country_flag = ROM_CONQ
			NOT = {
				46 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			tag = AUS
			has_country_flag = TRS_CONQ
			country_exists = TRS
		}
	}
}

#Transylvania for Austria - annexation_TRS_AUS_CONQ
can_release_transylvania_austria = {
	state = 84 #Transylvania
	is_claim_or_core_of_ROOT = no
	is_core_of = TRS
	ROOT = {
		tag = AUS
		NOT = {
			country_exists = TRS
			has_completed_focus = AUS_status_quo
			has_completed_focus = AUS_embrace_pluralism
			has_completed_focus = AUS_military_occupation
			has_country_flag = AUS_transylvania_occupied
		}
	}
}

#Thessaloniki - annexation_THESS_CONQ
can_release_thessaloniki = {
	state = 989 #Chalcidike
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Greek release first
		OR = {
			country_exists = GRE
			has_country_flag = GRE_CONQ
			NOT = {
				47 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Salonica release first
		OR = {
			has_country_flag = SALONICA_CONQ
			NOT = {
				731 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				769 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		OR = {
			tag = GRE
			tag = BUL
			BUL = {
				owns_state = 769
				ROOT_can_grant_land = yes
			}
			GRE = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = THESSA_CONQ
		}
	}
}

#Tuscany - annexation_TUS_CONQ
can_release_tuscany = {
	state = 142 #Tuscany
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			tag = ITA
			tag = SRI
			country_exists = TUS
			has_country_flag = TUS_CONQ
			has_country_flag = SIC_empire
			ITA = { has_country_leader = { ruling_only = yes name = "Pietro Ferdinando I" } }
			# should do Fate of Piedmont instead
			AND = {
				158 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
					AND = {
						tag = SIC
						owns_state = 838
						NOT = { has_country_flag = SIC_empire }
						controls_all_owned_states = yes
						SRD = {
							exists = yes
							is_subject = no
							NOT = { has_war_with = ROOT }
							controls_all_owned_states = yes
						}
					}
					AND = {
						is_faction_leader = yes
						has_socialist_government = no
						838 = {
							is_owned_and_controlled_by = ROOT
							is_claim_or_core_of_ROOT = no
						}
						SRD = {
							exists = yes
							is_subject = no
							NOT = { is_faction_leader = yes }
							controls_all_owned_states = yes
							has_socialist_government = no
							NOT = { has_war_with = ROOT }
							NOT = { has_country_flag = offered_piedmont_@ROOT }
						}
					}
				}
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Ukraine - annexation_UKR_CONQ
can_release_ukraine = {
	state = 202 #Kiev
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			has_country_flag = UKR_CONQ
			country_exists = UKR
		}
	}
}

#Venice - annexation_VNC_CONQ
can_release_venice = {
	state = 160 #Venetia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = VNC
			has_country_flag = VNC_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Lombardy instead
			AND = {
				NOT = { country_exists = LOM }
				159 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Vojvodina - annexation_VOJVODINA_CONQ
can_release_vojvodina = {
	OR = {
		state = 45 #Vojvodina
		state = 875 #West Banat
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# do Serbian release first
		OR = {
			country_exists = SER
			has_country_flag = SER_CONQ
			NOT = {
				107 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Croatian release first
		OR = {
			country_exists = CRO
			has_country_flag = CRO_CONQ
			NOT = {
				109 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Hungarian release first
		OR = {
			country_exists = HUN
			has_country_flag = HUN_CONQ
			NOT = {
				43 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Romanian release first
		OR = {
			country_exists = ROM
			has_country_flag = ROM_CONQ
			NOT = {
				46 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = VOJVODINA_CONQ
		}
	}
}

#Wales - annexation_WAL_CONQ
can_release_wales = {
	state = 122 #Wales
	is_claim_or_core_of_ROOT = no
	ROOT = {
		# Do English release first
		OR = {
			country_exists = ENG
			country_exists = GBR
			country_exists = GBP
			has_country_flag = ENG_CONQ
			NOT = {
				126 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			tag = ENG
			tag = GBR
			tag = GBP
			tag = CAN
			has_country_flag = WAL_CONQ
			country_exists = WAL
		}
		if = {
			limit = { tag = GER }
			OR = {
				NOT = { has_global_flag = GER_stay_out_france_uk }
				NOT = { country_exists = ENT }
				has_war_with = ENT
			}
		}
	}
}

#Wallonia - annexation_WLL_CONQ
can_release_wallonia = {
	state = 34 #Wallonia
	is_claim_or_core_of_ROOT = no
	ROOT = {
		NOT = {
			tag = FLN
			tag = FRA
			tag = LUX
			has_country_flag = WLL_CONQ
			has_country_flag = BEL_CONQ
			# Do Belgian release first
			owns_state = 6 #Flanders
		}
	}
}

#Western Thrace - annexation_THRACE_CONQ
can_release_western_thrace = {
	OR = {
		state = 184 #Western Thrace
		state = 1089 #Kardzhali
	}
	is_claim_or_core_of_ROOT = no
	ROOT = {
		OR = {
			tag = GRE
			tag = BUL
			tag = OTT
			tag = TUR
			GRE = {
				is_ally_of_ROOT = yes
				OR = {
					owns_state = 769
					owns_state = 184
				}
			}
			BUL = { is_ally_of_ROOT = yes }
			OTT = { is_ally_of_ROOT = yes }
			TUR = { is_ally_of_ROOT = yes }
			AND = {
				SER = { is_ally_of_ROOT = yes }
				1089 = { is_claimed_by = SER }
			}
		}
		# Do Bulgarian release first
		OR = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
			NOT = {
				48 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		# Do Greek release first
		OR = {
			country_exists = GRE
			has_country_flag = GRE_CONQ
			NOT = {
				47 = {
					is_owned_and_controlled_by = ROOT
					is_claim_or_core_of_ROOT = no
				}
			}
		}
		NOT = {
			has_country_flag = THRACE_CONQ
		}
	}
}

### SPECIAL TRIGGERS ###
should_release_austria_first = {
	OR = {
		country_exists = AUS
		has_country_flag = AUS_CONQ
		NOT = {
			4 = {
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}

should_release_germany_first = {
	OR = {
		country_exists = GER
		has_country_flag = GER_CONQ
		has_country_flag = WGR_CONQ
		has_country_flag = NGF_CONQ
		has_country_flag = BAY_CONQ
		has_country_flag = DDR_CONQ
		NOT = {
			64 = {
				is_owned_and_controlled_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
		}
	}
}
